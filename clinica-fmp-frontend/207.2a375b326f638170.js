"use strict";(self.webpackChunkclinica_fmp_frontend=self.webpackChunkclinica_fmp_frontend||[]).push([[207],{4207:(ti,O,u)=>{u.r(O),u.d(O,{ActividadesModule:()=>ei});var v=u(6895),Z=u(3599),l=u(433),f=u(7926),N=u(9861),J=u(5930),I=u(8372),S=u(1884),k=u(5226),c=u.n(k),e=u(1571),A=u(2340),Y=u(529);let P=(()=>{class n{constructor(t){this.http=t,this.apiCuraciones=`${A.N.api}/curaciones`,this.apiPaciente=`${A.N.api}/paciente`,this.apiMedico=`${A.N.api}/personal-salud`}listarParametros(t=2,i=0,a="id,asc",o="",s="",d=""){this.http.get(`${this.apiCuraciones}?fechaDesde=${s}&fechaHasta=${d}`,{params:{page:i,size:t,sort:a,filtro:o}}).subscribe({next:m=>{this.curaciones=m}})}agregar(t){return this.http.post(`${this.apiCuraciones}`,t)}eliminar(t){return this.http.delete(`${this.apiCuraciones}/${t}`)}editar(t,i){return this.http.put(`${this.apiCuraciones}/${t}`,i)}listarPaciente(){this.http.get(`${this.apiPaciente}/pacienteTrue`).subscribe({next:t=>{this.pacienteList=t}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var x=u(9061),E=u(1622),q=u(723);function M(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de inicio es requerida"),e.qZA())}function F(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,M,2,0,"div",49),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaDesde"))||null==i.errors?null:i.errors.required)}}function L(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de fin es requerida"),e.qZA())}function w(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,L,2,0,"div",49),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaHasta"))||null==i.errors?null:i.errors.required)}}function G(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"div")(2,"button",51),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=e.MAs(74);return e.KtG(a.openLg(o))}),e._UZ(3,"i",52),e.qZA()()()}}function z(n,r){1&n&&(e.TgZ(0,"th",39),e._uU(1,"Acciones"),e.qZA())}function H(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2),s=e.MAs(76);return e.KtG(o.openLgEditar(s,a))}),e._UZ(1,"i",58),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"editar":null)}}function $(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.eliminar(a.id))}),e._UZ(1,"i",60),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"eliminar":null)}}function R(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",54),e.YNc(10,H,2,1,"button",55),e.YNc(11,$,2,1,"button",56),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.pacienteDTO.nombre+" "+t.pacienteDTO.apellido),e.xp6(2),e.Oqu(i.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.curacionRealizada),e.xp6(2),e.Oqu(t.personalSaludDTO.nombre+" "+t.personalSaludDTO.apellido),e.xp6(2),e.Q6J("ngIf",i.isEditar||i.isAdmin),e.xp6(1),e.Q6J("ngIf",i.isEliminar||i.isAdmin)}}function B(n,r){if(1&n&&(e.ynx(0),e.YNc(1,R,12,6,"tr",53),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarCuraciones)}}function j(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",61),e._uU(2,"No existen registros disponibles"),e.qZA()())}function V(n,r){if(1&n&&(e.TgZ(0,"ng-option",86),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido+" "+t.due)}}function W(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function K(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,W,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPaciente"))||null==i.errors?null:i.errors.required)}}function X(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"div",70),e._UZ(2,"label",88),e.TgZ(3,"button",89),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openViewPaciente())}),e._UZ(4,"i",90),e.qZA()()()}}function ee(n,r){if(1&n&&(e.TgZ(0,"ng-option",86),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function ie(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,te,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",87)(1,"div",70),e._UZ(2,"label",88),e.TgZ(3,"button",89),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openViewPersonal())}),e._UZ(4,"i",90),e.qZA()()()}}function ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La curacion realizada es requerido "),e.qZA())}function re(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function oe(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,ae,2,0,"div",49),e.YNc(2,re,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("curacionRealizada"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("curacionRealizada"))||null==a.errors?null:a.errors.minlength)}}const C=function(n,r){return{"is-invalid":n,"is-valid":r}};function le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"h4",63),e._uU(2,"Agregar Curaci\xf3n"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",65),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.guardar())}),e.TgZ(5,"div",66)(6,"div",67)(7,"div",68)(8,"div",69)(9,"div",70)(10,"label",71),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",72),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",73),e.YNc(15,V,2,2,"ng-option",74),e.qZA(),e.YNc(16,K,2,1,"div",21),e.qZA()(),e.YNc(17,X,5,0,"div",75),e.TgZ(18,"div",69)(19,"div",70)(20,"label",76),e._uU(21,"Personal de Salud"),e.qZA(),e.TgZ(22,"span",72),e._uU(23," *"),e.qZA(),e.TgZ(24,"ng-select",77),e.YNc(25,ee,2,3,"ng-option",74),e.qZA(),e.YNc(26,ie,2,1,"div",21),e.qZA()(),e.YNc(27,ne,5,0,"div",75),e.qZA(),e.TgZ(28,"div",68)(29,"div",78)(30,"div",70)(31,"label",79),e._uU(32,"Curaci\xf3n"),e.qZA(),e.TgZ(33,"span",72),e._uU(34," *"),e.qZA(),e._UZ(35,"input",80),e.YNc(36,oe,3,2,"div",21),e.qZA()(),e.TgZ(37,"div",78)(38,"div",70)(39,"label",81),e._uU(40,"Fecha"),e.qZA(),e.TgZ(41,"span",72),e._uU(42," *"),e.qZA(),e._UZ(43,"input",82),e.qZA()()()()(),e.TgZ(44,"div",83)(45,"button",84),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(46,"Cerrar"),e.qZA(),e.TgZ(47,"button",85),e._uU(48,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o,s,d,m,_;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(13,C,t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPaciente"))?null:a.errors),e.xp6(1),e.Q6J("ngIf",t.isCrear2||t.isAdmin),e.xp6(7),e.Q6J("ngClass",e.WLB(16,C,t.seGuardo&&(null==(o=t.form.get("idPersonalSalud"))?null:o.errors),t.seGuardo&&(null==(o=t.form.get("idPersonalSalud"))?null:o.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(s=t.form.get("idPersonalSalud"))?null:s.errors),e.xp6(1),e.Q6J("ngIf",t.isCrear3||t.isAdmin),e.xp6(8),e.Q6J("ngClass",e.WLB(19,C,t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.valid))),e.xp6(1),e.Q6J("ngIf",null==(m=t.form.get("curacionRealizada"))?null:m.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(22,C,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid)))}}function se(n,r){if(1&n&&(e.TgZ(0,"ng-option",86),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido+" "+t.due)}}function ce(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function de(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,ce,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPaciente"))||null==i.errors?null:i.errors.required)}}function ue(n,r){if(1&n&&(e.TgZ(0,"div",70)(1,"label",71),e._uU(2,"Paciente"),e.qZA(),e.TgZ(3,"span",72),e._uU(4," *"),e.qZA(),e.TgZ(5,"ng-select",73),e.YNc(6,se,2,2,"ng-option",74),e.qZA(),e.YNc(7,de,2,1,"div",21),e.qZA()),2&n){const t=e.oxw(2);let i,a;e.xp6(5),e.Q6J("ngClass",e.WLB(3,C,t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPaciente"))?null:a.errors)}}function me(n,r){if(1&n&&(e.TgZ(0,"ng-option",86),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function _e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function pe(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,_e,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function ge(n,r){if(1&n&&(e.TgZ(0,"div",78)(1,"div",70)(2,"label",76),e._uU(3,"Personal de Salud"),e.qZA(),e.TgZ(4,"span",72),e._uU(5," *"),e.qZA(),e.TgZ(6,"ng-select",77),e.YNc(7,me,2,3,"ng-option",74),e.qZA(),e.YNc(8,pe,2,1,"div",21),e.qZA()()),2&n){const t=e.oxw(2);let i,a;e.xp6(6),e.Q6J("ngClass",e.WLB(3,C,t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPersonalSalud"))?null:a.errors)}}function fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La curacion realizada es requerido "),e.qZA())}function ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function he(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,fe,2,0,"div",49),e.YNc(2,ve,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("curacionRealizada"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("curacionRealizada"))||null==a.errors?null:a.errors.minlength)}}function be(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"h4",63),e._uU(2,"Editar Curaci\xf3n"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",65),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editar())}),e.TgZ(5,"div",66)(6,"div",67)(7,"div",68)(8,"div",78),e.YNc(9,ue,8,6,"div",91),e.qZA(),e.YNc(10,ge,9,6,"div",92),e.qZA(),e.TgZ(11,"div",68)(12,"div",78)(13,"div",70)(14,"label",79),e._uU(15,"Curaci\xf3n"),e.qZA(),e.TgZ(16,"span",72),e._uU(17," *"),e.qZA(),e._UZ(18,"input",93),e.YNc(19,he,3,2,"div",21),e.qZA()(),e.TgZ(20,"div",78)(21,"div",70)(22,"label",81),e._uU(23,"Fecha"),e.qZA(),e.TgZ(24,"span",72),e._uU(25," *"),e.qZA(),e._UZ(26,"input",82),e.qZA()()()()(),e.TgZ(27,"div",83)(28,"button",84),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(29,"Cerrar"),e.qZA(),e.TgZ(30,"button",85),e._uU(31,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(5),e.Q6J("ngIf",t.paciente),e.xp6(1),e.Q6J("ngIf",t.personal),e.xp6(8),e.Q6J("ngClass",e.WLB(7,C,t.seGuardo&&(null==(i=t.form.get("curacionRealizada"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("curacionRealizada"))?null:i.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("curacionRealizada"))?null:a.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(10,C,t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.errors),t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.valid)))}}let Ze=(()=>{class n{constructor(t,i,a,o,s){this.curacionesService=t,this.modalService=i,this.fb=a,this.tokenService=o,this.router=s,this.seGuardo=!1,this.paciente=!0,this.personal=!0,this.pageList=f.Hj,this.maxSize=f.$,this.page=f.Md,this.size=f.dp,this.sort="id,asc",this.months=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],this.isVer=!1,this.isCrear=!1,this.isCrear2=!1,this.isCrear3=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.form2=this.fb.group({fechaDesde:["",[l.kI.required]],fechaHasta:["",[l.kI.required]],year:["",[]],month:["",[]]}),this.configurarFechaInicial(),this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({fecha:[,[l.kI.required]],curacionRealizada:["",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(100)]],idPaciente:["",[l.kI.required]],idPersonalSalud:["",[l.kI.required]]})}openViewPaciente(){this.modalService.dismissAll(),this.router.navigate(["/paciente/estudiante"])}openViewPersonal(){this.modalService.dismissAll(),this.router.navigate(["/personal"])}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("CURACIONES_","VER"),this.isCrear=this.tokenService.isPermisos("CURACIONES_","CREAR"),this.isEditar=this.tokenService.isPermisos("CURACIONES_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("CURACIONES_","ELIMINAR"),this.isCrear2=this.tokenService.isPermisos("PACIENTES_","CREAR"),this.isCrear3=this.tokenService.isPermisos("PERSONAL_","CREAR"),this.buscar.get("filter")?.valueChanges.pipe((0,I.b)(100),(0,S.x)()).subscribe(t=>{this.curacionesService.listarParametros(this.size,this.page-1,this.sort,t,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}),this.form2.get("year")?.valueChanges.pipe((0,I.b)(500),(0,S.x)()).subscribe(()=>{this.configurarFecha()}),this.form2.get("month")?.valueChanges.subscribe(()=>{this.configurarFecha()}),this.curacionesService.listarPaciente(),this.curacionesService.listarMedico()}get listarCuraciones(){return this.curacionesService.curaciones?this.curacionesService.curaciones.content:[]}get listarTotal(){return this.curacionesService.curaciones?this.curacionesService.curaciones.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get listarPaciente(){return this.curacionesService.pacienteList?this.curacionesService.pacienteList.content:[]}get listarMedico(){return this.curacionesService.medicoList?this.curacionesService.medicoList:[]}configurarFechaInicial(){const t=this.formatDate(),i=t.startOf("month"),a=t.endOf("month");this.form2.patchValue({fechaDesde:i.format("YYYY-MM-DD"),fechaHasta:a.format("YYYY-MM-DD"),year:t.format("YYYY"),month:t.format("MM")})}configurarFecha(){const t=this.form2.get("year")?.value,i=this.form2.get("month")?.value,a=this.formatDate(`${t}-${i}-01`),o=a.endOf("month");!a.isValid()||!a.isValid()||this.form2.patchValue({fechaDesde:a.format("YYYY-MM-DD"),fechaHasta:o.format("YYYY-MM-DD")})}eliminar(t){c().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.curacionesService.eliminar(t).subscribe({next:a=>{a&&this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)},error:a=>{c().fire({position:"center",title:"Error",text:a.error.mensaje,icon:"error"})}}),c().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}openLgEditar(t,i){this.curaciones=i,this.paciente=this.curaciones.pacienteDTO.estado,this.personal=this.curaciones.personalSaludDTO.estado,this.form.patchValue({curacionRealizada:this.curaciones.curacionRealizada,fecha:this.curaciones.fecha,idPaciente:this.curaciones.pacienteDTO.id,idPersonalSalud:this.curaciones.personalSaludDTO.id}),this.modalService.open(t,{size:"lg"})}editar(){this.seGuardo=!0,this.form.valid?this.curacionesService.editar(this.curaciones.id,this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:i=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:i.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}refreshSize(){this.page=0,this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}refresh(){this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.curacionesService.agregar(this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}getFormattedDate(t){return t.toISOString().split("T")[0]}get formatDate(){return N.Z}val(){return this.getFormattedDate(new Date)}enviar(){this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}iniciarAyuda(){const t=[(this.isCrear||this.isAdmin)&&{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear un nuevo registro para una curaci\xf3n",side:"left",align:"start"}},{element:"#filtros",popover:{title:"Filtros por fechas especificas",description:"Aqu\xed puedes establecer detalladamente que rango de tiempo desees, segun registro de la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#lupa",popover:{title:"Debes presionar aqui",description:"Para poder filtrar las fechas establecidas y mostrar la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},{element:"#buscar",popover:{title:"Filtrar registros",description:"Aqu\xed puedes filtrar la informaci\xf3n",side:"top",align:"start"}},(this.isEditar||this.isAdmin)&&this.listarCuraciones.length>0&&{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},(this.isEliminar||this.isAdmin)&&this.listarCuraciones.length>0&&{element:"#eliminar",popover:{title:"Eliminar un registro",description:"Aqu\xed puedes eliminar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(a=>a);(0,J.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P),e.Y36(x.FF),e.Y36(l.qu),e.Y36(E.B),e.Y36(Z.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-curaciones"]],decls:77,vars:20,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"d-flex","align-items-center"],[1,"fs-2"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mt-3",3,"formGroup"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between","mb-3"],["id","filtros",1,"d-flex","flex-column","gap-2","flex-lg-row","align-items-center"],[1,"w-100","mb-3"],["for","year",1,"form-label"],["type","number","formControlName","year","id","year",1,"form-control"],["for","month",1,"form-label"],["id","pageSize","formControlName","month","bindLabel","label","bindValue","value",3,"items","clearable"],["for","fechaDesde",1,"form-label"],["type","date","formControlName","fechaDesde","id","fechaDesde",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","fechaHasta",1,"form-label"],["type","date","formControlName","fechaHasta","id","fechaHasta",1,"form-control"],[1,"d-flex","gap-2","align-items-center","justify-content-center"],["type","submit","id","lupa",1,"btn","btn-primary",3,"click"],[1,"bi","bi-search"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],["id","cantidad",1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","bindLabel","value","bindValue","value",3,"items","ngModel","clearable","ngModelChange"],["for","pageSize",1,"col-form-label","ms-2"],[3,"formGroup"],["id","buscar",1,"d-flex","align-items-center","mb-3"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-2"],[1,"table"],[1,"border-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center"],["type","button","id","nuevoRegistro",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-1",2,"min-height","40px"],["type","button","class","btn btn-outline-success me-2",3,"id","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"id","click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-11","col-lg-5"],[1,"mb-3"],["for","idPaciente",1,"form-label"],[1,"text-danger"],["formControlName","idPaciente","placeholder","Seleccione","id","idPaciente",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-1 col-lg-1",4,"ngIf"],["for","idPersonalSalud",1,"form-label"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],[1,"col-12","col-lg-6"],["for","curacionRealizada",1,"form-label"],["type","text","autocomplete","off","formControlName","curacionRealizada","id","curacionRealizada","placeholder","Ingrese la curacion realizada",1,"form-control",3,"ngClass"],["for","fecha ",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"max","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"col-1","col-lg-1"],["for","id",1,"form-label"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-arrow-up-right"],["class","mb-3",4,"ngIf"],["class","col-12 col-lg-6",4,"ngIf"],["type","text","autocomplete","off","formControlName","curacionRealizada","id","curacionRealizada","placeholder","Ingrese la curaci\xf3n realizada",1,"form-control",3,"ngClass"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Curaciones"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.iniciarAyuda()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"nav",6)(8,"ol",7)(9,"li",8)(10,"a",9),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",10),e._uU(13,"Curaciones"),e.qZA()()()(),e.TgZ(14,"form",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),e._uU(19,"A\xf1o"),e.qZA(),e._UZ(20,"input",16),e.qZA(),e.TgZ(21,"div",14)(22,"label",17),e._uU(23,"Mes"),e.qZA(),e._UZ(24,"ng-select",18),e.qZA(),e.TgZ(25,"div",14)(26,"label",19),e._uU(27,"Fecha inicio"),e.qZA(),e._UZ(28,"input",20),e.YNc(29,F,2,1,"div",21),e.qZA(),e.TgZ(30,"div",14)(31,"label",22),e._uU(32,"Fecha fin"),e.qZA(),e._UZ(33,"input",23),e.YNc(34,w,2,1,"div",21),e.qZA()(),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return i.enviar()}),e._UZ(37,"i",26),e.qZA(),e.YNc(38,G,4,0,"div",27),e.qZA()()(),e.TgZ(39,"div",12)(40,"div",28)(41,"label",29),e._uU(42,"Mostrar:"),e.qZA(),e.TgZ(43,"ng-select",30),e.NdJ("ngModelChange",function(o){return i.size=o})("ngModelChange",function(){return i.refreshSize()}),e.qZA(),e.TgZ(44,"label",31),e._uU(45,"registros"),e.qZA()(),e.TgZ(46,"form",32)(47,"div",33)(48,"label",34),e._uU(49,"Buscar:"),e.qZA(),e._UZ(50,"input",35),e.qZA()()(),e.TgZ(51,"div",36)(52,"table",37)(53,"thead")(54,"tr",38)(55,"th",39),e._uU(56,"Nombre Paciente"),e.qZA(),e.TgZ(57,"th",39),e._uU(58,"Fecha"),e.qZA(),e.TgZ(59,"th",39),e._uU(60,"Curaci\xf3n"),e.qZA(),e.TgZ(61,"th",39),e._uU(62,"Personal de Salud"),e.qZA(),e.YNc(63,z,2,0,"th",40),e.qZA()(),e.TgZ(64,"tbody"),e.YNc(65,B,2,1,"ng-container",41),e.YNc(66,j,3,0,"ng-template",null,42,e.W1O),e.qZA()(),e.TgZ(68,"div",43)(69,"div")(70,"p",44),e._uU(71),e.qZA()(),e.TgZ(72,"ngb-pagination",45),e.NdJ("pageChange",function(o){return i.page=o})("pageChange",function(){return i.refresh()}),e.qZA()()()(),e.YNc(73,le,49,25,"ng-template",null,46,e.W1O),e.YNc(75,be,32,13,"ng-template",null,47,e.W1O)),2&t){const a=e.MAs(67);let o,s;e.xp6(14),e.Q6J("formGroup",i.form2),e.xp6(10),e.Q6J("items",i.months)("clearable",!1),e.xp6(5),e.Q6J("ngIf",null==(o=i.form.get("fechaDesde"))?null:o.errors),e.xp6(5),e.Q6J("ngIf",null==(s=i.form.get("fechaHasta"))?null:s.errors),e.xp6(4),e.Q6J("ngIf",i.isCrear||i.isAdmin),e.xp6(5),e.Q6J("items",i.pageList)("ngModel",i.size)("clearable",!1),e.xp6(3),e.Q6J("formGroup",i.buscar),e.xp6(17),e.Q6J("ngIf",i.isEditar||i.isEliminar),e.xp6(2),e.Q6J("ngIf",i.listarCuraciones.length>0)("ngIfElse",a),e.xp6(6),e.hij("Total de registros: ",i.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",i.listarTotal)("page",i.page)("pageSize",i.size)("maxSize",i.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[v.mk,v.sg,v.O5,Z.yS,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.sg,l.u,x.N9,q.w9,q.jq]}),n})(),Ae=(()=>{class n{constructor(t){this.http=t,this.apiInyectable=`${A.N.api}/inyectable`,this.apiPaciente=`${A.N.api}/paciente`,this.apiMedico=`${A.N.api}/personal-salud`}listar(){this.http.get(`${this.apiInyectable}`).subscribe({next:t=>{this.inyectableList=t}})}agregar(t){return this.http.post(`${this.apiInyectable}`,t)}eliminar(t){return this.http.delete(`${this.apiInyectable}/${t}`)}listarPaciente(){this.http.get(`${this.apiPaciente}/pacienteTrue`).subscribe({next:t=>{this.pacienteList=t}})}listarParametros(t=2,i=0,a="id,asc",o="",s="",d=""){this.http.get(`${this.apiInyectable}?fechaDesde=${s}&fechaHasta=${d}`,{params:{page:i,size:t,sort:a,filtro:o}}).subscribe({next:m=>{this.inyectableList=m}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}editar(t,i){return this.http.put(`${this.apiInyectable}/${t}`,i)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de inicio es requerida"),e.qZA())}function Ce(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,xe,2,0,"div",49),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaDesde"))||null==i.errors?null:i.errors.required)}}function Te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de fin es requerida"),e.qZA())}function qe(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Te,2,0,"div",49),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaHasta"))||null==i.errors?null:i.errors.required)}}function Ie(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"div")(2,"button",51),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=e.MAs(76);return e.KtG(a.openLg(o))}),e._UZ(3,"i",52),e.qZA()()()}}function Se(n,r){1&n&&(e.TgZ(0,"th",39),e._uU(1,"Acciones"),e.qZA())}function ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2),s=e.MAs(78);return e.KtG(o.openLgEditar(s,a))}),e._UZ(1,"i",58),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"editar":null)}}function Ue(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",59),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.eliminar(a.id))}),e._UZ(1,"i",60),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"eliminar":null)}}function Ne(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",54),e.YNc(12,ye,2,1,"button",55),e.YNc(13,Ue,2,1,"button",56),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.pacienteDTO.nombre+" "+t.pacienteDTO.apellido),e.xp6(2),e.Oqu(i.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.medicamento),e.xp6(2),e.Oqu(t.jeringa),e.xp6(2),e.Oqu(t.personalSaludDTO.nombre+" "+t.personalSaludDTO.apellido),e.xp6(2),e.Q6J("ngIf",i.isEditar||i.isAdmin),e.xp6(1),e.Q6J("ngIf",i.isEliminar||i.isAdmin)}}function Je(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ne,14,7,"tr",53),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarInyectable)}}function Ye(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",61),e._uU(2,"No existen registros disponibles"),e.qZA()())}function Ee(n,r){if(1&n&&(e.TgZ(0,"ng-option",93),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido+" "+t.due)}}function Qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function Oe(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Qe,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPaciente"))||null==i.errors?null:i.errors.required)}}function De(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"div",70),e._UZ(2,"label",95),e.TgZ(3,"button",96),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openViewPaciente())}),e._UZ(4,"i",97),e.qZA()()()}}function ke(n,r){if(1&n&&(e.TgZ(0,"ng-option",93),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function Pe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function Me(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Pe,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function Fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",94)(1,"div",70),e._UZ(2,"label",95),e.TgZ(3,"button",96),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openViewPersonal())}),e._UZ(4,"i",97),e.qZA()()()}}function Le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Tipo de jeringa es requerida"),e.qZA())}function we(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Le,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("jeringa"))||null==i.errors?null:i.errors.required)}}function Ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medicamento es requerido"),e.qZA())}function ze(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El medicamento no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function He(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ge,2,0,"div",49),e.YNc(2,ze,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("medicamento"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("medicamento"))||null==a.errors?null:a.errors.minlength)}}const h=function(n,r){return{"is-invalid":n,"is-valid":r}};function $e(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"h4",63),e._uU(2,"Agregar Inyectable"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",65),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.guardar())}),e.TgZ(5,"div",66)(6,"div",67)(7,"div",68)(8,"div",69)(9,"div",70)(10,"label",71),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",72),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",73),e.YNc(15,Ee,2,2,"ng-option",74),e.qZA(),e.YNc(16,Oe,2,1,"div",21),e.qZA()(),e.YNc(17,De,5,0,"div",75),e.TgZ(18,"div",69)(19,"div",70)(20,"label",76),e._uU(21,"Personal de Salud"),e.qZA(),e.TgZ(22,"span",72),e._uU(23," *"),e.qZA(),e.TgZ(24,"ng-select",77),e.YNc(25,ke,2,3,"ng-option",74),e.qZA(),e.YNc(26,Me,2,1,"div",21),e.qZA()(),e.YNc(27,Fe,5,0,"div",75),e.qZA(),e.TgZ(28,"div",68)(29,"div",78)(30,"div",70)(31,"label",79),e._uU(32,"Jeringa"),e.qZA(),e.TgZ(33,"span",72),e._uU(34," *"),e.qZA(),e.TgZ(35,"ng-select",80)(36,"ng-option",81),e._uU(37,"1 ml"),e.qZA(),e.TgZ(38,"ng-option",82),e._uU(39,"3 ml"),e.qZA(),e.TgZ(40,"ng-option",83),e._uU(41,"5 ml"),e.qZA(),e.TgZ(42,"ng-option",84),e._uU(43,"10 ml"),e.qZA(),e.TgZ(44,"ng-option",85),e._uU(45,"20 ml"),e.qZA()(),e.YNc(46,we,2,1,"div",21),e.qZA()(),e.TgZ(47,"div",78)(48,"div",70)(49,"label",86),e._uU(50,"Fecha"),e.qZA(),e.TgZ(51,"span",72),e._uU(52," *"),e.qZA(),e._UZ(53,"input",87),e.qZA()()(),e.TgZ(54,"div",68)(55,"div",78)(56,"div",70)(57,"label",88),e._uU(58,"Medicamento"),e.qZA(),e.TgZ(59,"span",72),e._uU(60," *"),e.qZA(),e._UZ(61,"input",89),e.YNc(62,He,3,2,"div",21),e.qZA()()()()(),e.TgZ(63,"div",90)(64,"button",91),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(65,"Cerrar"),e.qZA(),e.TgZ(66,"button",92),e._uU(67,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o,s,d,m,_,g,T;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(15,h,t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPaciente"))?null:a.errors),e.xp6(1),e.Q6J("ngIf",t.isCrear2||t.isAdmin),e.xp6(7),e.Q6J("ngClass",e.WLB(18,h,t.seGuardo&&(null==(o=t.form.get("idPersonalSalud"))?null:o.errors),t.seGuardo&&(null==(o=t.form.get("idPersonalSalud"))?null:o.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(s=t.form.get("idPersonalSalud"))?null:s.errors),e.xp6(1),e.Q6J("ngIf",t.isCrear3||t.isAdmin),e.xp6(8),e.Q6J("ngClass",e.WLB(21,h,t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.valid))),e.xp6(11),e.Q6J("ngIf",null==(m=t.form.get("jeringa"))?null:m.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(24,h,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid))),e.xp6(8),e.Q6J("ngClass",e.WLB(27,h,t.seGuardo&&(null==(g=t.form.get("medicamento"))?null:g.errors),t.seGuardo&&(null==(g=t.form.get("medicamento"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(T=t.form.get("medicamento"))?null:T.errors)}}function Re(n,r){if(1&n&&(e.TgZ(0,"ng-option",93),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido+" "+t.due)}}function Be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function je(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Be,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPaciente"))||null==i.errors?null:i.errors.required)}}function Ve(n,r){if(1&n&&(e.TgZ(0,"div",78)(1,"div",70)(2,"label",71),e._uU(3,"Paciente"),e.qZA(),e.TgZ(4,"span",72),e._uU(5," *"),e.qZA(),e.TgZ(6,"ng-select",73),e.YNc(7,Re,2,2,"ng-option",74),e.qZA(),e.YNc(8,je,2,1,"div",21),e.qZA()()),2&n){const t=e.oxw(2);let i,a;e.xp6(6),e.Q6J("ngClass",e.WLB(3,h,t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPaciente"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPaciente"))?null:a.errors)}}function We(n,r){if(1&n&&(e.TgZ(0,"ng-option",93),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function Ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function Xe(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ke,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function et(n,r){if(1&n&&(e.TgZ(0,"div",100)(1,"div",70)(2,"label",76),e._uU(3,"Personal de Salud"),e.qZA(),e.TgZ(4,"span",72),e._uU(5," *"),e.qZA(),e.TgZ(6,"ng-select",77),e.YNc(7,We,2,3,"ng-option",74),e.qZA(),e.YNc(8,Xe,2,1,"div",21),e.qZA()()),2&n){const t=e.oxw(2);let i,a;e.xp6(6),e.Q6J("ngClass",e.WLB(3,h,t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPersonalSalud"))?null:a.errors)}}function tt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"Tipo de jeringa es requerida"),e.qZA())}function it(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,tt,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("jeringa"))||null==i.errors?null:i.errors.required)}}function nt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medicamento es requerido"),e.qZA())}function at(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El medicamento no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function rt(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,nt,2,0,"div",49),e.YNc(2,at,2,0,"div",49),e.qZA()),2&n){const t=e.oxw(2);let i,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("medicamento"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("medicamento"))||null==a.errors?null:a.errors.minlength)}}function ot(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",62)(1,"h4",63),e._uU(2,"Editar Inyectable"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",65),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editar())}),e.TgZ(5,"div",66)(6,"div",67)(7,"div",68),e.YNc(8,Ve,9,6,"div",98),e.YNc(9,et,9,6,"div",99),e.qZA(),e.TgZ(10,"div",68)(11,"div",78)(12,"div",70)(13,"label",79),e._uU(14,"Jeringa"),e.qZA(),e.TgZ(15,"span",72),e._uU(16," *"),e.qZA(),e.TgZ(17,"ng-select",80)(18,"ng-option",81),e._uU(19,"1 ml"),e.qZA(),e.TgZ(20,"ng-option",82),e._uU(21,"3 ml"),e.qZA(),e.TgZ(22,"ng-option",83),e._uU(23,"5 ml"),e.qZA(),e.TgZ(24,"ng-option",84),e._uU(25,"10 ml"),e.qZA(),e.TgZ(26,"ng-option",85),e._uU(27,"20 ml"),e.qZA()(),e.YNc(28,it,2,1,"div",21),e.qZA()(),e.TgZ(29,"div",78)(30,"div",70)(31,"label",86),e._uU(32,"Fecha"),e.qZA(),e.TgZ(33,"span",72),e._uU(34," *"),e.qZA(),e._UZ(35,"input",87),e.qZA()()(),e.TgZ(36,"div",68)(37,"div",78)(38,"div",70)(39,"label",88),e._uU(40,"Medicamento"),e.qZA(),e.TgZ(41,"span",72),e._uU(42," *"),e.qZA(),e._UZ(43,"input",89),e.YNc(44,rt,3,2,"div",21),e.qZA()()()()(),e.TgZ(45,"div",90)(46,"button",91),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(47,"Cerrar"),e.qZA(),e.TgZ(48,"button",92),e._uU(49,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o,s,d;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("ngIf",t.paciente),e.xp6(1),e.Q6J("ngIf",t.personal),e.xp6(8),e.Q6J("ngClass",e.WLB(9,h,t.seGuardo&&(null==(i=t.form.get("jeringa"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("jeringa"))?null:i.valid))),e.xp6(11),e.Q6J("ngIf",null==(a=t.form.get("jeringa"))?null:a.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(12,h,t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.errors),t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.valid))),e.xp6(8),e.Q6J("ngClass",e.WLB(15,h,t.seGuardo&&(null==(s=t.form.get("medicamento"))?null:s.errors),t.seGuardo&&(null==(s=t.form.get("medicamento"))?null:s.valid))),e.xp6(1),e.Q6J("ngIf",null==(d=t.form.get("medicamento"))?null:d.errors)}}let lt=(()=>{class n{constructor(t,i,a,o,s){this.inyectableService=t,this.modalService=i,this.fb=a,this.tokenService=o,this.router=s,this.seGuardo=!1,this.paciente=!0,this.personal=!0,this.pageList=f.Hj,this.maxSize=f.$,this.page=f.Md,this.size=f.dp,this.sort="id,asc",this.months=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.isCrear2=!1,this.isCrear3=!1,this.form2=this.fb.group({fechaDesde:["",[l.kI.required]],fechaHasta:["",[l.kI.required]],year:["",[]],month:["",[]]}),this.configurarFechaInicial()}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("INYECCIONES_","VER"),this.isCrear=this.tokenService.isPermisos("INYECCIONES_","CREAR"),this.isEditar=this.tokenService.isPermisos("INYECCIONES_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("INYECCIONES_","ELIMINAR"),this.isCrear2=this.tokenService.isPermisos("PACIENTES_","CREAR"),this.isCrear3=this.tokenService.isPermisos("PERSONAL_","CREAR"),this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({fecha:["",[l.kI.required]],medicamento:["",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(100)]],jeringa:["",[l.kI.required]],idPaciente:["",[l.kI.required]],idPersonalSalud:["",[l.kI.required]]}),this.buscar.get("filter")?.valueChanges.pipe((0,I.b)(100),(0,S.x)()).subscribe(t=>{this.inyectableService.listarParametros(this.size,this.page-1,this.sort,t,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}),this.form2.get("year")?.valueChanges.pipe((0,I.b)(500),(0,S.x)()).subscribe(()=>{this.configurarFecha()}),this.form2.get("month")?.valueChanges.subscribe(()=>{this.configurarFecha()}),this.inyectableService.listarPaciente(),this.inyectableService.listarMedico()}get listarCuraciones(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.content:[]}get listarTotal(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get listarInyectable(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.content:[]}get listarPaciente(){return this.inyectableService.pacienteList?this.inyectableService.pacienteList.content:[]}get listarMedico(){return this.inyectableService.medicoList?this.inyectableService.medicoList:[]}eliminar(t){c().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.inyectableService.eliminar(t).subscribe({next:a=>{a&&this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)},error:a=>{c().fire({position:"center",title:"Error",text:a.error.mensaje,icon:"error"})}}),c().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}refreshSize(){this.page=0,this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}refresh(){this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}openLgEditar(t,i){this.inyectable=i,this.paciente=this.inyectable.pacienteDTO.estado,this.personal=this.inyectable.personalSaludDTO.estado,this.form.patchValue({medicamento:this.inyectable.medicamento,jeringa:this.inyectable.jeringa,fecha:this.inyectable.fecha,idPaciente:this.inyectable.pacienteDTO.id,idPersonalSalud:this.inyectable.personalSaludDTO.id}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.inyectableService.agregar(this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}editar(){this.seGuardo=!0,this.form.valid?this.inyectableService.editar(this.inyectable.id,this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:i=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:i.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}getFormattedDate(t){return t.toISOString().split("T")[0]}get formatDate(){return N.Z}val(){return this.getFormattedDate(new Date)}enviar(){this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}configurarFechaInicial(){const t=this.formatDate(),i=t.startOf("month"),a=t.endOf("month");this.form2.patchValue({fechaDesde:i.format("YYYY-MM-DD"),fechaHasta:a.format("YYYY-MM-DD"),year:t.format("YYYY"),month:t.format("MM")})}configurarFecha(){const t=this.form2.get("year")?.value,i=this.form2.get("month")?.value,a=this.formatDate(`${t}-${i}-01`),o=a.endOf("month");!a.isValid()||!a.isValid()||this.form2.patchValue({fechaDesde:a.format("YYYY-MM-DD"),fechaHasta:o.format("YYYY-MM-DD")})}openViewPaciente(){this.modalService.dismissAll(),this.router.navigate(["/paciente/estudiante"])}openViewPersonal(){this.modalService.dismissAll(),this.router.navigate(["/personal"])}iniciarAyuda(){const t=[(this.isCrear||this.isAdmin)&&{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear un nuevo registro para un inyectable.",side:"left",align:"start"}},{element:"#filtros",popover:{title:"Filtros por fechas especificas",description:"Aqu\xed puedes establecer detalladamente que rango de tiempo desees, segun registro de la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#lupa",popover:{title:"Debes presionar aqui",description:"Para poder filtrar las fechas establecidas y mostrar la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},{element:"#buscar",popover:{title:"Filtrar registros",description:"Aqu\xed puedes filtrar la informaci\xf3n",side:"top",align:"start"}},(this.isEditar||this.isAdmin)&&this.listarCuraciones.length>0&&{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},(this.isEliminar||this.isAdmin)&&this.listarCuraciones.length>0&&{element:"#eliminar",popover:{title:"Eliminar un registro",description:"Aqu\xed puedes eliminar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(a=>a);(0,J.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ae),e.Y36(x.FF),e.Y36(l.qu),e.Y36(E.B),e.Y36(Z.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-inyectable"]],decls:79,vars:20,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"d-flex","align-items-center"],[1,"fs-2"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mt-3",3,"formGroup"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between","mb-3"],["id","filtros",1,"d-flex","flex-column","gap-2","flex-lg-row","align-items-center"],[1,"w-100","mb-3"],["for","year",1,"form-label"],["type","number","formControlName","year","id","year",1,"form-control"],["for","month",1,"form-label"],["id","pageSize","formControlName","month","bindLabel","label","bindValue","value",3,"items","clearable"],["for","fechaDesde",1,"form-label"],["type","date","formControlName","fechaDesde","id","fechaDesde",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","fechaHasta",1,"form-label"],["type","date","formControlName","fechaHasta","id","fechaHasta",1,"form-control"],[1,"d-flex","gap-2","align-items-center","justify-content-center"],["type","submit","id","lupa",1,"btn","btn-primary",3,"click"],[1,"bi","bi-search"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],["id","cantidad",1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","bindLabel","value","bindValue","value",3,"items","ngModel","clearable","ngModelChange"],["for","pageSize",1,"col-form-label","ms-2"],[3,"formGroup"],["id","buscar",1,"d-flex","align-items-center","mb-3"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-2"],[1,"table"],[1,"border-dark"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center"],["type","button","id","nuevoRegistro",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],[1,"d-flex","gap-1",2,"min-height","40px"],["type","button","class","btn btn-outline-success me-2",3,"id","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"id","click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-11","col-lg-5"],[1,"mb-3"],["for","idPaciente",1,"form-label"],[1,"text-danger"],["formControlName","idPaciente","placeholder","Seleccione","id","idPaciente",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-1 col-lg-1",4,"ngIf"],["for","idPersonalSalud",1,"form-label"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],[1,"col-12","col-lg-6"],["for","jeringa",1,"form-label"],["formControlName","jeringa","id","jeringa","placeholder","Seleccione una opci\xf3n",3,"ngClass"],["value","1 ml"],["value","3 ml"],["value","5 ml"],["value","10 ml"],["value","20 ml"],["for","fecha ",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"max","ngClass"],["for","medicamento",1,"form-label"],["type","text","autocomplete","off","formControlName","medicamento","id","medicamento","placeholder","Ingrese la medicamento",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"col-1","col-lg-1"],["for","id",1,"form-label"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-arrow-up-right"],["class","col-12 col-lg-6",4,"ngIf"],["class","col-11 col-lg-6",4,"ngIf"],[1,"col-11","col-lg-6"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Inyectable"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.iniciarAyuda()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"nav",6)(8,"ol",7)(9,"li",8)(10,"a",9),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",10),e._uU(13,"Inyectable"),e.qZA()()()(),e.TgZ(14,"form",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),e._uU(19,"A\xf1o"),e.qZA(),e._UZ(20,"input",16),e.qZA(),e.TgZ(21,"div",14)(22,"label",17),e._uU(23,"Mes"),e.qZA(),e._UZ(24,"ng-select",18),e.qZA(),e.TgZ(25,"div",14)(26,"label",19),e._uU(27,"Fecha inicio"),e.qZA(),e._UZ(28,"input",20),e.YNc(29,Ce,2,1,"div",21),e.qZA(),e.TgZ(30,"div",14)(31,"label",22),e._uU(32,"Fecha fin"),e.qZA(),e._UZ(33,"input",23),e.YNc(34,qe,2,1,"div",21),e.qZA()(),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return i.enviar()}),e._UZ(37,"i",26),e.qZA(),e.YNc(38,Ie,4,0,"div",27),e.qZA()()(),e.TgZ(39,"div",12)(40,"div",28)(41,"label",29),e._uU(42,"Mostrar:"),e.qZA(),e.TgZ(43,"ng-select",30),e.NdJ("ngModelChange",function(o){return i.size=o})("ngModelChange",function(){return i.refreshSize()}),e.qZA(),e.TgZ(44,"label",31),e._uU(45,"registros"),e.qZA()(),e.TgZ(46,"form",32)(47,"div",33)(48,"label",34),e._uU(49,"Buscar:"),e.qZA(),e._UZ(50,"input",35),e.qZA()()(),e.TgZ(51,"div",36)(52,"table",37)(53,"thead")(54,"tr",38)(55,"th",39),e._uU(56,"Nombre Paciente"),e.qZA(),e.TgZ(57,"th",39),e._uU(58,"Fecha"),e.qZA(),e.TgZ(59,"th",39),e._uU(60,"Medicamento"),e.qZA(),e.TgZ(61,"th",39),e._uU(62,"Jeringa"),e.qZA(),e.TgZ(63,"th",39),e._uU(64,"Personal de Salud"),e.qZA(),e.YNc(65,Se,2,0,"th",40),e.qZA()(),e.TgZ(66,"tbody"),e.YNc(67,Je,2,1,"ng-container",41),e.YNc(68,Ye,3,0,"ng-template",null,42,e.W1O),e.qZA()(),e.TgZ(70,"div",43)(71,"div")(72,"p",44),e._uU(73),e.qZA()(),e.TgZ(74,"ngb-pagination",45),e.NdJ("pageChange",function(o){return i.page=o})("pageChange",function(){return i.refresh()}),e.qZA()()()(),e.YNc(75,$e,68,30,"ng-template",null,46,e.W1O),e.YNc(77,ot,50,18,"ng-template",null,47,e.W1O)),2&t){const a=e.MAs(69);let o,s;e.xp6(14),e.Q6J("formGroup",i.form2),e.xp6(10),e.Q6J("items",i.months)("clearable",!1),e.xp6(5),e.Q6J("ngIf",null==(o=i.form.get("fechaDesde"))?null:o.errors),e.xp6(5),e.Q6J("ngIf",null==(s=i.form.get("fechaHasta"))?null:s.errors),e.xp6(4),e.Q6J("ngIf",i.isCrear||i.isAdmin),e.xp6(5),e.Q6J("items",i.pageList)("ngModel",i.size)("clearable",!1),e.xp6(3),e.Q6J("formGroup",i.buscar),e.xp6(19),e.Q6J("ngIf",i.isEditar||i.isEliminar),e.xp6(2),e.Q6J("ngIf",i.listarInyectable.length>0)("ngIfElse",a),e.xp6(6),e.hij("Total de registros: ",i.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",i.listarTotal)("page",i.page)("pageSize",i.size)("maxSize",i.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[v.mk,v.sg,v.O5,Z.yS,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.On,l.sg,l.u,x.N9,q.w9,q.jq]}),n})(),st=(()=>{class n{constructor(t){this.http=t,this.apiActividades=`${A.N.api}/actividades`,this.apiMedico=`${A.N.api}/personal-salud`}agregar(t){return this.http.post(`${this.apiActividades}`,t)}eliminar(t){return this.http.delete(`${this.apiActividades}/${t}`)}editar(t,i){return this.http.put(`${this.apiActividades}/${t}`,i)}listarParametros(t=2,i=0,a="id,asc",o="",s=""){this.http.get(`${this.apiActividades}?fechaDesde=${o}&fechaHasta=${s}`,{params:{page:i,size:t,sort:a}}).subscribe({next:d=>{this.actividadesList=d}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}listarActividadesFecha(t){this.http.get(`${this.apiActividades}/leer2?fecha=${t}`).subscribe({next:i=>{this.actividadesListTable=i}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ct(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de inicio es requerida"),e.qZA())}function dt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,ct,2,0,"div",46),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaDesde"))||null==i.errors?null:i.errors.required)}}function ut(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La fecha de fin es requerida"),e.qZA())}function mt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,ut,2,0,"div",46),e.qZA()),2&n){const t=e.oxw();let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("fechaHasta"))||null==i.errors?null:i.errors.required)}}function _t(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",47)(1,"div")(2,"button",48),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(),o=e.MAs(73);return e.KtG(a.openLg(o))}),e._UZ(3,"i",49),e.qZA()()()}}function pt(n,r){1&n&&(e.TgZ(0,"th",50),e._uU(1,"Acciones"),e.qZA())}function gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",56),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2),s=e.MAs(75);return e.KtG(o.openLgEditar(s,a))}),e._UZ(1,"i",57),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"editar":null)}}function ft(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",58),e.NdJ("click",function(){e.CHM(t);const a=e.oxw().$implicit,o=e.oxw(2);return e.KtG(o.eliminar(a.id))}),e._UZ(1,"i",59),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"eliminar":null)}}function vt(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td",52),e._uU(2),e.qZA(),e.TgZ(3,"td",52),e._uU(4),e.qZA(),e.TgZ(5,"td",52),e._uU(6),e.qZA(),e.TgZ(7,"td",52),e._uU(8),e.qZA(),e.TgZ(9,"td",52),e._uU(10),e.qZA(),e.TgZ(11,"td",52),e._uU(12),e.qZA(),e.TgZ(13,"td",53),e.YNc(14,gt,2,1,"button",54),e.YNc(15,ft,2,1,"button",55),e.qZA()()),2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(t.peso),e.xp6(2),e.Oqu(t.masaCorporal),e.xp6(2),e.Oqu(t.talla),e.xp6(2),e.Oqu(t.tensionArterial),e.xp6(2),e.Oqu(t.temperatura),e.xp6(2),e.Q6J("ngIf",i.isEditar||i.isAdmin),e.xp6(1),e.Q6J("ngIf",i.isEliminar||i.isAdmin)}}function ht(n,r){if(1&n&&(e.ynx(0),e.YNc(1,vt,16,8,"tr",51),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarActividades)}}function bt(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",60),e._uU(2,"No existen registros disponibles"),e.qZA()())}function Zt(n,r){if(1&n&&(e.TgZ(0,"ng-option",91),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function At(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function xt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,At,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function Ct(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",92)(1,"div",69),e._UZ(2,"label",93),e.TgZ(3,"button",94),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.openViewPersonal())}),e._UZ(4,"i",95),e.qZA()()()}}function Tt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de temperatura debe ser mayor o igual 0 "),e.qZA())}function qt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Tt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("temperatura"))||null==i.errors?null:i.errors.min)}}function It(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La toma de peso debe ser mayor o igual 0"),e.qZA())}function St(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,It,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("peso"))||null==i.errors?null:i.errors.min)}}function yt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La toma de talla debe ser mayor o igual 0"),e.qZA())}function Ut(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,yt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("talla"))||null==i.errors?null:i.errors.min)}}function Nt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de masa corporal debe ser mayor o igual 0 "),e.qZA())}function Jt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Nt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("masaCorporal"))||null==i.errors?null:i.errors.min)}}function Yt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de tensi\xf3n arterial debe ser mayor o igual 0 "),e.qZA())}function Et(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Yt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("tensionArterial"))||null==i.errors?null:i.errors.min)}}const p=function(n,r){return{"is-invalid":n,"is-valid":r}};function Qt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"h4",62),e._uU(2,"Agregar Actividades de Enfermer\xeda"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",64),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.guardar())}),e.TgZ(5,"div",65)(6,"div",66)(7,"div",67)(8,"div",68)(9,"div",69)(10,"label",70),e._uU(11,"Personal de Salud"),e.qZA(),e.TgZ(12,"span",71),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",72),e.YNc(15,Zt,2,3,"ng-option",73),e.qZA(),e.YNc(16,xt,2,1,"div",21),e.qZA()(),e.YNc(17,Ct,5,0,"div",74),e.TgZ(18,"div",68)(19,"div",69)(20,"label",75),e._uU(21,"Fecha"),e.qZA(),e.TgZ(22,"span",71),e._uU(23," *"),e.qZA(),e._UZ(24,"input",76),e.qZA()()(),e.TgZ(25,"div",67)(26,"div",77)(27,"div",69)(28,"label",78),e._uU(29,"Toma de Temperatura"),e.qZA(),e._UZ(30,"input",79),e.YNc(31,qt,2,1,"div",21),e.qZA()(),e.TgZ(32,"div",77)(33,"div",69)(34,"label",80),e._uU(35,"Toma de Peso"),e.qZA(),e._UZ(36,"input",81),e.YNc(37,St,2,1,"div",21),e.qZA()(),e.TgZ(38,"div",77)(39,"div",69)(40,"label",82),e._uU(41,"Toma de Talla"),e.qZA(),e._UZ(42,"input",83),e.YNc(43,Ut,2,1,"div",21),e.qZA()()(),e.TgZ(44,"div",67)(45,"div",77)(46,"div",69)(47,"label",84),e._uU(48,"Toma de Masa Corporal"),e.qZA(),e._UZ(49,"input",85),e.YNc(50,Jt,2,1,"div",21),e.qZA()(),e.TgZ(51,"div",77)(52,"div",69)(53,"label",86),e._uU(54,"Toma de Tensi\xf3n Arterial"),e.qZA(),e._UZ(55,"input",87),e.YNc(56,Et,2,1,"div",21),e.qZA()()()()(),e.TgZ(57,"div",88)(58,"button",89),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(59,"Cerrar"),e.qZA(),e.TgZ(60,"button",90),e._uU(61,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o,s,d,m,_,g,T,b,y,U,D;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(22,p,t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPersonalSalud"))?null:a.errors),e.xp6(1),e.Q6J("ngIf",t.isCrear3||t.isAdmin),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(25,p,t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.errors),t.seGuardo&&(null==(o=t.form.get("fecha"))?null:o.valid))),e.xp6(6),e.Q6J("min",0)("ngClass",e.WLB(28,p,t.seGuardo&&(null==(s=t.form.get("temperatura"))?null:s.errors),t.seGuardo&&(null==(s=t.form.get("temperatura"))?null:s.valid))),e.xp6(1),e.Q6J("ngIf",null==(d=t.form.get("temperatura"))?null:d.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(31,p,t.seGuardo&&(null==(m=t.form.get("peso"))?null:m.errors),t.seGuardo&&(null==(m=t.form.get("peso"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(_=t.form.get("peso"))?null:_.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(34,p,t.seGuardo&&(null==(g=t.form.get("talla"))?null:g.errors),t.seGuardo&&(null==(g=t.form.get("talla"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(T=t.form.get("talla"))?null:T.errors),e.xp6(6),e.Q6J("min",0)("ngClass",e.WLB(37,p,t.seGuardo&&(null==(b=t.form.get("masaCorporal"))?null:b.errors),t.seGuardo&&(null==(b=t.form.get("masaCorporal"))?null:b.valid))),e.xp6(1),e.Q6J("ngIf",null==(y=t.form.get("masaCorporal"))?null:y.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(40,p,t.seGuardo&&(null==(U=t.form.get("tensionArterial"))?null:U.errors),t.seGuardo&&(null==(U=t.form.get("tensionArterial"))?null:U.valid))),e.xp6(1),e.Q6J("ngIf",null==(D=t.form.get("tensionArterial"))?null:D.errors)}}function Ot(n,r){if(1&n&&(e.TgZ(0,"ng-option",91),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function Dt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function kt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Dt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(3);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("idPersonalSalud"))||null==i.errors?null:i.errors.required)}}function Pt(n,r){if(1&n&&(e.TgZ(0,"div",99)(1,"div",69)(2,"label",70),e._uU(3,"Personal de Salud"),e.qZA(),e.TgZ(4,"span",71),e._uU(5," *"),e.qZA(),e.TgZ(6,"ng-select",72),e.YNc(7,Ot,2,3,"ng-option",73),e.qZA(),e.YNc(8,kt,2,1,"div",21),e.qZA()()),2&n){const t=e.oxw(2);let i,a;e.xp6(6),e.Q6J("ngClass",e.WLB(3,p,t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("idPersonalSalud"))?null:i.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("idPersonalSalud"))?null:a.errors)}}function Mt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de masa corporal debe ser mayor o igual 0 "),e.qZA())}function Ft(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Mt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("masaCorporal"))||null==i.errors?null:i.errors.min)}}function Lt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de temperatura debe ser mayor o igual 0 "),e.qZA())}function wt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Lt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("temperatura"))||null==i.errors?null:i.errors.min)}}function Gt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La toma de tensi\xf3n arterial debe ser mayor o igual 0 "),e.qZA())}function zt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Gt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("tensionArterial"))||null==i.errors?null:i.errors.min)}}function Ht(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La toma de peso debe ser mayor o igual 0"),e.qZA())}function $t(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Ht,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("peso"))||null==i.errors?null:i.errors.min)}}function Rt(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"La toma de talla debe ser mayor o igual 0"),e.qZA())}function Bt(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,Rt,2,0,"div",46),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("talla"))||null==i.errors?null:i.errors.min)}}function jt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",61)(1,"h4",62),e._uU(2,"Editar Actividades de Enfermeria"),e.qZA(),e.TgZ(3,"button",63),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",64),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.editar())}),e.TgZ(5,"div",65)(6,"div",66)(7,"div",67),e.YNc(8,Pt,9,6,"div",96),e.TgZ(9,"div",97)(10,"div",69)(11,"label",75),e._uU(12,"Fecha"),e.qZA(),e.TgZ(13,"span",71),e._uU(14," *"),e.qZA(),e._UZ(15,"input",76),e.qZA()()(),e.TgZ(16,"div",67)(17,"div",98)(18,"div",69)(19,"label",84),e._uU(20,"Toma de Masa Corporal"),e.qZA(),e._UZ(21,"input",85),e.YNc(22,Ft,2,1,"div",21),e.qZA()(),e.TgZ(23,"div",98)(24,"div",69)(25,"label",78),e._uU(26,"Toma de Temperatura"),e.qZA(),e._UZ(27,"input",79),e.YNc(28,wt,2,1,"div",21),e.qZA()(),e.TgZ(29,"div",98)(30,"div",69)(31,"label",86),e._uU(32,"Toma de Tensi\xf3n Arterial"),e.qZA(),e._UZ(33,"input",87),e.YNc(34,zt,2,1,"div",21),e.qZA()()(),e.TgZ(35,"div",67)(36,"div",98)(37,"div",69)(38,"label",80),e._uU(39,"Toma de Peso"),e.qZA(),e._UZ(40,"input",81),e.YNc(41,$t,2,1,"div",21),e.qZA()(),e.TgZ(42,"div",98)(43,"div",69)(44,"label",82),e._uU(45,"Toma de Talla"),e.qZA(),e._UZ(46,"input",83),e.YNc(47,Bt,2,1,"div",21),e.qZA()()()()(),e.TgZ(48,"div",88)(49,"button",89),e.NdJ("click",function(){const o=e.CHM(t).$implicit;return e.KtG(o.close("Close click"))}),e._uU(50,"Cerrar"),e.qZA(),e.TgZ(51,"button",90),e._uU(52,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,a,o,s,d,m,_,g,T,b,y;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(4),e.Q6J("ngIf",t.personal),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(19,p,t.seGuardo&&(null==(i=t.form.get("fecha"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("fecha"))?null:i.valid))),e.xp6(6),e.Q6J("min",0)("ngClass",e.WLB(22,p,t.seGuardo&&(null==(a=t.form.get("masaCorporal"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("masaCorporal"))?null:a.valid))),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("masaCorporal"))?null:o.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(25,p,t.seGuardo&&(null==(s=t.form.get("temperatura"))?null:s.errors),t.seGuardo&&(null==(s=t.form.get("temperatura"))?null:s.valid))),e.xp6(1),e.Q6J("ngIf",null==(d=t.form.get("temperatura"))?null:d.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(28,p,t.seGuardo&&(null==(m=t.form.get("tensionArterial"))?null:m.errors),t.seGuardo&&(null==(m=t.form.get("tensionArterial"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(_=t.form.get("tensionArterial"))?null:_.errors),e.xp6(6),e.Q6J("min",0)("ngClass",e.WLB(31,p,t.seGuardo&&(null==(g=t.form.get("peso"))?null:g.errors),t.seGuardo&&(null==(g=t.form.get("peso"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(T=t.form.get("peso"))?null:T.errors),e.xp6(5),e.Q6J("min",0)("ngClass",e.WLB(34,p,t.seGuardo&&(null==(b=t.form.get("talla"))?null:b.errors),t.seGuardo&&(null==(b=t.form.get("talla"))?null:b.valid))),e.xp6(1),e.Q6J("ngIf",null==(y=t.form.get("talla"))?null:y.errors)}}const Vt=(new Date).getMonth()+1;let Wt=(()=>{class n{constructor(t,i,a,o,s){this.actividadesService=t,this.modalService=i,this.fb=a,this.tokenService=o,this.router=s,this.mesSeleccionado=Vt.toString(),this.seGuardo=!1,this.paciente=!0,this.personal=!0,this.pageList=f.Hj,this.maxSize=f.$,this.page=1,this.size=f.dp,this.sort="fecha,asc",this.months=[{value:"01",label:"Enero"},{value:"02",label:"Febrero"},{value:"03",label:"Marzo"},{value:"04",label:"Abril"},{value:"05",label:"Mayo"},{value:"06",label:"Junio"},{value:"07",label:"Julio"},{value:"08",label:"Agosto"},{value:"09",label:"Septiembre"},{value:"10",label:"Octubre"},{value:"11",label:"Noviembre"},{value:"12",label:"Diciembre"}],this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.isCrear3=!1,this.form2=this.fb.group({fechaDesde:["",[l.kI.required]],fechaHasta:["",[l.kI.required]],year:["",[]],month:["",[]]}),this.configurarFechaInicial()}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","VER"),this.isCrear=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","CREAR"),this.isEditar=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","ELIMINAR"),this.isCrear3=this.tokenService.isPermisos("PERSONAL_","CREAR"),this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({masaCorporal:["",[l.kI.min(0)]],peso:["",[l.kI.min(0)]],talla:["",[l.kI.min(0)]],tensionArterial:["",[l.kI.min(0)]],temperatura:["",[l.kI.min(0)]],idPersonalSalud:["",[l.kI.required]],fecha:[this.getFormattedDate(new Date),[l.kI.required]]}),this.form2.get("year")?.valueChanges.pipe((0,I.b)(500),(0,S.x)()).subscribe(()=>{this.configurarFecha()}),this.form2.get("month")?.valueChanges.subscribe(()=>{this.configurarFecha()}),this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.actividadesService.listarMedico()}get listarMedico(){return this.actividadesService.medicoList?this.actividadesService.medicoList:[]}get listarActividades(){return this.actividadesService.actividadesList?this.actividadesService.actividadesList.content:[]}get listarActividadesFecha(){return this.actividadesService.actividadesListTable?this.actividadesService.actividadesListTable.content:[]}get listarTotal(){return this.actividadesService.actividadesList?this.actividadesService.actividadesList.totalElements:0}get formatDate(){return N.Z}openViewPersonal(){this.modalService.dismissAll(),this.router.navigate(["/personal"])}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}openLgEditar(t,i){this.actividades=i,this.personal=this.actividades.personalSalud.estado,this.form.patchValue({masaCorporal:this.actividades.masaCorporal,peso:this.actividades.peso,talla:this.actividades.talla,tensionArterial:this.actividades.tensionArterial,temperatura:this.actividades.temperatura,idPersonalSalud:this.actividades.personalSalud.id,fecha:this.actividades.fecha}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.actividadesService.agregar(this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}eliminar(t){c().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.actividadesService.eliminar(t).subscribe({next:a=>{a&&this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)},error:a=>{c().fire({position:"center",title:"Error",text:a.error.mensaje,icon:"error"})}}),c().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}editar(){this.seGuardo=!0,this.form.valid?this.actividadesService.editar(this.actividades.id,this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:i=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:i.error.mensaje,icon:"error"})}}):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}refreshSize(){this.page=0,this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}refresh(){this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}openLgVer(t,i){this.actividades=i,this.actividadesService.listarActividadesFecha(this.actividades.fecha),this.modalService.open(t,{size:"lg"})}onActividadesChange(){this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}getFormattedDate(t){return t.toISOString().split("T")[0]}val(){return this.getFormattedDate(new Date)}configurarFechaInicial(){const t=this.formatDate(),i=t.startOf("month"),a=t.endOf("month");this.form2.patchValue({fechaDesde:i.format("YYYY-MM-DD"),fechaHasta:a.format("YYYY-MM-DD"),year:t.format("YYYY"),month:t.format("MM")})}configurarFecha(){const t=this.form2.get("year")?.value,i=this.form2.get("month")?.value,a=this.formatDate(`${t}-${i}-01`),o=a.endOf("month");!a.isValid()||!a.isValid()||this.form2.patchValue({fechaDesde:a.format("YYYY-MM-DD"),fechaHasta:o.format("YYYY-MM-DD")})}enviar(){this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.form2.get("fechaDesde")?.value,this.form2.get("fechaHasta")?.value)}iniciarAyuda(){const t=[(this.isCrear||this.isAdmin)&&{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear un nuevo registro para las actividades de enfermeria.",side:"left",align:"start"}},{element:"#filtros",popover:{title:"Filtros por fechas especificas",description:"Aqu\xed puedes establecer detalladamente que rango de tiempo desees, segun registro de la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#lupa",popover:{title:"Debes presionar aqui",description:"Para poder filtrar las fechas establecidas y mostrar la informaci\xf3n en la tabla",side:"right",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},(this.isEditar||this.isAdmin)&&this.listarActividades.length>0&&{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},(this.isEliminar||this.isAdmin)&&this.listarActividades.length>0&&{element:"#eliminar",popover:{title:"Eliminar un registro",description:"Aqu\xed puedes eliminar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(a=>a);(0,J.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(st),e.Y36(x.FF),e.Y36(l.qu),e.Y36(E.B),e.Y36(Z.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-otras-actividades"]],decls:76,vars:19,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"d-flex","align-items-center"],[1,"fs-2"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"mt-3",3,"formGroup"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between","mb-3"],["id","filtros",1,"d-flex","flex-column","gap-2","flex-lg-row","align-items-center"],[1,"w-100","mb-3"],["for","year",1,"form-label"],["type","number","formControlName","year","id","year",1,"form-control"],["for","month",1,"form-label"],["id","pageSize","formControlName","month","bindLabel","label","bindValue","value",3,"items","clearable"],["for","fechaDesde",1,"form-label"],["type","date","formControlName","fechaDesde","id","fechaDesde",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","fechaHasta",1,"form-label"],["type","date","formControlName","fechaHasta","id","fechaHasta",1,"form-control"],[1,"d-flex","gap-2","align-items-center","justify-content-center"],["type","submit","id","lupa",1,"btn","btn-primary",3,"click"],[1,"bi","bi-search"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","bindLabel","value","bindValue","value","id","cantidad",3,"items","ngModel","clearable","ngModelChange"],["for","pageSize",1,"col-form-label","ms-2"],[1,"table-responsive","mt-2"],[1,"table"],[1,"border-dark"],["scope","col",2,"text-align","center"],["scope","col",4,"ngIf"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"invalid-feedback"],[4,"ngIf"],[1,"d-flex","justify-content-end","align-items-center"],["type","button","id","nuevoRegistro",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],["scope","col"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[1,"d-flex","gap-1",2,"min-height","40px"],["type","button","class","btn btn-outline-success me-2",3,"id","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"id","click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-11","col-lg-5"],[1,"mb-3"],["for","idPersonalSalud",1,"form-label"],[1,"text-danger"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","col-1 col-lg-1",4,"ngIf"],["for","fecha",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"max","ngClass"],[1,"col-6","col-lg-3"],["for","temperatura",1,"form-label"],["type","number","id","temperatura","formControlName","temperatura",1,"form-control",3,"min","ngClass"],["for","peso",1,"form-label"],["type","number","id","peso","formControlName","peso",1,"form-control",3,"min","ngClass"],["for","talla",1,"form-label"],["type","number","id","talla","formControlName","talla",1,"form-control",3,"min","ngClass"],["for","masaCorporal",1,"form-label"],["type","number","id","masaCorporal","formControlName","masaCorporal",1,"form-control",3,"min","ngClass"],["for","tensionArterial",1,"form-label"],["type","number","id","tensionArterial","formControlName","tensionArterial",1,"form-control",3,"min","ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"col-1","col-lg-1"],["for","id",1,"form-label"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-arrow-up-right"],["class","col-lg-6",4,"ngIf"],[1,"col-6"],[1,"col-4"],[1,"col-lg-6"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Otras Actividades de Enfermer\xeda"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.iniciarAyuda()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"nav",6)(8,"ol",7)(9,"li",8)(10,"a",9),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",10),e._uU(13,"Otras Actividades"),e.qZA()()()(),e.TgZ(14,"form",11)(15,"div",12)(16,"div",13)(17,"div",14)(18,"label",15),e._uU(19,"A\xf1o"),e.qZA(),e._UZ(20,"input",16),e.qZA(),e.TgZ(21,"div",14)(22,"label",17),e._uU(23,"Mes"),e.qZA(),e._UZ(24,"ng-select",18),e.qZA(),e.TgZ(25,"div",14)(26,"label",19),e._uU(27,"Fecha inicio"),e.qZA(),e._UZ(28,"input",20),e.YNc(29,dt,2,1,"div",21),e.qZA(),e.TgZ(30,"div",14)(31,"label",22),e._uU(32,"Fecha fin"),e.qZA(),e._UZ(33,"input",23),e.YNc(34,mt,2,1,"div",21),e.qZA()(),e.TgZ(35,"div",24)(36,"button",25),e.NdJ("click",function(){return i.enviar()}),e._UZ(37,"i",26),e.qZA(),e.YNc(38,_t,4,0,"div",27),e.qZA()()(),e.TgZ(39,"div",28)(40,"div",29)(41,"label",30),e._uU(42,"Mostrar:"),e.qZA(),e.TgZ(43,"ng-select",31),e.NdJ("ngModelChange",function(o){return i.size=o})("ngModelChange",function(){return i.refreshSize()}),e.qZA(),e.TgZ(44,"label",32),e._uU(45,"registros"),e.qZA()()(),e.TgZ(46,"div",33)(47,"table",34)(48,"thead")(49,"tr",35)(50,"th",36),e._uU(51,"Fecha"),e.qZA(),e.TgZ(52,"th",36),e._uU(53,"Peso"),e.qZA(),e.TgZ(54,"th",36),e._uU(55,"Masa Corporal"),e.qZA(),e.TgZ(56,"th",36),e._uU(57,"Talla"),e.qZA(),e.TgZ(58,"th",36),e._uU(59,"Tensi\xf3n Arterial"),e.qZA(),e.TgZ(60,"th",36),e._uU(61,"Temperatura"),e.qZA(),e.YNc(62,pt,2,0,"th",37),e.qZA()(),e.TgZ(63,"tbody"),e.YNc(64,ht,2,1,"ng-container",38),e.YNc(65,bt,3,0,"ng-template",null,39,e.W1O),e.qZA()(),e.TgZ(67,"div",40)(68,"div")(69,"p",41),e._uU(70),e.qZA()(),e.TgZ(71,"ngb-pagination",42),e.NdJ("pageChange",function(o){return i.page=o})("pageChange",function(){return i.refresh()}),e.qZA()()()(),e.YNc(72,Qt,62,43,"ng-template",null,43,e.W1O),e.YNc(74,jt,53,37,"ng-template",null,44,e.W1O)),2&t){const a=e.MAs(66);let o,s;e.xp6(14),e.Q6J("formGroup",i.form2),e.xp6(10),e.Q6J("items",i.months)("clearable",!1),e.xp6(5),e.Q6J("ngIf",null==(o=i.form.get("fechaDesde"))?null:o.errors),e.xp6(5),e.Q6J("ngIf",null==(s=i.form.get("fechaHasta"))?null:s.errors),e.xp6(4),e.Q6J("ngIf",i.isCrear||i.isAdmin),e.xp6(5),e.Q6J("items",i.pageList)("ngModel",i.size)("clearable",!1),e.xp6(19),e.Q6J("ngIf",i.isEditar||i.isEliminar),e.xp6(2),e.Q6J("ngIf",i.listarActividades.length>0)("ngIfElse",a),e.xp6(6),e.hij("Total de registros: ",i.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",i.listarTotal)("page",i.page)("pageSize",i.size)("maxSize",i.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[v.mk,v.sg,v.O5,Z.yS,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.qQ,l.On,l.sg,l.u,x.N9,q.w9,q.jq]}),n})();var Q=u(2466);const Kt=[{path:"curaciones",component:Ze,canActivate:[Q.i],data:{expectedAuthorities:["CURACIONES"]}},{path:"inyectable",component:lt,canActivate:[Q.i],data:{expectedAuthorities:["INYECCIONES"]}},{path:"otrasActividades",component:Wt,canActivate:[Q.i],data:{expectedAuthorities:["ACTIVIDADES_ENFERMERIA"]}}];let Xt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.Bz.forChild(Kt),Z.Bz]}),n})(),ei=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[v.ez,Xt,l.u5,l.UX,x.jF,x.ZS,q.A0]}),n})()}}]);