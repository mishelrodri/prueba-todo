"use strict";(self.webpackChunkclinica_fmp_frontend=self.webpackChunkclinica_fmp_frontend||[]).push([[265],{4265:(me,v,u)=>{u.r(v),u.d(v,{UsuarioModule:()=>pe});var m=u(6895),l=u(433),g=u(9061),d=u(3599),x=u(5930),U=u(8372),T=u(1884),R=u(5226),c=u.n(R),e=u(1571),A=u(2340),q=u(529);let y=(()=>{class r{constructor(t){this.http=t,this.url=`${A.N.api}/rol`,this.isLoading=!1,this.listRoles={content:[],pageable:{sort:{empty:!0,unsorted:!0,sorted:!0},offset:0,pageSize:0,pageNumber:0,paged:!0,unpaged:!0},last:!0,totalPages:0,totalElements:0,size:0,number:0,sort:{empty:!0,unsorted:!0,sorted:!0},empty:!0,first:!0,numberOfElements:0}}getRolesByPage(t=0,o=4){return this.isLoading=!0,this.http.get(`${this.url}/list`,{params:{page:t.toString(),size:o.toString()}}).subscribe(i=>{this.listRoles=i,this.isLoading=!1})}buscarRolesByNombre(t=0,o=4,i=""){return this.isLoading=!0,this.http.get(`${this.url}/list-roles-filtrados`,{params:{page:t.toString(),size:o.toString(),nombre:i}}).subscribe(n=>{this.listRoles=n,this.isLoading=!1})}getModulos(){return this.http.get(`${this.url}/modulos`)}guardarRol(t){return this.http.post(`${this.url}/crear`,t)}actualizarRol(t,o){return this.http.put(`${this.url}/editar/${t}`,o)}buscarRol(t){return this.http.get(`${this.url}/detail/${t}`)}eliminarRol(t){return this.http.delete(`${this.url}/delete/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function M(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",37),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td",38)(6,"button",39),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw(),p=e.MAs(60);return e.KtG(s.openModal(p,n.id))}),e._UZ(7,"i",40),e.qZA(),e.TgZ(8,"button",41),e.NdJ("click",function(){const n=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.eliminarRol(n.id))}),e._UZ(9,"i",42),e.qZA()()()}if(2&r){const t=a.$implicit,o=a.index,i=a.first;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Oqu(t.rolNombre),e.xp6(2),e.Q6J("id",i?"editar":null),e.xp6(2),e.Q6J("id",i?"eliminar":null)}}function N(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",43),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.isLoading?"cargando ...":"No se encontraron resultados")}}function J(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre del rol es obligatorio"),e.qZA())}function w(r,a){if(1&r&&(e.TgZ(0,"li",61)(1,"a",62),e._uU(2),e.qZA()()),2&r){const t=a.$implicit,o=a.index;e.xp6(1),e.Q6J("ngClass",0===o?"active":""),e.uIk("href","#tab"+o,e.LSH),e.xp6(1),e.hij(" ",t.nombre," ")}}function k(r,a){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",69)(2,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw().$implicit;return e.KtG(n.crear=i)}),e.qZA()(),e.TgZ(3,"div",70)(4,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw().$implicit;return e.KtG(n.editar=i)}),e.qZA()(),e.TgZ(5,"div",71)(6,"input",68),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw().$implicit;return e.KtG(n.eliminar=i)}),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("ngModel",t.crear),e.xp6(2),e.Q6J("ngModel",t.editar),e.xp6(2),e.Q6J("ngModel",t.eliminar)}}function P(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",65)(2,"span"),e._uU(3),e.qZA(),e.TgZ(4,"div",66)(5,"div",67)(6,"input",68),e.NdJ("ngModelChange",function(i){const s=e.CHM(t).$implicit;return e.KtG(s.ver=i)}),e.qZA()(),e.YNc(7,k,7,3,"ng-container",32),e.qZA()()()}if(2&r){const t=a.$implicit,o=e.oxw().$implicit;e.xp6(3),e.Oqu(t.nombrePermiso),e.xp6(3),e.Q6J("ngModel",t.ver),e.xp6(1),e.Q6J("ngIf","CONSULTAS"!==o.nombre.toUpperCase())}}function E(r,a){if(1&r&&(e.TgZ(0,"div",63)(1,"ul",64),e.YNc(2,P,8,3,"li",31),e.qZA()()),2&r){const t=a.$implicit,o=a.index;e.Q6J("ngClass",0===o?"show active":"")("id","tab"+o),e.xp6(2),e.Q6J("ngForOf",t.permisos)}}function O(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Seleccione al menos un permiso para el rol"),e.qZA())}function B(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"h4",45),e._uU(2,"Crear nuevo rol"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.KtG(n.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",47)(5,"form",48),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.guardar())}),e.TgZ(6,"div",49)(7,"label",50),e._uU(8,"Nombre rol"),e.qZA(),e._UZ(9,"input",51),e.TgZ(10,"div",52),e.YNc(11,J,2,0,"span",32),e.qZA()()(),e.TgZ(12,"span",53),e._uU(13,"Permisos disponibles"),e.qZA(),e.TgZ(14,"ul",54),e.YNc(15,w,3,3,"li",55),e.qZA(),e.TgZ(16,"div",56),e.YNc(17,E,3,3,"div",57),e.qZA(),e.TgZ(18,"div",52),e.YNc(19,O,2,0,"span",32),e.qZA()(),e.TgZ(20,"div",58)(21,"button",59),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.KtG(n.close("Close click"))}),e._uU(22,"Cerrar"),e.qZA(),e.TgZ(23,"button",60),e._uU(24,"Guardar"),e.qZA()()}if(2&r){const t=e.oxw();let o,i;e.xp6(5),e.Q6J("formGroup",t.formularioRol),e.xp6(4),e.Q6J("ngClass",t.esCampoValido("nombreRol")),e.xp6(2),e.Q6J("ngIf",null==(o=t.formularioRol.get("nombreRol"))||null==o.errors?null:o.errors.required),e.xp6(4),e.Q6J("ngForOf",t.permisosMenu),e.xp6(1),e.Q6J("ngClass",t.esCampoValido("permisos")),e.xp6(1),e.Q6J("ngForOf",t.permisosMenu),e.xp6(2),e.Q6J("ngIf",null==(i=t.formularioRol.get("permisos"))||null==i.errors?null:i.errors.required)}}let Q=(()=>{class r{constructor(t,o,i){this.modalService=t,this.rolService=o,this.fb=i,this.permisosMenu=[],this.permisos=[],this.currentPage=1,this.pageSize=4}ngOnInit(){this.formularioRol=this.iniciarFormularioRol(),this.rolService.getRolesByPage(),this.rolService.getModulos().subscribe(t=>{this.permisosMenu=t}),this.buscar=this.fb.group({filter:["",[]]}),this.buscar.get("filter")?.valueChanges.pipe((0,U.b)(100),(0,T.x)()).subscribe(t=>{this.pageSize=5,this.rolService.buscarRolesByNombre(0,this.pageSize,t)})}iniciarFormularioRol(){return this.fb.group({idRol:[""],nombreRol:["",[l.kI.required]],permisos:["",[l.kI.required]]})}esCampoValido(t){const o=this.formularioRol.get(t);return!o?.valid&&o?.touched?"is-invalid":o?.touched?"is-valid":""}get listRoles(){return this.rolService.listRoles}get isLoading(){return this.rolService.isLoading}openModal(t,o=""){this.limpiarPermisos(),this.formularioRol.reset(),o?this.rolService.buscarRol(o).subscribe(i=>{this.formularioRol.get("nombreRol")?.patchValue(i.rolNombre),this.formularioRol.get("idRol")?.patchValue(i.id),this.permisosMenu.forEach(n=>{n.permisos.forEach(s=>{i.permisos.forEach(p=>{s.idPermiso===p.permiso.idPermiso&&(s.ver=p.ver,s.crear=p.crear,s.editar=p.editar,s.eliminar=p.eliminar)})})}),this.modalService.open(t,{size:"lg",centered:!0})}):this.modalService.open(t,{size:"lg",centered:!0})}obtenerPermisos(){this.permisosMenu.forEach(t=>{t.permisos.forEach(o=>{(o.ver||o.crear||o.editar||o.eliminar)&&this.permisos.push(o)})})}limpiarPermisos(){this.permisosMenu.forEach(t=>{t.permisos.forEach(o=>{o.ver=!1,o.crear=!1,o.editar=!1,o.eliminar=!1})})}guardar(){if(this.obtenerPermisos(),this.permisos.length>0&&this.formularioRol.get("permisos")?.setValue("si"),this.formularioRol.valid){const t={nombre:this.formularioRol.get("nombreRol")?.value,permisos:this.permisos};this.formularioRol.get("idRol")?.value?this.rolService.actualizarRol(this.formularioRol.get("idRol")?.value,t).subscribe({next:()=>{c().fire("Exito","Se actualizo el registro con \xe9xito","success"),this.modalService.dismissAll(),this.rolService.getRolesByPage()},error:o=>{c().fire("Error",o.error.mensaje,"error")}}):this.rolService.guardarRol(t).subscribe({next:()=>{c().fire("Exito","Se guardo el registro con \xe9xito","success"),this.modalService.dismissAll(),this.rolService.getRolesByPage()},error:o=>{c().fire("Error",o.error.mensaje,"error")}}),this.permisos=[]}return Object.values(this.formularioRol.controls).forEach(t=>t.markAsTouched())}pageChange(t){this.rolService.getRolesByPage(t-1,this.pageSize)}eliminarRol(t){c().fire({title:"\xbfEst\xe1 seguro de eliminar este registro?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.rolService.eliminarRol(t).subscribe({next:()=>{c().fire({icon:"success",title:"Eliminado",text:"El registro se ha eliminado exitosamente.",showConfirmButton:!0}),this.modalService.dismissAll(),this.rolService.getRolesByPage()},error:()=>{c().fire({icon:"error",title:"Error",text:"No se puede eliminar el rol, ya que est\xe1 asignado a uno o varios usuarios",showConfirmButton:!0})}})})}iniciarAyuda(){const t=[{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear nuevos roles y asignarle permisos",side:"left",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},{element:"#buscar",popover:{title:"Filtrar Registros",description:"Aqu\xed puedes filtrar la informaci\xf3n",side:"top",align:"start"}},{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},{element:"#eliminar",popover:{title:"Eliminar un registro",description:"Aqu\xed puedes eliminar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(i=>i);(0,x.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.FF),e.Y36(y),e.Y36(l.qu))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-rol"]],decls:61,vars:16,consts:[[1,"container-full"],[1,"header__page"],[1,"d-flex","align-items-center"],[1,"fs-2"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-3"],[1,"d-flex","justify-content-end","align-items-center"],["id","nuevoRegistro",1,"btn","btn-primary","fs6",3,"click"],[1,"bi","bi-plus-square"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"mb-2","d-flex","align-items-center"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label","me-1"],["id","cantidad",1,"col-xs-3","col-sm-auto"],[1,"form-select",2,"width","auto","height","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label","ms-1"],[3,"formGroup"],["id","buscar",1,"d-flex","align-items-center"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col"],["id","acciones","scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","page","rotate","boundaryLinks","pageChange"],["content",""],["scope","row"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-outline-success",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","5",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","formularioRol","name","formularioRol",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","nombreRol",1,"form-label"],["id","nombreRol","formControlName","nombreRol","autocomplete","off","type","text","placeholder","Administrador",1,"form-control",3,"ngClass"],[1,"invalid-feedback"],[1,"fw-semibold","text-danger","texti"],["id","myTabs","role","tablist",1,"nav","nav-tabs","mt-3"],["class","nav-item modulo-collap",4,"ngFor","ngForOf"],["id","myTabsContent",1,"tab-content",3,"ngClass"],["class","tab-pane fade","role","tabpanel",3,"ngClass","id",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","formularioRol",1,"btn","btn-primary"],[1,"nav-item","modulo-collap"],["data-bs-toggle","tab","role","tab",1,"nav-link",3,"ngClass"],["role","tabpanel",1,"tab-pane","fade",3,"ngClass","id"],[1,"modulo-items","mt-4"],[1,"permisos"],[1,"accesos"],[1,"form-check","form-switch","switch-1"],["type","checkbox","role","switch",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"form-check","form-switch","switch-2"],[1,"form-check","form-switch","switch-3"],[1,"form-check","form-switch","switch-4"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e._uU(4,"Rol"),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return o.iniciarAyuda()}),e._UZ(6,"i",5),e.qZA()(),e.TgZ(7,"nav",6)(8,"ol",7)(9,"li",8)(10,"a",9),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",10),e._uU(13,"Rol"),e.qZA()()()(),e.TgZ(14,"div",11)(15,"div",12)(16,"button",13),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(60);return e.KtG(o.openModal(s))}),e._UZ(17,"i",14),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"label",17),e._uU(21,"Mostrar"),e.qZA(),e.TgZ(22,"div",18)(23,"select",19),e.NdJ("ngModelChange",function(s){return o.pageSize=s})("ngModelChange",function(){return o.pageChange(1)}),e.TgZ(24,"option",20),e._uU(25,"2"),e.qZA(),e.TgZ(26,"option",20),e._uU(27,"4"),e.qZA(),e.TgZ(28,"option",20),e._uU(29,"6"),e.qZA(),e.TgZ(30,"option",20),e._uU(31,"8"),e.qZA(),e.TgZ(32,"option",20),e._uU(33,"10"),e.qZA()()(),e.TgZ(34,"label",21),e._uU(35,"Registros"),e.qZA()(),e.TgZ(36,"form",22)(37,"div",23)(38,"label",24),e._uU(39,"Buscar:"),e.qZA(),e._UZ(40,"input",25),e.qZA()()(),e.TgZ(41,"div",26)(42,"table",27)(43,"thead")(44,"tr",28)(45,"th",29),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th",29),e._uU(48,"Nombre Rol"),e.qZA(),e.TgZ(49,"th",30),e._uU(50,"Acciones"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,M,10,4,"tr",31),e.YNc(53,N,3,1,"tr",32),e.qZA()()(),e.TgZ(54,"div",33)(55,"div")(56,"p",34),e._uU(57),e.qZA()(),e.TgZ(58,"ngb-pagination",35),e.NdJ("pageChange",function(s){return o.pageChange(s)})("pageChange",function(s){return o.currentPage=s}),e.qZA()(),e.YNc(59,B,25,7,"ng-template",null,36,e.W1O),e.qZA()}2&t&&(e.xp6(23),e.Q6J("ngModel",o.pageSize),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",8),e.xp6(2),e.Q6J("ngValue",10),e.xp6(4),e.Q6J("formGroup",o.buscar),e.xp6(16),e.Q6J("ngForOf",o.listRoles.content),e.xp6(1),e.Q6J("ngIf",0===o.listRoles.content.length),e.xp6(4),e.hij("Total de registros: ",o.listRoles.totalElements,""),e.xp6(1),e.Q6J("pageSize",o.listRoles.pageable.pageSize)("collectionSize",o.listRoles.totalElements)("maxSize",4)("page",o.currentPage)("rotate",!0)("boundaryLinks",!0))},dependencies:[m.mk,m.sg,m.O5,d.yS,l._Y,l.YN,l.Kr,l.Fj,l.Wl,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,g.N9],styles:['.permisos[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr}@media only screen and (min-width: 530px){.permisos[_ngcontent-%COMP%]{grid-template-columns:220px 1fr}}.permisos[_ngcontent-%COMP%]   .accesos[_ngcontent-%COMP%]{width:100%;display:grid;padding:0 40px;grid-template-columns:repeat(auto-fit,minmax(20px,1fr))}.custom-width[_ngcontent-%COMP%]{width:250px}.modulo-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .permisos[_ngcontent-%COMP%]   .accesos[_ngcontent-%COMP%]   .switch-1[_ngcontent-%COMP%]:before{content:"Ver";position:relative;top:-12px;left:-40px;display:block;width:10px;height:10px}.modulo-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .permisos[_ngcontent-%COMP%]   .accesos[_ngcontent-%COMP%]   .switch-2[_ngcontent-%COMP%]:before{content:"Crear";position:relative;top:-12px;left:-40px;display:block;width:10px;height:10px}.modulo-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .permisos[_ngcontent-%COMP%]   .accesos[_ngcontent-%COMP%]   .switch-3[_ngcontent-%COMP%]:before{content:"Editar";position:relative;top:-12px;left:-40px;display:block;width:10px;height:10px}.modulo-items[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   .permisos[_ngcontent-%COMP%]   .accesos[_ngcontent-%COMP%]   .switch-4[_ngcontent-%COMP%]:before{content:"Eliminar";position:relative;top:-12px;left:-40px;display:block;width:10px;height:10px}.modulo-collap[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;text-decoration:none}.nav-link.active[_ngcontent-%COMP%]{font-weight:500}.color-primary[_ngcontent-%COMP%]{color:var(--red)}']}),r})();const S=/^[a-zA-Z0-9.]+@ues\.edu\.sv$/,z=/^[a-zA-Z0-9_]{3,50}$/,$=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%?&.])[A-Za-z\d@$!%?&.]{8,}$/;let j=(()=>{class r{constructor(t){this.http=t,this.url=`${A.N.api}/usuario`,this.isLoading=!1,this.listPersonal=[],this.listRol=[],this.listUsuarios={content:[],pageable:{sort:{empty:!0,unsorted:!0,sorted:!0},offset:0,pageSize:0,pageNumber:0,paged:!0,unpaged:!0},last:!0,totalPages:0,totalElements:0,size:0,number:0,sort:{empty:!0,unsorted:!0,sorted:!0},empty:!0,first:!0,numberOfElements:0}}getUsuarioByPage(t=0,o=4){return this.isLoading=!0,this.http.get(`${this.url}`,{params:{page:t.toString(),size:o.toString()}}).subscribe(i=>{this.listUsuarios=i,this.isLoading=!1})}getUsuarioByFiltro(t=0,o=4,i=""){return this.isLoading=!0,this.http.get(`${this.url}/usuarios-filtro`,{params:{page:t.toString(),size:o.toString(),filtro:i}}).subscribe(n=>{this.listUsuarios=n,this.isLoading=!1})}guardarUsuario(t){return this.http.post(`${this.url}/save`,t)}actualizarUsuario(t,o){return this.http.put(`${this.url}/update/${t}`,o)}eliminarUsuario(t){return this.http.delete(`${this.url}/delete/${t}`)}getAllPersonalMedico(){return this.http.get(`${this.url}/getAll-personal`).subscribe(t=>{this.listPersonal=t})}getAllRoles(){return this.http.get(`${this.url}/getAll-roles`).subscribe(t=>{this.listRol=t})}buscarUsuario(t){return this.http.get(`${this.url}/detail/${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(q.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var _=u(723),I=u(1622);function Y(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"th",35),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",36)(12,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw(),s=e.MAs(66);return e.KtG(n.openModal(s,i.id))}),e._UZ(13,"i",38),e.qZA(),e.TgZ(14,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,n=e.oxw();return e.KtG(n.eliminar(i.id))}),e._UZ(15,"i",40),e.qZA()()()}if(2&r){const t=e.oxw(),o=t.index,i=t.$implicit,n=t.first;e.xp6(2),e.Oqu(o+1),e.xp6(2),e.AsE("",i.nombre," ",i.apellido,""),e.xp6(2),e.Oqu(i.nombreUsuario),e.xp6(2),e.Oqu(i.cargo),e.xp6(2),e.Oqu(i.nombreRol),e.xp6(2),e.Q6J("id",n?"editar":null),e.xp6(2),e.Q6J("id",n?"eliminar":null)}}function L(r,a){if(1&r&&(e.ynx(0),e.YNc(1,Y,16,8,"tr",30),e.BQk()),2&r){const t=a.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.username!==t.nombreUsuario)}}function G(r,a){if(1&r&&(e.TgZ(0,"tr")(1,"td",41),e._uU(2),e.qZA()()),2&r){const t=e.oxw();e.xp6(2),e.Oqu(t.isLoading?"cargando ...":"No se encontraron resultados")}}function V(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El email es obligatorio"),e.qZA())}function K(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El formato del email no es v\xe1lido"),e.qZA())}function H(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre de usuario es obligatorio"),e.qZA())}function D(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El nombre de usuario no es v\xe1lido"),e.qZA())}function W(r,a){if(1&r&&(e.TgZ(0,"ng-option",70),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function X(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El personal de salud es obligatorio"),e.qZA())}function ee(r,a){if(1&r&&(e.TgZ(0,"ng-option",70),e._uU(1),e.qZA()),2&r){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.rolNombre)}}function te(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"El rol es obligatorio"),e.qZA())}function oe(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a es obligatoria"),e.qZA())}function re(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"La contrase\xf1a debe contener al menos 8 caracteres, una may\xfascula, una min\xfascula, un d\xedgito y un car\xe1cter especial"),e.qZA())}function ie(r,a){1&r&&(e.TgZ(0,"span"),e._uU(1,"Las contrase\xf1as no coinciden"),e.qZA())}function ne(r,a){if(1&r){const t=e.EpF();e.TgZ(0,"div",42)(1,"h4",43),e._uU(2,"Crear nuevo usuario"),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.KtG(n.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",45)(5,"form",46),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.guardar())}),e.TgZ(6,"div",47)(7,"label",48),e._uU(8,"Email"),e.qZA(),e.TgZ(9,"input",49),e.NdJ("blur",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.extraerNombreDeUsuario())}),e.qZA(),e.TgZ(10,"div",50),e.YNc(11,V,2,0,"span",30),e.YNc(12,K,2,0,"span",30),e.qZA()(),e.TgZ(13,"div",47)(14,"label",51),e._uU(15,"Nombre de usuario "),e.qZA(),e._UZ(16,"input",52),e.TgZ(17,"div",50),e.YNc(18,H,2,0,"span",30),e.YNc(19,D,2,0,"span",30),e.qZA()(),e.TgZ(20,"div",47)(21,"label",53),e._uU(22,"Personal"),e.qZA(),e.TgZ(23,"ng-select",54),e.YNc(24,W,2,3,"ng-option",55),e.qZA(),e.TgZ(25,"div",50),e.YNc(26,X,2,0,"span",30),e.qZA()(),e.TgZ(27,"div",47)(28,"label",56),e._uU(29,"Rol "),e.qZA(),e.TgZ(30,"ng-select",57),e.YNc(31,ee,2,2,"ng-option",55),e.qZA(),e.TgZ(32,"div",50),e.YNc(33,te,2,0,"span",30),e.qZA()(),e.TgZ(34,"label",58),e._uU(35,"Contrase\xf1a"),e.qZA(),e.TgZ(36,"div",59)(37,"input",60),e.NdJ("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.calcularPorcentajeAprobacion())}),e.qZA(),e.TgZ(38,"button",61),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.verContrasenia())}),e._UZ(39,"i"),e.qZA()(),e.TgZ(40,"div",62)(41,"div",63),e._uU(42),e.qZA()(),e.TgZ(43,"div",50),e.YNc(44,oe,2,0,"span",30),e.YNc(45,re,2,0,"span",30),e.qZA(),e.TgZ(46,"label",64),e._uU(47,"Confirmar Contrase\xf1a"),e.qZA(),e.TgZ(48,"div",65),e._UZ(49,"input",66),e.TgZ(50,"button",61),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.verContrasenia(2))}),e._UZ(51,"i"),e.qZA()(),e.TgZ(52,"div",50),e.YNc(53,ie,2,0,"span",30),e.qZA()()(),e.TgZ(54,"div",67)(55,"button",68),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.KtG(n.close("Close click"))}),e._uU(56,"Cerrar"),e.qZA(),e.TgZ(57,"button",69),e._uU(58,"Guardar"),e.qZA()()}if(2&r){const t=e.oxw();let o,i,n,s,p,h,b,Z,C;e.xp6(5),e.Q6J("formGroup",t.formularioUsuario),e.xp6(4),e.Tol(t.esCampoValido("email")),e.xp6(2),e.Q6J("ngIf",null==(o=t.formularioUsuario.get("email"))||null==o.errors?null:o.errors.required),e.xp6(1),e.Q6J("ngIf",null==(i=t.formularioUsuario.get("email"))||null==i.errors?null:i.errors.pattern),e.xp6(6),e.Q6J("ngIf",null==(n=t.formularioUsuario.get("nombreUsuario"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(s=t.formularioUsuario.get("nombreUsuario"))||null==s.errors?null:s.errors.pattern),e.xp6(4),e.Tol(t.esCampoValido("personalSalud")),e.xp6(1),e.Q6J("ngForOf",t.listPersonal),e.xp6(2),e.Q6J("ngIf",null==(p=t.formularioUsuario.get("personalSalud"))||null==p.errors?null:p.errors.required),e.xp6(4),e.Tol(t.esCampoValido("rol")),e.xp6(1),e.Q6J("ngForOf",t.listRol),e.xp6(2),e.Q6J("ngIf",null==(h=t.formularioUsuario.get("rol"))||null==h.errors?null:h.errors.required),e.xp6(4),e.Q6J("type",t.contrasenia1?"text":"password"),e.xp6(2),e.Tol(t.contrasenia1?"bi bi-eye-slash-fill":"bi bi-eye-fill"),e.xp6(1),e.Q6J("ngClass",t.esCampoValido("password")),e.xp6(1),e.Udp("width",t.porcentaje,"%"),e.Q6J("ngClass",t.colorBar),e.uIk("aria-valuenow",t.porcentaje),e.xp6(1),e.hij(" ",t.porcentaje,"% "),e.xp6(2),e.Q6J("ngIf",null==(b=t.formularioUsuario.get("password"))||null==b.errors?null:b.errors.required),e.xp6(1),e.Q6J("ngIf",null==(Z=t.formularioUsuario.get("password"))||null==Z.errors?null:Z.errors.pattern),e.xp6(3),e.Q6J("ngClass",t.esCampoValido("confirmContrasenia")),e.xp6(1),e.Q6J("type",t.contrasenia2?"text":"password"),e.xp6(2),e.Tol(t.contrasenia2?"bi bi-eye-slash-fill":"bi bi-eye-fill"),e.xp6(2),e.Q6J("ngIf",null==(C=t.formularioUsuario.get("confirmContrasenia"))||null==C.errors?null:C.errors.noSonIguales)}}let se=(()=>{class r{constructor(t,o,i,n,s){this.modalService=t,this.usuarioService=o,this.fb=i,this.config=n,this.tokenService=s,this.currentPage=1,this.contrasenia1=!1,this.contrasenia2=!1,this.porcentaje=0,this.colorBar="",this.pageSize=4,this.username=""}ngOnInit(){this.config.notFoundText="No se encontraron coincidencias",this.username=this.tokenService.getUserName(),this.usuarioService.getUsuarioByPage(),this.usuarioService.getAllPersonalMedico(),this.usuarioService.getAllRoles(),this.formularioUsuario=this.iniciarFormularioUsuario(),this.buscar=this.fb.group({filter:["",[]]}),this.buscar.get("filter")?.valueChanges.pipe((0,U.b)(100),(0,T.x)()).subscribe(t=>{this.pageSize=5,this.usuarioService.getUsuarioByFiltro(0,this.pageSize,t)})}iniciarFormularioUsuario(){return this.fb.group({idUsuario:[""],nombreUsuario:["",[l.kI.required,l.kI.pattern(z)]],email:["",[l.kI.required,l.kI.pattern(S)]],password:["",[l.kI.required,l.kI.pattern($),l.kI.maxLength(255)]],rol:[null,[l.kI.required]],confirmContrasenia:["",[l.kI.required]],personalSalud:[null,[l.kI.required]]},{validators:this.clavesSonIguales("password","confirmContrasenia")})}esCampoValido(t){const o=this.formularioUsuario.get(t);return!o?.valid&&o?.touched?"is-invalid":o?.touched?"is-valid":""}calcularPorcentajeAprobacion(){const t=this.formularioUsuario.get("password")?.value,o=[/[a-z]/.test(t),/[A-Z]/.test(t),/\d/.test(t),/[@$!%?&.]/.test(t),t.length>=8],n=o.filter(s=>s).length/o.length*100;return this.porcentaje=n,this.colorBar=this.calcularColorPorcentaje(),n}calcularColorPorcentaje(){return 0===this.porcentaje||this.porcentaje<40?"bg-danger":this.porcentaje>=40&&this.porcentaje<50?"bg-warning":this.porcentaje>=50&&this.porcentaje<=80?"bg-orange":this.porcentaje>80&&this.porcentaje<100?"bg-info":100===this.porcentaje?"bg-success":"bg-danger"}clavesSonIguales(t,o){return i=>{const s=i.controls[o];s.setErrors(i.controls[t]?.value===s.value?null:{noSonIguales:!0})}}get listUsuarios(){return this.usuarioService.listUsuarios}get listPersonal(){return this.usuarioService.listPersonal}get listRol(){return this.usuarioService.listRol}get isLoading(){return this.usuarioService.isLoading}verContrasenia(t=1){1===t?this.contrasenia1=!this.contrasenia1:this.contrasenia2=!this.contrasenia2}extraerNombreDeUsuario(){const t=this.formularioUsuario.get("email")?.value;if(S.test(t)){const i=t.split("@")[0];this.formularioUsuario.get("nombreUsuario")?.setValue(i)}else this.formularioUsuario.get("nombreUsuario")?.setValue("")}openModal(t,o=""){this.formularioUsuario.reset(),o?this.usuarioService.buscarUsuario(o).subscribe(i=>{this.formularioUsuario.setValue({idUsuario:i.id,nombreUsuario:i.nombreUsuario,email:i.email,rol:i.idRol,personalSalud:i.idPersonalSalud,password:"",confirmContrasenia:""}),this.modalService.open(t,{size:"md",centered:!0})}):this.modalService.open(t,{size:"md",centered:!0})}pageChange(t){this.usuarioService.getUsuarioByPage(t-1,this.pageSize)}guardar(){return this.formularioUsuario.valid&&(this.formularioUsuario.get("idUsuario")?.value?this.usuarioService.actualizarUsuario(this.formularioUsuario.get("idUsuario")?.value,this.formularioUsuario.value).subscribe({next:()=>{c().fire({icon:"success",title:"\xc9xito",text:"El usuario se ha guardado correctamente.",showConfirmButton:!0}),this.modalService.dismissAll(),this.usuarioService.getUsuarioByPage(),this.porcentaje=0,this.colorBar=""},error:t=>{c().fire({icon:"error",title:"Error",text:`${t.error.mensaje}`,showConfirmButton:!0})}}):this.usuarioService.guardarUsuario(this.formularioUsuario.value).subscribe({next:()=>{c().fire({icon:"success",title:"\xc9xito",text:"El usuario se ha guardado correctamente.",showConfirmButton:!0}),this.modalService.dismissAll(),this.usuarioService.getUsuarioByPage(),this.porcentaje=0,this.colorBar=""},error:t=>{c().fire({icon:"error",title:"Error",text:`${t.error.mensaje}`,showConfirmButton:!0})}})),Object.values(this.formularioUsuario.controls).forEach(t=>t.markAsTouched())}eliminar(t){c().fire({title:"\xbfEst\xe1 seguro de eliminar este registro?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(o=>{o.isConfirmed&&this.usuarioService.eliminarUsuario(t).subscribe({next:()=>{c().fire({icon:"success",title:"Eliminado",text:"El registro se ha eliminado exitosamente.",showConfirmButton:!0}),this.modalService.dismissAll(),this.usuarioService.getUsuarioByPage()},error:i=>{c().fire({icon:"error",title:"Error",text:`${i.error.mensaje}`,showConfirmButton:!0})}})})}iniciarAyuda(){const t=[{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear nuevos usuarios",side:"left",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},{element:"#buscar",popover:{title:"Filtrar Registros",description:"Aqu\xed puedes filtrar la informaci\xf3n",side:"top",align:"start"}},{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},{element:"#eliminar",popover:{title:"Eliminar un registro",description:"Aqu\xed puedes eliminar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(i=>i);(0,x.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(g.FF),e.Y36(j),e.Y36(l.qu),e.Y36(_.$q),e.Y36(I.B))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-usuario"]],decls:67,vars:16,consts:[[1,"container-full"],[1,"header__page"],[1,"d-flex","align-items-center"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"row","mb-3"],[1,"d-flex","justify-content-end","align-items-center"],["id","nuevoRegistro",1,"btn","btn-primary","fs6",3,"click"],[1,"bi","bi-plus-square"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"mb-2","d-flex","align-items-center"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label","me-1"],["id","cantidad",1,"col-xs-3","col-sm-auto"],[1,"form-select",2,"width","auto","height","auto",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","table-filtering-search",1,"col-xs-3","col-sm-auto","col-form-label","ms-1"],[3,"formGroup"],["id","buscar","id","buscar",1,"d-flex","align-items-center"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",1,"d-flex","justify-content-end","p-2",3,"pageSize","collectionSize","maxSize","page","rotate","boundaryLinks","pageChange"],["content",""],["scope","row"],[1,"d-flex","gap-1"],["type","button",1,"btn","btn-outline-success",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","6",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["id","formUsuario","name","formUsuario",3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label","fw-semibold"],["type","text","formControlName","email","id","email","placeholder","clinicau@ues.edu.sv","autocomplete","off",1,"form-control",3,"blur"],[1,"invalid-feedback"],["for","nombre",1,"form-label","fw-semibold"],["type","text","formControlName","nombreUsuario","id","nombre","placeholder","fernanda143","autocomplete","off","readonly","",1,"form-control"],["for","personal",1,"form-label","fw-semibold"],["formControlName","personalSalud","id","personal","placeholder","Seleccione una opci\xf3n"],[3,"value",4,"ngFor","ngForOf"],["for","rol",1,"form-label","fw-semibold"],["formControlName","rol","id","rol","placeholder","Seleccione una opci\xf3n"],["for","contrasenia",1,"form-label","fw-semibold"],[1,"input-group","mb-3"],["formControlName","password","id","contrasenia","placeholder","********","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"type","input"],["id","basic-addon1",1,"input-group-text","bg-transparent",3,"click"],[1,"progress","mb-3",3,"ngClass"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped",3,"ngClass"],["for","re-contrasenia",1,"form-label","fw-semibold"],[1,"input-group","mb-3",3,"ngClass"],["formControlName","confirmContrasenia","id","re-contrasenia","placeholder","********","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",3,"type"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit","form","formUsuario",1,"btn","btn-primary"],[3,"value"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),e._uU(4,"Usuario"),e.qZA(),e.TgZ(5,"button",3),e.NdJ("click",function(){return o.iniciarAyuda()}),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"nav",5)(8,"ol",6)(9,"li",7)(10,"a",8),e._uU(11,"Inicio"),e.qZA()(),e.TgZ(12,"li",9),e._uU(13,"Usuario"),e.qZA()()()(),e.TgZ(14,"div",10)(15,"div",11)(16,"button",12),e.NdJ("click",function(){e.CHM(i);const s=e.MAs(66);return e.KtG(o.openModal(s))}),e._UZ(17,"i",13),e.qZA()()(),e.TgZ(18,"div",14)(19,"div",15)(20,"label",16),e._uU(21,"Mostrar"),e.qZA(),e.TgZ(22,"div",17)(23,"select",18),e.NdJ("ngModelChange",function(s){return o.pageSize=s})("ngModelChange",function(){return o.pageChange(1)}),e.TgZ(24,"option",19),e._uU(25,"2"),e.qZA(),e.TgZ(26,"option",19),e._uU(27,"4"),e.qZA(),e.TgZ(28,"option",19),e._uU(29,"6"),e.qZA(),e.TgZ(30,"option",19),e._uU(31,"8"),e.qZA(),e.TgZ(32,"option",19),e._uU(33,"10"),e.qZA()()(),e.TgZ(34,"label",20),e._uU(35,"Registros"),e.qZA()(),e.TgZ(36,"form",21)(37,"div",22)(38,"label",23),e._uU(39,"Buscar:"),e.qZA(),e._UZ(40,"input",24),e.qZA()()(),e.TgZ(41,"div",25)(42,"table",26)(43,"thead")(44,"tr",27)(45,"th",28),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th",28),e._uU(48,"Nombre completo"),e.qZA(),e.TgZ(49,"th",28),e._uU(50,"Nombre de usuario"),e.qZA(),e.TgZ(51,"th",28),e._uU(52,"Especialidad"),e.qZA(),e.TgZ(53,"th",28),e._uU(54,"Rol"),e.qZA(),e.TgZ(55,"th",28),e._uU(56,"Acciones"),e.qZA()()(),e.TgZ(57,"tbody"),e.YNc(58,L,2,1,"ng-container",29),e.YNc(59,G,3,1,"tr",30),e.qZA()()(),e.TgZ(60,"div",31)(61,"div")(62,"p",32),e._uU(63),e.qZA()(),e.TgZ(64,"ngb-pagination",33),e.NdJ("pageChange",function(s){return o.pageChange(s)})("pageChange",function(s){return o.currentPage=s}),e.qZA()(),e.YNc(65,ne,59,31,"ng-template",null,34,e.W1O),e.qZA()}2&t&&(e.xp6(23),e.Q6J("ngModel",o.pageSize),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",8),e.xp6(2),e.Q6J("ngValue",10),e.xp6(4),e.Q6J("formGroup",o.buscar),e.xp6(22),e.Q6J("ngForOf",o.listUsuarios.content),e.xp6(1),e.Q6J("ngIf",0===o.listUsuarios.content.length),e.xp6(4),e.hij("Total de registros: ",o.listUsuarios.totalElements,""),e.xp6(1),e.Q6J("pageSize",o.listUsuarios.pageable.pageSize)("collectionSize",o.listUsuarios.totalElements)("maxSize",4)("page",o.currentPage)("rotate",!0)("boundaryLinks",!0))},dependencies:[m.mk,m.sg,m.O5,d.yS,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,g.N9,_.w9,_.jq],styles:[".progress[_ngcontent-%COMP%]{height:3px!important}.show-pass[_ngcontent-%COMP%]{position:absolute;top:5%;right:8%}.bg-orange[_ngcontent-%COMP%]{background-color:#ff9100}.progress[_ngcontent-%COMP%]{height:15px!important}"]}),r})(),le=(()=>{class r{constructor(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-bitacora"]],decls:31,vars:0,consts:[[1,"container-full"],[1,"header__page"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary","fs-4","mt-4"],[1,"bi","bi-plus-square"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1"),e._uU(3,"Bit\xe1cora"),e.qZA(),e.TgZ(4,"nav",2)(5,"ol",3)(6,"li",4)(7,"a",5),e._uU(8,"Inicio"),e.qZA()(),e.TgZ(9,"li",6),e._uU(10,"Bit\xe1cora"),e.qZA()()()(),e.TgZ(11,"div",7)(12,"button",8),e._UZ(13,"i",9),e.qZA()(),e.TgZ(14,"div",10)(15,"table",11)(16,"thead")(17,"tr",12)(18,"th",13),e._uU(19,"#"),e.qZA(),e.TgZ(20,"th",13),e._uU(21,"Nombre completo"),e.qZA(),e.TgZ(22,"th",13),e._uU(23,"Nombre de usuario"),e.qZA(),e.TgZ(24,"th",13),e._uU(25,"Especialidad"),e.qZA(),e.TgZ(26,"th",13),e._uU(27,"Rol"),e.qZA(),e.TgZ(28,"th",13),e._uU(29,"Acciones"),e.qZA()()(),e._UZ(30,"tbody"),e.qZA()()())},dependencies:[d.yS]}),r})();var f=u(2466);const ue=[{path:"rol",component:Q,canActivate:[f.i]},{path:"usuario",component:se,canActivate:[f.i]},{path:"bitacora",component:le,canActivate:[f.i]}];let ce=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(ue),d.Bz]}),r})(),pe=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[m.ez,ce,l.u5,l.UX,g.jF,_.A0]}),r})()}}]);