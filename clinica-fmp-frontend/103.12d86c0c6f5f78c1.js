"use strict";(self.webpackChunkclinica_fmp_frontend=self.webpackChunkclinica_fmp_frontend||[]).push([[103],{8103:(st,A,d)=>{d.r(A),d.d(A,{ExpedienteModule:()=>at,options:()=>rt});var Z=d(6895),T=d(3599),s=d(433),b=d(7926),u=d(6493),q=d(9861),I=d(8372),J=d(1884),k=d(5226),_=d.n(k),F=d(5930),e=d(1571),N=d(2340),Q=d(7579),Y=d(529);let y=(()=>{class n{constructor(t){this.http=t,this.api=`${N.N.api}/expediente`,this.apiPaciente=`${N.N.api}/paciente/sin-expediente`,this.fechaSincrona=new Q.x}get formatDate(){return q.Z}obtenerFechaFormateada(){return this.formatDate().format("YYYY")}listarPaciente(){this.http.get(`${this.apiPaciente}`).subscribe({next:t=>{this.pacienteList=t}})}listarPacienteEditar(t){this.http.get(`${this.apiPaciente}/${t}`).subscribe({next:i=>{this.pacienteList=i}})}numeroExpedienteSincrono(t=this.obtenerFechaFormateada()){this.http.get(`${this.api}/numero-expediente/${t}`).subscribe({next:i=>{this.fechaSincrona.next(i)}})}getFechaObservable(){return this.fechaSincrona.asObservable()}listarParametros(t=2,i=0,o="numeroExpediente,asc",l=""){this.http.get(`${this.api}`,{params:{page:i,size:t,sort:o,filtro:l}}).subscribe({next:a=>{this.expedienteList=a}})}eliminar(t){return this.http.delete(`${this.api}/${t}`)}editar(t,i){return this.http.put(`${this.api}/${t}`,i)}agregar(t){return this.http.post(`${this.api}`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var E=d(9061),C=d(723),G=d(1622),U=d(1094);function L(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),l=e.MAs(61);return e.KtG(o.openLg(l))}),e._UZ(1,"i",38),e.qZA()}}function S(n,r){1&n&&(e.TgZ(0,"span",47),e._uU(1,"Activo"),e.qZA())}function w(n,r){1&n&&(e.TgZ(0,"span",48),e._uU(1,"Inactivo"),e.qZA())}function M(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw(2),a=e.MAs(63);return e.KtG(l.openLgEditar(a,o))}),e._UZ(1,"i",50),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"editar":null)}}function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.eliminar(o.id))}),e._UZ(1,"i",52),e.qZA()}if(2&n){const t=e.oxw().first;e.Q6J("id",t?"inhabilitar":null)}}function P(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,S,2,0,"span",40),e.YNc(9,w,2,0,"span",41),e.qZA(),e.TgZ(10,"td",42)(11,"button",43),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2),p=e.MAs(65);return e.KtG(a.openLgView(p,l))}),e._UZ(12,"i",44),e.qZA(),e.YNc(13,M,2,1,"button",45),e.YNc(14,O,2,1,"button",46),e.qZA()()}if(2&n){const t=r.$implicit,i=r.first,o=e.oxw(2);e.xp6(2),e.Oqu(t.numeroExpediente),e.xp6(2),e.Oqu(o.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.paciente.nombre+" "+t.paciente.apellido),e.xp6(2),e.Q6J("ngIf",t.estado),e.xp6(1),e.Q6J("ngIf",!t.estado),e.xp6(2),e.Q6J("id",i?"detalle":null),e.xp6(2),e.Q6J("ngIf",o.isEditar||o.isAdmin),e.xp6(1),e.Q6J("ngIf",o.isEliminar&&t.estado||o.isAdmin&&t.estado)}}function $(n,r){if(1&n&&(e.ynx(0),e.YNc(1,P,15,8,"tr",39),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listar)}}function B(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",53),e._uU(2,"No existen registros disponibles"),e.qZA()())}function D(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente es requerido "),e.qZA())}function z(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xednimo de 7 caracteres "),e.qZA())}function K(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xe1ximo de 10 caracteres "),e.qZA())}function V(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente solo debe contener d\xedgitos "),e.qZA())}function H(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,D,2,0,"div",85),e.YNc(2,z,2,0,"div",85),e.YNc(3,K,2,0,"div",85),e.YNc(4,V,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.numeroExpediente"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.form.get("expediente.numeroExpediente"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.numeroExpediente"))||null==a.errors?null:a.errors.pattern)}}function j(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La fecha de creaci\xf3n es requerida "),e.qZA())}function W(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,j,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.fecha"))||null==i.errors?null:i.errors.required)}}function R(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function X(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,R,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.idPaciente"))||null==i.errors?null:i.errors.required)}}function ee(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function ie(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre solo debe contener letras y espacios "),e.qZA())}function oe(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,ee,2,0,"div",85),e.YNc(2,te,2,0,"div",85),e.YNc(3,ne,2,0,"div",85),e.YNc(4,ie,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("nombre"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("nombre"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("nombre"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))||null==a.errors?null:a.errors.pattern)}}function le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El apellido es requerido"),e.qZA())}function re(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function se(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido solo debe contener letras y espacios "),e.qZA())}function de(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,le,2,0,"div",85),e.YNc(2,re,2,0,"div",85),e.YNc(3,ae,2,0,"div",85),e.YNc(4,se,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function pe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El parentesco es requerido"),e.qZA())}function ce(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function _e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function ue(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco solo debe contener letras y espacios "),e.qZA())}function me(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,pe,2,0,"div",85),e.YNc(2,ce,2,0,"div",85),e.YNc(3,_e,2,0,"div",85),e.YNc(4,ue,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xednimo de 9 caracteres "),e.qZA())}function fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xe1ximo de 15 caracteres "),e.qZA())}function xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono debe iniciar con [2, 6 o 7] "),e.qZA())}function ve(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,ge,2,0,"div",85),e.YNc(2,fe,2,0,"div",85),e.YNc(3,xe,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("telfono"))||null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("telfono"))||null==o.errors?null:o.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("telfono"))||null==l.errors?null:l.errors.pattern)}}const c=function(n,r){return{"is-invalid":n,"is-valid":r}};function he(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",62),e._UZ(4,"input",88),e.YNc(5,oe,5,4,"div",66),e.qZA()(),e.TgZ(6,"div",87)(7,"div",62),e._UZ(8,"input",89),e.YNc(9,de,5,4,"div",66),e.qZA()(),e.TgZ(10,"div",87)(11,"div",62),e._UZ(12,"input",90),e.YNc(13,me,5,4,"div",66),e.qZA()(),e.TgZ(14,"div",91)(15,"div",62),e._UZ(16,"input",92),e.YNc(17,ve,4,3,"div",66),e.qZA()(),e.TgZ(18,"div",93)(19,"div",62)(20,"button",94),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.quitarFamilia(l))}),e._UZ(21,"i",52),e.qZA()()()()()}if(2&n){const t=r.$implicit,i=r.index,o=e.oxw(2);let l,a,p,x,m,v,g,h;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("ngClass",e.WLB(10,c,o.seGuardo&&(null==(l=t.get("nombre"))?null:l.errors),o.seGuardo&&(null==(l=t.get("nombre"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))?null:a.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(13,c,o.seGuardo&&(null==(p=t.get("apellido"))?null:p.errors),o.seGuardo&&(null==(p=t.get("apellido"))?null:p.valid))),e.xp6(1),e.Q6J("ngIf",null==(x=t.get("apellido"))?null:x.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(16,c,o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.errors),o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(v=t.get("parentesco"))?null:v.errors),e.xp6(3),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(19,c,o.seGuardo&&(null==(g=t.get("telfono"))?null:g.errors),o.seGuardo&&(null==(g=t.get("telfono"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.get("telfono"))?null:h.errors)}}function Ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"h4",55),e._uU(2,"Agregar antiguo ingreso"),e.qZA(),e.TgZ(3,"button",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",57),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.guardar())}),e.TgZ(5,"div",58)(6,"div",0)(7,"div",59)(8,"div",60)(9,"div",61)(10,"div",62)(11,"label",63),e._uU(12,"N\xfamero de expediente"),e.qZA(),e.TgZ(13,"span",64),e._uU(14," *"),e.qZA(),e._UZ(15,"input",65),e.YNc(16,H,5,4,"div",66),e.qZA()(),e.TgZ(17,"div",67)(18,"div",62)(19,"div")(20,"label",68),e._uU(21,"Manual"),e.qZA()(),e.TgZ(22,"div",69)(23,"input",70),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cambiarManual())}),e.qZA()()()(),e.TgZ(24,"div",71)(25,"div",62)(26,"label",72),e._uU(27,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(28,"span",64),e._uU(29," *"),e.qZA(),e.TgZ(30,"input",73),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.capturarFecha())}),e.qZA(),e.YNc(31,W,2,1,"div",66),e.qZA()()(),e.TgZ(32,"div",60)(33,"div",71)(34,"div",62)(35,"label",74),e._uU(36,"Paciente"),e.qZA(),e.TgZ(37,"span",64),e._uU(38," *"),e.qZA(),e._UZ(39,"ng-select",75),e.YNc(40,X,2,1,"div",66),e.qZA()(),e.TgZ(41,"div",71),e._UZ(42,"div",62),e.qZA()()(),e.TgZ(43,"div",76)(44,"div",60)(45,"div",77)(46,"div",7)(47,"h3",78),e._uU(48,"Familia"),e.qZA(),e.TgZ(49,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarFamilia())}),e._UZ(50,"i",80),e.qZA()()()(),e.YNc(51,he,22,22,"div",39),e.qZA()()(),e.TgZ(52,"div",81)(53,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(54,"Cerrar"),e.qZA(),e.TgZ(55,"button",83),e._uU(56,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,o,l,a,p;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(10,c,t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.valid))),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))?null:o.errors),e.xp6(14),e.Q6J("ngClass",e.WLB(13,c,t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.errors),t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.valid)))("max",t.maxDate()),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.fecha"))?null:a.errors),e.xp6(8),e.Q6J("items",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(p=t.form.get("expediente.idPaciente"))?null:p.errors),e.xp6(11),e.Q6J("ngForOf",t.familia.controls)}}function be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente es requerido "),e.qZA())}function Ee(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xednimo de 7 caracteres "),e.qZA())}function Te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xe1ximo de 10 caracteres "),e.qZA())}function Ce(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente solo debe contener d\xedgitos "),e.qZA())}function Ae(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,be,2,0,"div",85),e.YNc(2,Ee,2,0,"div",85),e.YNc(3,Te,2,0,"div",85),e.YNc(4,Ce,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.numeroExpediente"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.form.get("expediente.numeroExpediente"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.numeroExpediente"))||null==a.errors?null:a.errors.pattern)}}function qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La fecha de creaci\xf3n es requerida "),e.qZA())}function Ne(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,qe,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.fecha"))||null==i.errors?null:i.errors.required)}}function Ue(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function Ie(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,Ue,2,0,"div",85),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.idPaciente"))||null==i.errors?null:i.errors.required)}}function Je(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"label",96),e._uU(3,"Estado"),e.qZA()(),e.TgZ(4,"div",69)(5,"input",97),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cambiarEstado())}),e.qZA(),e.TgZ(6,"label",98),e._uU(7),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(t.estadoActual)}}function ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function Fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function Ye(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre solo debe contener letras y espacios "),e.qZA())}function ye(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,ke,2,0,"div",85),e.YNc(2,Fe,2,0,"div",85),e.YNc(3,Qe,2,0,"div",85),e.YNc(4,Ye,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("nombre"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("nombre"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("nombre"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))||null==a.errors?null:a.errors.pattern)}}function Ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El apellido es requerido"),e.qZA())}function Le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Se(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function we(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido solo debe contener letras y espacios "),e.qZA())}function Me(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,Ge,2,0,"div",85),e.YNc(2,Le,2,0,"div",85),e.YNc(3,Se,2,0,"div",85),e.YNc(4,we,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function Oe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El parentesco es requerido"),e.qZA())}function Pe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function Be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco solo debe contener letras y espacios "),e.qZA())}function De(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,Oe,2,0,"div",85),e.YNc(2,Pe,2,0,"div",85),e.YNc(3,$e,2,0,"div",85),e.YNc(4,Be,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function ze(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xednimo de 9 caracteres "),e.qZA())}function Ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xe1ximo de 15 caracteres "),e.qZA())}function Ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono debe iniciar con [2, 6 o 7] "),e.qZA())}function He(n,r){if(1&n&&(e.TgZ(0,"div",84),e.YNc(1,ze,2,0,"div",85),e.YNc(2,Ke,2,0,"div",85),e.YNc(3,Ve,2,0,"div",85),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("telfono"))||null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("telfono"))||null==o.errors?null:o.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("telfono"))||null==l.errors?null:l.errors.pattern)}}function je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",86)(2,"div",87)(3,"div",62),e._UZ(4,"input",99),e.YNc(5,ye,5,4,"div",66),e.qZA()(),e.TgZ(6,"div",87)(7,"div",62),e._UZ(8,"input",100),e.YNc(9,Me,5,4,"div",66),e.qZA()(),e.TgZ(10,"div",87)(11,"div",62),e._UZ(12,"input",101),e.YNc(13,De,5,4,"div",66),e.qZA()(),e.TgZ(14,"div",91)(15,"div",62),e._UZ(16,"input",102),e.YNc(17,He,4,3,"div",66),e.qZA()(),e.TgZ(18,"div",93)(19,"div",62)(20,"button",94),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.quitarFamilia(l))}),e._UZ(21,"i",52),e.qZA()()()()()}if(2&n){const t=r.$implicit,i=r.index,o=e.oxw(2);let l,a,p,x,m,v,g,h;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("ngClass",e.WLB(10,c,o.seGuardo&&(null==(l=t.get("nombre"))?null:l.errors),o.seGuardo&&(null==(l=t.get("nombre"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))?null:a.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(13,c,o.seGuardo&&(null==(p=t.get("apellido"))?null:p.errors),o.seGuardo&&(null==(p=t.get("apellido"))?null:p.valid))),e.xp6(1),e.Q6J("ngIf",null==(x=t.get("apellido"))?null:x.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(16,c,o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.errors),o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(v=t.get("parentesco"))?null:v.errors),e.xp6(3),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(19,c,o.seGuardo&&(null==(g=t.get("telfono"))?null:g.errors),o.seGuardo&&(null==(g=t.get("telfono"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.get("telfono"))?null:h.errors)}}function We(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"h4",55),e._uU(2,"Editar Antiguo Ingreso"),e.qZA(),e.TgZ(3,"button",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",57),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editar())}),e.TgZ(5,"div",58)(6,"div",0)(7,"div",59)(8,"div",60)(9,"div",71)(10,"div",62)(11,"label",63),e._uU(12,"N\xfamero de expediente"),e.qZA(),e.TgZ(13,"span",64),e._uU(14," *"),e.qZA(),e._UZ(15,"input",65),e.YNc(16,Ae,5,4,"div",66),e.qZA()(),e.TgZ(17,"div",71)(18,"div",62)(19,"label",72),e._uU(20,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(21,"span",64),e._uU(22," *"),e.qZA(),e._UZ(23,"input",95),e.YNc(24,Ne,2,1,"div",66),e.qZA()()(),e.TgZ(25,"div",60)(26,"div",71)(27,"div",62)(28,"label",74),e._uU(29,"Paciente"),e.qZA(),e.TgZ(30,"span",64),e._uU(31," *"),e.qZA(),e._UZ(32,"ng-select",75),e.YNc(33,Ie,2,1,"div",66),e.qZA()(),e.TgZ(34,"div",71)(35,"div",62),e.YNc(36,Je,8,1,"ng-container",85),e.qZA()()()(),e.TgZ(37,"div",76)(38,"div",60)(39,"div",77)(40,"div",7)(41,"h3",78),e._uU(42,"Familia"),e.qZA(),e.TgZ(43,"button",79),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarFamilia())}),e._UZ(44,"i",80),e.qZA()()()(),e.YNc(45,je,22,22,"div",39),e.qZA()()(),e.TgZ(46,"div",81)(47,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(48,"Cerrar"),e.qZA(),e.TgZ(49,"button",83),e._uU(50,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,o,l,a,p;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(11,c,t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("numeroExpediente"))?null:i.valid))),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))?null:o.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(14,c,t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.errors),t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.valid)))("max",t.maxDate()),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.fecha"))?null:a.errors),e.xp6(8),e.Q6J("items",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(p=t.form.get("expediente.idPaciente"))?null:p.errors),e.xp6(3),e.Q6J("ngIf",!t.mostrarEstado&&t.isAdmin),e.xp6(9),e.Q6J("ngForOf",t.familia.controls)}}function Re(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.familia.nombre),e.xp6(2),e.Oqu(t.familia.apellido),e.xp6(2),e.Oqu(t.familia.parentesco),e.xp6(2),e.Oqu(t.telefono?t.telefono:"No se proporciono")}}function Xe(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Re,9,4,"tr",39),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.expediente.expedienteFamilias)}}function et(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",110),e._uU(2,"No existen registros disponibles"),e.qZA()())}function tt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",54)(1,"h4",55),e._uU(2,"Ver detalles del antiguo ingreso"),e.qZA(),e.TgZ(3,"button",56),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",58)(5,"div",0)(6,"div",60)(7,"div",103)(8,"h5",104),e._uU(9,"Detalle expediente"),e.qZA()()(),e.TgZ(10,"div",60)(11,"div",71)(12,"div",62)(13,"label",105),e._uU(14,"N\xfamero de expediente"),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",71)(18,"div",62)(19,"label",105),e._uU(20,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA()()()(),e.TgZ(23,"div",60)(24,"div",71)(25,"div",62)(26,"label",105),e._uU(27,"Paciente"),e.qZA(),e.TgZ(28,"p",106),e._uU(29),e.qZA()()(),e.TgZ(30,"div",71)(31,"div",62)(32,"label",105),e._uU(33,"Estado"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA()()()(),e.TgZ(36,"div",60)(37,"div",107)(38,"h5",108),e._uU(39,"Detalle familia"),e.qZA()()(),e.TgZ(40,"div",60)(41,"div",22)(42,"table",23)(43,"thead")(44,"tr",24)(45,"th",28),e._uU(46,"Nombre"),e.qZA(),e.TgZ(47,"th",28),e._uU(48,"Apellido"),e.qZA(),e.TgZ(49,"th",28),e._uU(50,"Parentesco"),e.qZA(),e.TgZ(51,"th",28),e._uU(52,"Tel\xe9fono"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,Xe,2,1,"ng-container",29),e.YNc(55,et,3,0,"ng-template",null,109,e.W1O),e.qZA()()()()()(),e.TgZ(57,"div",81)(58,"button",82),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(59,"Cerrar"),e.qZA()()}if(2&n){const t=e.MAs(56),i=e.oxw();e.xp6(16),e.Oqu(i.expediente.numeroExpediente),e.xp6(6),e.Oqu(i.formatDate(i.expediente.fecha).format("LL")),e.xp6(7),e.hij(" ",i.expediente.paciente.nombre+" "+i.expediente.paciente.apellido," "),e.xp6(6),e.Oqu(i.expediente.estado?"Activo":"Inactivo"),e.xp6(19),e.Q6J("ngIf",i.expediente.expedienteFamilias.length>0)("ngIfElse",t)}}const f=function(n){return{"d-none":n}},ot=[{path:"",component:(()=>{class n{constructor(t,i,o,l,a){this.service=t,this.modalService=i,this.fb=o,this.config=l,this.tokenService=a,this.pageList=b.Hj,this.maxSize=b.$,this.page=b.Md,this.size=b.dp,this.seGuardo=!1,this.cambioOrden=!0,this.mostrarEstado=!1,this.estadoActual="Activo",this.sort="numeroExpediente,asc",this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.permiso="ANTIGUO_INGRESO_",this.config.notFoundText="No se encontraron resultados",this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({expediente:this.fb.group({manual:["",[]],numeroExpediente:["",[s.kI.required,s.kI.minLength(7),s.kI.maxLength(10),s.kI.pattern(u.DF)]],fecha:["",[s.kI.required]],idPaciente:["",[s.kI.required]],estado:["",[]]}),familia:this.fb.array([])})}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos(this.permiso,"VER"),this.isCrear=this.tokenService.isPermisos(this.permiso,"CREAR"),this.isEditar=this.tokenService.isPermisos(this.permiso,"EDITAR"),this.isEliminar=this.tokenService.isPermisos(this.permiso,"ELIMINAR"),this.buscar.get("filter")?.valueChanges.pipe((0,I.b)(500),(0,J.x)()).subscribe(t=>{this.page=0,this.service.listarParametros(this.size,this.page,this.sort,t)}),this.service.listarPaciente(),this.service.numeroExpedienteSincrono()}get listar(){return this.service.expedienteList?this.service.expedienteList.content:[]}get listarPaciente(){return this.service.pacienteList?this.service.pacienteList:[]}get listarTotal(){return this.service.expedienteList?this.service.expedienteList.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get familia(){return this.form.get("familia")}get formatDate(){return q.Z}maxDate(){return this.formatDate().format("YYYY-MM-DD")}nuevaFamilia(){return this.fb.group({nombre:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],apellido:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],parentesco:["",[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],telfono:["",[s.kI.minLength(9),s.kI.maxLength(15),s.kI.pattern(u.Nh)]]})}cambiarEstado(){this.estadoActual=this.form.get("expediente.estado")?.value?"Activo":"Inactivo"}agregarFamilia(){this.familia.push(this.nuevaFamilia())}quitarFamilia(t){_().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.familia.removeAt(t),_().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}refresh(){this.service.listarParametros(this.size,this.page-1,this.sort,this.filter)}refreshSize(){this.page=0,this.service.listarParametros(this.size,this.page,this.sort,this.filter)}ordenar(t){this.cambioOrden=!this.sort.includes(t)||!this.cambioOrden,this.page=0,this.sort=this.cambioOrden?t+",asc":t+",desc",this.service.listarParametros(this.size,this.page,this.sort,this.filter)}cambiarManual(){this.form.get("expediente.manual")?.value?this.form.get("expediente.numeroExpediente")?.enable():this.form.get("expediente.numeroExpediente")?.disable()}obtenerFechaFormateada(){return this.formatDate().format("YYYY-MM-DD")}capturarFecha(){const t=this.formatDate(this.form.get("expediente.fecha")?.value);!t.isValid()||(this.service.numeroExpedienteSincrono(t.format("YYYY")),this.service.getFechaObservable().subscribe(i=>{this.form.get("expediente")?.patchValue({numeroExpediente:i.numeroExpediente})}))}openLg(t){this.seGuardo=!1,this.reiniciarFormulario(),this.cambiarManual(),this.modalService.open(t,{size:"xl"})}openLgEditar(t,i){this.seGuardo=!1,this.expediente=i,this.service.listarPacienteEditar(this.expediente.paciente.id),this.familia.clear(),this.mostrarEstado=this.expediente.estado,this.form.get("expediente")?.patchValue({numeroExpediente:this.expediente.numeroExpediente,fecha:this.expediente.fecha,idPaciente:this.expediente.paciente.id,estado:this.expediente.estado}),this.expediente.expedienteFamilias.map(o=>{this.familia.push(this.fb.group({nombre:[o.familia.nombre,[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],apellido:[o.familia.apellido,[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],parentesco:[o.familia.parentesco,[s.kI.required,s.kI.minLength(2),s.kI.maxLength(50),s.kI.pattern(u.Am)]],telfono:[o.telefono,[s.kI.minLength(9),s.kI.maxLength(15),s.kI.pattern(u.Nh)]]}))}),this.form.get("expediente.numeroExpediente")?.disable(),this.cambiarEstado(),this.modalService.open(t,{size:"xl"})}openLgView(t,i){this.expediente=i,this.modalService.open(t,{size:"lg"})}reiniciarFormulario(){this.service.listarPaciente(),this.service.numeroExpedienteSincrono(),this.service.getFechaObservable().subscribe(t=>{this.form.get("expediente")?.patchValue({numeroExpediente:t.numeroExpediente})}),this.form.get("expediente")?.patchValue({manual:!1,fecha:this.obtenerFechaFormateada(),idPaciente:null,estado:!1}),this.familia.clear()}guardar(){this.seGuardo=!0,this.form.valid?(this.form.get("expediente.numeroExpediente")?.enable(),this.service.agregar(this.form.value).subscribe({next:()=>{_().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.service.listarParametros(this.size,this.page-1,this.sort,this.filter),this.reiniciarFormulario(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{_().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}})):_().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}editar(){this.seGuardo=!0,this.form.valid?(this.form.get("expediente.numeroExpediente")?.enable(),this.service.editar(this.expediente.id,this.form.value).subscribe({next:()=>{_().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.service.listarParametros(this.size,this.page-1,this.sort,this.filter),this.reiniciarFormulario(),this.seGuardo=!1,this.modalService.dismissAll()},error:i=>{_().fire({position:"center",title:"Ocurri\xf3 un error",text:i.error.mensaje,icon:"error"})}})):_().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}eliminar(t){_().fire({title:"\xbfConfirmar inhabilitaci\xf3n?",text:"Esta acci\xf3n marcar\xe1 el registro como inhabilitado, pero no lo eliminar\xe1 definitivamente.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, inhabilitar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.service.eliminar(t).subscribe({next:o=>{o&&this.service.listarParametros(this.size,this.page-1,this.sort,this.filter)}}),_().fire("Inhabilitado","El registro ha sido marcado como inhabilitado exitosamente.","success"))})}iniciarAyuda(){const t=[(this.isCrear||this.isAdmin)&&{element:"#nuevoRegistro",popover:{title:"Crear un nuevo registro",description:"Aqu\xed puedes crear un nuevo registro para antiguo ingreso",side:"left",align:"start"}},{element:"#cantidad",popover:{title:"Cantidad de registros a mostrar",description:"Aqu\xed puedes establecer la cantidad de informaci\xf3n que se muestra en la tabla",side:"right",align:"start"}},{element:"#buscar",popover:{title:"Filtrar registros",description:"Aqu\xed puedes filtrar la informaci\xf3n",side:"top",align:"start"}},(this.isVer||this.isAdmin)&&{element:"#detalle",popover:{title:"Ver detalles de un registro",description:"Aqu\xed puedes acceder a informaci\xf3n detallada sobre un registro",side:"left",align:"start"}},(this.isEditar||this.isAdmin)&&this.listar.length>0&&{element:"#editar",popover:{title:"Editar un registro",description:"Aqu\xed puedes editar un registro",side:"left",align:"start"}},(this.isEliminar||this.isAdmin)&&this.listar.length>0&&this.listar[0].estado&&{element:"#inhabilitar",popover:{title:"Inhabilitar un registro",description:"Aqu\xed puedes inhabilitar un registro",side:"left",align:"start"}},{element:"#paginacion",popover:{title:"Seleccionar p\xe1gina de registro",description:"Aqu\xed puedes seleccionar la p\xe1gina de la informaci\xf3n que deseas mostrar",side:"left",align:"end"}}].filter(Boolean).map(o=>o);(0,F.v)({showProgress:!0,nextBtnText:"Siguiente",prevBtnText:"Anterior",doneBtnText:"Finalizar",progressText:"{{current}} de {{total}}",steps:t}).drive()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(y),e.Y36(E.FF),e.Y36(s.qu),e.Y36(C.$q),e.Y36(G.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expediente"]],decls:66,vars:38,consts:[[1,"container-fluid"],[1,"header__page","d-flex","justify-content-end","mb-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink",""],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","align-items-center"],[1,"fs-3"],[1,"btn","text-primary","fs-5",3,"click"],[1,"bi","bi-info-circle-fill"],["type","button","class","btn btn-primary","id","nuevoRegistro",3,"click",4,"ngIf"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between","mb-3"],["id","cantidad",1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","bindLabel","value","bindValue","value",3,"items","ngModel","clearable","ngModelChange"],["for","pageSize",1,"col-form-label","ms-2"],[3,"formGroup"],["id","buscar",1,"d-flex","align-items-center","mb-3"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mb-3"],[1,"table","align-middle"],[1,"border-dark"],["scope","col",3,"click"],[1,"bi","bi-caret-up-fill",3,"ngClass"],[1,"bi","bi-caret-down-fill",3,"ngClass"],["scope","col"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],["id","paginacion",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],["contentView",""],["type","button","id","nuevoRegistro",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"d-flex","flex-row"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"id","click"],[1,"bi","bi-eye"],["type","button","class","btn btn-outline-success me-2",3,"id","click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"id","click",4,"ngIf"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["type","button",1,"btn","btn-outline-success","me-2",3,"id","click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"id","click"],[1,"bi","bi-x-lg"],["colspan","5",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["formGroupName","expediente"],[1,"row"],[1,"col-10","col-lg-5"],[1,"mb-3"],["for","numeroExpediente",1,"form-label"],[1,"text-danger"],["type","text","formControlName","numeroExpediente","id","numeroExpediente","placeholder","Ingrese el n\xfamero de expediente","mask","0000000",1,"form-control",3,"dropSpecialCharacters","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-2","col-lg-1"],["for","manual",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","manual","formControlName","manual",1,"form-check-input",3,"change"],[1,"col-12","col-lg-6"],["for","fecha",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass","max","change"],["for","idPaciente",1,"form-label"],["formControlName","idPaciente","id","idPaciente","placeholder","Seleccione al paciente","bindLabel","labelPaciente","bindValue","id",3,"items"],["formArrayName","familia"],[1,"col-12"],[1,"fs-4"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-lg"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-6","col-lg-3"],["type","text","formControlName","nombre","id","nombre","placeholder","Nombre *",1,"form-control",3,"ngClass"],["type","text","formControlName","apellido","id","apellido","placeholder","Apellido *",1,"form-control",3,"ngClass"],["type","text","formControlName","parentesco","id","parentesco","placeholder","Parentesco *",1,"form-control",3,"ngClass"],[1,"col-6","col-lg-2"],["type","text","formControlName","telfono","id","telfono","mask","0000-0000","placeholder","Tel\xe9fono",1,"form-control",3,"dropSpecialCharacters","ngClass"],[1,"col-6","col-lg-1"],["type","button",1,"btn","btn-outline-danger",3,"click"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass","max"],["for","estado",1,"form-label"],["type","checkbox","id","estado","formControlName","estado",1,"form-check-input",3,"change"],["for","estado",1,"form-check-label"],["type","text","formControlName","nombre","id","nombre","placeholder","Ingrese el nombre",1,"form-control",3,"ngClass"],["type","text","formControlName","apellido","id","apellido","placeholder","Ingrese el apellido",1,"form-control",3,"ngClass"],["type","text","formControlName","parentesco","id","parentesco","placeholder","Ingrese el parentesco",1,"form-control",3,"ngClass"],["type","text","formControlName","telfono","id","telfono","mask","0000-0000","placeholder","Ingresa el tel\xe9fono",1,"form-control",3,"dropSpecialCharacters","ngClass"],[1,"d-flex","justify-content-center","mb-3"],[1,"fs-5","fw-bold"],[1,"form-label","fw-bold"],[1,""],[1,"mb-3","mt-3"],[1,"d-flex","justify-content-center","fs-5","fw-bold"],["noRecordsFamilia",""],["colspan","4",1,"text-center"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"li",6),e._uU(8,"Antiguo ingreso"),e.qZA()()()(),e.TgZ(9,"div",7)(10,"div",8)(11,"h1",9),e._uU(12,"Antiguo ingreso"),e.qZA(),e.TgZ(13,"button",10),e.NdJ("click",function(){return i.iniciarAyuda()}),e._UZ(14,"i",11),e.qZA()(),e.TgZ(15,"div"),e.YNc(16,L,2,0,"button",12),e.qZA()(),e.TgZ(17,"div",13)(18,"div",14)(19,"label",15),e._uU(20,"Mostrar:"),e.qZA(),e.TgZ(21,"ng-select",16),e.NdJ("ngModelChange",function(l){return i.size=l})("ngModelChange",function(){return i.refreshSize()}),e.qZA(),e.TgZ(22,"label",17),e._uU(23,"registros"),e.qZA()(),e.TgZ(24,"form",18)(25,"div",19)(26,"label",20),e._uU(27,"Buscar:"),e.qZA(),e._UZ(28,"input",21),e.qZA()()(),e.TgZ(29,"div",22)(30,"table",23)(31,"thead")(32,"tr",24)(33,"th",25),e.NdJ("click",function(){return i.ordenar("numeroExpediente")}),e._uU(34," # Expediente"),e._UZ(35,"i",26)(36,"i",27),e.qZA(),e.TgZ(37,"th",25),e.NdJ("click",function(){return i.ordenar("fecha")}),e._uU(38," Fecha de Creaci\xf3n"),e._UZ(39,"i",26)(40,"i",27),e.qZA(),e.TgZ(41,"th",25),e.NdJ("click",function(){return i.ordenar("paciente.nombre")}),e._uU(42," Paciente"),e._UZ(43,"i",26)(44,"i",27),e.qZA(),e.TgZ(45,"th",25),e.NdJ("click",function(){return i.ordenar("estado")}),e._uU(46," Estado"),e._UZ(47,"i",26)(48,"i",27),e.qZA(),e.TgZ(49,"th",28),e._uU(50,"Acciones"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,$,2,1,"ng-container",29),e.YNc(53,B,3,0,"ng-template",null,30,e.W1O),e.qZA()()(),e.TgZ(55,"div",31)(56,"div")(57,"p",32),e._uU(58),e.qZA()(),e.TgZ(59,"ngb-pagination",33),e.NdJ("pageChange",function(l){return i.page=l})("pageChange",function(){return i.refresh()}),e.qZA()()(),e.YNc(60,Ze,57,16,"ng-template",null,34,e.W1O),e.YNc(62,We,51,17,"ng-template",null,35,e.W1O),e.YNc(64,tt,60,6,"ng-template",null,36,e.W1O)),2&t){const o=e.MAs(54);e.xp6(16),e.Q6J("ngIf",i.isCrear||i.isAdmin),e.xp6(5),e.Q6J("items",i.pageList)("ngModel",i.size)("clearable",!1),e.xp6(3),e.Q6J("formGroup",i.buscar),e.xp6(11),e.Q6J("ngClass",e.VKq(22,f,"numeroExpediente,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(24,f,"numeroExpediente,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(26,f,"fecha,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(28,f,"fecha,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(30,f,"paciente.nombre,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(32,f,"paciente.nombre,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(34,f,"estado,desc"!==i.sort||i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(36,f,"estado,asc"!==i.sort||!i.cambioOrden)),e.xp6(4),e.Q6J("ngIf",i.listar.length>0)("ngIfElse",o),e.xp6(6),e.hij("Total de resgistros: ",i.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",i.listarTotal)("page",i.page)("pageSize",i.size)("maxSize",i.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[Z.mk,Z.sg,Z.O5,T.yS,s._Y,s.Fj,s.Wl,s.JJ,s.JL,s.On,s.sg,s.u,s.x0,s.CE,E.N9,C.w9,U.hx]}),n})(),canActivate:[d(2466).i],data:{expectedAuthorities:["ANTIGUO_INGRESO"]}}];let lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Bz.forChild(ot),T.Bz]}),n})();const rt=null;let at=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.ez,lt,s.u5,s.UX,E.jF,E.ZS,C.A0,U.yI.forRoot()]}),n})()}}]);