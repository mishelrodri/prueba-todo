"use strict";(self.webpackChunkclinica_fmp_frontend=self.webpackChunkclinica_fmp_frontend||[]).push([[103],{8103:(at,A,s)=>{s.r(A),s.d(A,{ExpedienteModule:()=>rt,options:()=>lt});var Z=s(6895),T=s(3599),d=s(433),b=s(7926),u=s(6493),q=s(9861),I=s(8372),J=s(1884),k=s(5226),c=s.n(k),e=s(1571),N=s(2340),F=s(7579),Q=s(529);let Y=(()=>{class n{constructor(t){this.http=t,this.api=`${N.N.api}/expediente`,this.apiPaciente=`${N.N.api}/paciente/sin-expediente`,this.fechaSincrona=new F.x}get formatDate(){return q.Z}obtenerFechaFormateada(){return this.formatDate().format("YYYY")}listarPaciente(){this.http.get(`${this.apiPaciente}`).subscribe({next:t=>{this.pacienteList=t}})}listarPacienteEditar(t){this.http.get(`${this.apiPaciente}/${t}`).subscribe({next:i=>{this.pacienteList=i}})}numeroExpedienteSincrono(t=this.obtenerFechaFormateada()){this.http.get(`${this.api}/numero-expediente/${t}`).subscribe({next:i=>{this.fechaSincrona.next(i)}})}getFechaObservable(){return this.fechaSincrona.asObservable()}listarParametros(t=2,i=0,o="numeroExpediente,asc",l=""){this.http.get(`${this.api}`,{params:{page:i,size:t,sort:o,filtro:l}}).subscribe({next:a=>{this.expedienteList=a}})}eliminar(t){return this.http.delete(`${this.api}/${t}`)}editar(t,i){return this.http.put(`${this.api}/${t}`,i)}agregar(t){return this.http.post(`${this.api}`,t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Q.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var E=s(9061),C=s(723),G=s(1622),U=s(1094);function y(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),l=e.MAs(59);return e.KtG(o.openLg(l))}),e._UZ(1,"i",34),e.qZA()}}function L(n,r){1&n&&(e.TgZ(0,"span",43),e._uU(1,"Activo"),e.qZA())}function S(n,r){1&n&&(e.TgZ(0,"span",44),e._uU(1,"Inactivo"),e.qZA())}function w(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",45),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw(2),a=e.MAs(61);return e.KtG(l.openLgEditar(a,o))}),e._UZ(1,"i",46),e.qZA()}}function M(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,l=e.oxw(2);return e.KtG(l.eliminar(o.id))}),e._UZ(1,"i",48),e.qZA()}}function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e.YNc(8,L,2,0,"span",36),e.YNc(9,S,2,0,"span",37),e.qZA(),e.TgZ(10,"td",38)(11,"button",39),e.NdJ("click",function(){const l=e.CHM(t).$implicit,a=e.oxw(2),p=e.MAs(63);return e.KtG(a.openLgView(p,l))}),e._UZ(12,"i",40),e.qZA(),e.YNc(13,w,2,0,"button",41),e.YNc(14,M,2,0,"button",42),e.qZA()()}if(2&n){const t=r.$implicit,i=e.oxw(2);e.xp6(2),e.Oqu(t.numeroExpediente),e.xp6(2),e.Oqu(i.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.paciente.nombre+" "+t.paciente.apellido),e.xp6(2),e.Q6J("ngIf",t.estado),e.xp6(1),e.Q6J("ngIf",!t.estado),e.xp6(4),e.Q6J("ngIf",i.isEditar||i.isAdmin),e.xp6(1),e.Q6J("ngIf",i.isEliminar&&t.estado||i.isAdmin&&t.estado)}}function P(n,r){if(1&n&&(e.ynx(0),e.YNc(1,O,15,7,"tr",35),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listar)}}function $(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",49),e._uU(2,"No existen registros disponibles"),e.qZA()())}function z(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente es requerido "),e.qZA())}function B(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xednimo de 7 caracteres "),e.qZA())}function D(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xe1ximo de 10 caracteres "),e.qZA())}function K(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente solo debe contener d\xedgitos "),e.qZA())}function H(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,z,2,0,"div",81),e.YNc(2,B,2,0,"div",81),e.YNc(3,D,2,0,"div",81),e.YNc(4,K,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.numeroExpediente"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.form.get("expediente.numeroExpediente"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.numeroExpediente"))||null==a.errors?null:a.errors.pattern)}}function V(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La fecha de creaci\xf3n es requerida "),e.qZA())}function W(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,V,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.fecha"))||null==i.errors?null:i.errors.required)}}function j(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function R(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,j,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.idPaciente"))||null==i.errors?null:i.errors.required)}}function X(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function ee(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre solo debe contener letras y espacios "),e.qZA())}function ie(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,X,2,0,"div",81),e.YNc(2,ee,2,0,"div",81),e.YNc(3,te,2,0,"div",81),e.YNc(4,ne,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("nombre"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("nombre"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("nombre"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))||null==a.errors?null:a.errors.pattern)}}function oe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El apellido es requerido"),e.qZA())}function le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function re(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido solo debe contener letras y espacios "),e.qZA())}function de(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,oe,2,0,"div",81),e.YNc(2,le,2,0,"div",81),e.YNc(3,re,2,0,"div",81),e.YNc(4,ae,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function se(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El parentesco es requerido"),e.qZA())}function pe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function _e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function ce(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco solo debe contener letras y espacios "),e.qZA())}function ue(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,se,2,0,"div",81),e.YNc(2,pe,2,0,"div",81),e.YNc(3,_e,2,0,"div",81),e.YNc(4,ce,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function me(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xednimo de 9 caracteres "),e.qZA())}function ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xe1ximo de 15 caracteres "),e.qZA())}function fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono solo debe contener d\xedgitos "),e.qZA())}function xe(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,me,2,0,"div",81),e.YNc(2,ge,2,0,"div",81),e.YNc(3,fe,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("telfono"))||null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("telfono"))||null==o.errors?null:o.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("telfono"))||null==l.errors?null:l.errors.pattern)}}const _=function(n,r){return{"is-invalid":n,"is-valid":r}};function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",82)(2,"div",83)(3,"div",58),e._UZ(4,"input",84),e.YNc(5,ie,5,4,"div",62),e.qZA()(),e.TgZ(6,"div",83)(7,"div",58),e._UZ(8,"input",85),e.YNc(9,de,5,4,"div",62),e.qZA()(),e.TgZ(10,"div",83)(11,"div",58),e._UZ(12,"input",86),e.YNc(13,ue,5,4,"div",62),e.qZA()(),e.TgZ(14,"div",87)(15,"div",58),e._UZ(16,"input",88),e.YNc(17,xe,4,3,"div",62),e.qZA()(),e.TgZ(18,"div",89)(19,"div",58)(20,"button",47),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.quitarFamilia(l))}),e._UZ(21,"i",48),e.qZA()()()()()}if(2&n){const t=r.$implicit,i=r.index,o=e.oxw(2);let l,a,p,x,m,v,g,h;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("ngClass",e.WLB(10,_,o.seGuardo&&(null==(l=t.get("nombre"))?null:l.errors),o.seGuardo&&(null==(l=t.get("nombre"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))?null:a.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(13,_,o.seGuardo&&(null==(p=t.get("apellido"))?null:p.errors),o.seGuardo&&(null==(p=t.get("apellido"))?null:p.valid))),e.xp6(1),e.Q6J("ngIf",null==(x=t.get("apellido"))?null:x.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(16,_,o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.errors),o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(v=t.get("parentesco"))?null:v.errors),e.xp6(3),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(19,_,o.seGuardo&&(null==(g=t.get("telfono"))?null:g.errors),o.seGuardo&&(null==(g=t.get("telfono"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.get("telfono"))?null:h.errors)}}function he(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"h4",51),e._uU(2,"Agregar antiguo ingreso"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",53),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.guardar())}),e.TgZ(5,"div",54)(6,"div",0)(7,"div",55)(8,"div",56)(9,"div",57)(10,"div",58)(11,"label",59),e._uU(12,"N\xfamero de expediente"),e.qZA(),e.TgZ(13,"span",60),e._uU(14," *"),e.qZA(),e._UZ(15,"input",61),e.YNc(16,H,5,4,"div",62),e.qZA()(),e.TgZ(17,"div",63)(18,"div",58)(19,"div")(20,"label",64),e._uU(21,"Manual"),e.qZA()(),e.TgZ(22,"div",65)(23,"input",66),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.cambiarManual())}),e.qZA()()()(),e.TgZ(24,"div",67)(25,"div",58)(26,"label",68),e._uU(27,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(28,"span",60),e._uU(29," *"),e.qZA(),e.TgZ(30,"input",69),e.NdJ("change",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.capturarFecha())}),e.qZA(),e.YNc(31,W,2,1,"div",62),e.qZA()()(),e.TgZ(32,"div",56)(33,"div",67)(34,"div",58)(35,"label",70),e._uU(36,"Paciente"),e.qZA(),e.TgZ(37,"span",60),e._uU(38," *"),e.qZA(),e._UZ(39,"ng-select",71),e.YNc(40,R,2,1,"div",62),e.qZA()(),e.TgZ(41,"div",67),e._UZ(42,"div",58),e.qZA()()(),e.TgZ(43,"div",72)(44,"div",56)(45,"div",73)(46,"div",7)(47,"h3",74),e._uU(48,"Familia"),e.qZA(),e.TgZ(49,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarFamilia())}),e._UZ(50,"i",76),e.qZA()()()(),e.YNc(51,ve,22,22,"div",35),e.qZA()()(),e.TgZ(52,"div",77)(53,"button",78),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(54,"Cerrar"),e.qZA(),e.TgZ(55,"button",79),e._uU(56,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,o,l,a,p;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(9,_,t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.valid))),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))?null:o.errors),e.xp6(14),e.Q6J("ngClass",e.WLB(12,_,t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.errors),t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.fecha"))?null:a.errors),e.xp6(8),e.Q6J("items",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(p=t.form.get("expediente.idPaciente"))?null:p.errors),e.xp6(11),e.Q6J("ngForOf",t.familia.controls)}}function Ze(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente es requerido "),e.qZA())}function be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xednimo de 7 caracteres "),e.qZA())}function Ee(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente no cumple con el tama\xf1o m\xe1ximo de 10 caracteres "),e.qZA())}function Te(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El n\xfamero de expediente solo debe contener d\xedgitos "),e.qZA())}function Ce(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Ze,2,0,"div",81),e.YNc(2,be,2,0,"div",81),e.YNc(3,Ee,2,0,"div",81),e.YNc(4,Te,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.numeroExpediente"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.form.get("expediente.numeroExpediente"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.numeroExpediente"))||null==a.errors?null:a.errors.pattern)}}function Ae(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," La fecha de creaci\xf3n es requerida "),e.qZA())}function qe(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Ae,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.fecha"))||null==i.errors?null:i.errors.required)}}function Ne(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function Ue(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Ne,2,0,"div",81),e.qZA()),2&n){const t=e.oxw(2);let i;e.xp6(1),e.Q6J("ngIf",null==(i=t.form.get("expediente.idPaciente"))||null==i.errors?null:i.errors.required)}}function Ie(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"label",91),e._uU(3,"Estado"),e.qZA()(),e.TgZ(4,"div",65)(5,"input",92),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.cambiarEstado())}),e.qZA(),e.TgZ(6,"label",93),e._uU(7),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(t.estadoActual)}}function Je(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El nombre es requerido"),e.qZA())}function ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Fe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function Qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El nombre solo debe contener letras y espacios "),e.qZA())}function Ye(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Je,2,0,"div",81),e.YNc(2,ke,2,0,"div",81),e.YNc(3,Fe,2,0,"div",81),e.YNc(4,Qe,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("nombre"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("nombre"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("nombre"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))||null==a.errors?null:a.errors.pattern)}}function Ge(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El apellido es requerido"),e.qZA())}function ye(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Le(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function Se(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El apellido solo debe contener letras y espacios "),e.qZA())}function we(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Ge,2,0,"div",81),e.YNc(2,ye,2,0,"div",81),e.YNc(3,Le,2,0,"div",81),e.YNc(4,Se,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function Me(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"El parentesco es requerido"),e.qZA())}function Oe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Pe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco no cumple con el tama\xf1o m\xe1ximo de 50 caracteres "),e.qZA())}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El parentesco solo debe contener letras y espacios "),e.qZA())}function ze(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Me,2,0,"div",81),e.YNc(2,Oe,2,0,"div",81),e.YNc(3,Pe,2,0,"div",81),e.YNc(4,$e,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l,a;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("apellido"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("apellido"))||null==o.errors?null:o.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("apellido"))||null==l.errors?null:l.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("apellido"))||null==a.errors?null:a.errors.pattern)}}function Be(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xednimo de 9 caracteres "),e.qZA())}function De(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono no cumple con el tama\xf1o m\xe1ximo de 15 caracteres "),e.qZA())}function Ke(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," El tel\xe9fono solo debe contener d\xedgitos "),e.qZA())}function He(n,r){if(1&n&&(e.TgZ(0,"div",80),e.YNc(1,Be,2,0,"div",81),e.YNc(2,De,2,0,"div",81),e.YNc(3,Ke,2,0,"div",81),e.qZA()),2&n){const t=e.oxw().$implicit;let i,o,l;e.xp6(1),e.Q6J("ngIf",null==(i=t.get("telfono"))||null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(o=t.get("telfono"))||null==o.errors?null:o.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==(l=t.get("telfono"))||null==l.errors?null:l.errors.pattern)}}function Ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",82)(2,"div",83)(3,"div",58),e._UZ(4,"input",94),e.YNc(5,Ye,5,4,"div",62),e.qZA()(),e.TgZ(6,"div",83)(7,"div",58),e._UZ(8,"input",95),e.YNc(9,we,5,4,"div",62),e.qZA()(),e.TgZ(10,"div",83)(11,"div",58),e._UZ(12,"input",96),e.YNc(13,ze,5,4,"div",62),e.qZA()(),e.TgZ(14,"div",87)(15,"div",58),e._UZ(16,"input",97),e.YNc(17,He,4,3,"div",62),e.qZA()(),e.TgZ(18,"div",89)(19,"div",58)(20,"button",47),e.NdJ("click",function(){const l=e.CHM(t).index,a=e.oxw(2);return e.KtG(a.quitarFamilia(l))}),e._UZ(21,"i",48),e.qZA()()()()()}if(2&n){const t=r.$implicit,i=r.index,o=e.oxw(2);let l,a,p,x,m,v,g,h;e.xp6(1),e.Q6J("formGroupName",i),e.xp6(3),e.Q6J("ngClass",e.WLB(10,_,o.seGuardo&&(null==(l=t.get("nombre"))?null:l.errors),o.seGuardo&&(null==(l=t.get("nombre"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.get("nombre"))?null:a.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(13,_,o.seGuardo&&(null==(p=t.get("apellido"))?null:p.errors),o.seGuardo&&(null==(p=t.get("apellido"))?null:p.valid))),e.xp6(1),e.Q6J("ngIf",null==(x=t.get("apellido"))?null:x.errors),e.xp6(3),e.Q6J("ngClass",e.WLB(16,_,o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.errors),o.seGuardo&&(null==(m=t.get("parentesco"))?null:m.valid))),e.xp6(1),e.Q6J("ngIf",null==(v=t.get("parentesco"))?null:v.errors),e.xp6(3),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(19,_,o.seGuardo&&(null==(g=t.get("telfono"))?null:g.errors),o.seGuardo&&(null==(g=t.get("telfono"))?null:g.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.get("telfono"))?null:h.errors)}}function We(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"h4",51),e._uU(2,"Editar Antiguo Ingreso"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",53),e.NdJ("ngSubmit",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.editar())}),e.TgZ(5,"div",54)(6,"div",0)(7,"div",55)(8,"div",56)(9,"div",67)(10,"div",58)(11,"label",59),e._uU(12,"N\xfamero de expediente"),e.qZA(),e.TgZ(13,"span",60),e._uU(14," *"),e.qZA(),e._UZ(15,"input",61),e.YNc(16,Ce,5,4,"div",62),e.qZA()(),e.TgZ(17,"div",67)(18,"div",58)(19,"label",68),e._uU(20,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(21,"span",60),e._uU(22," *"),e.qZA(),e._UZ(23,"input",90),e.YNc(24,qe,2,1,"div",62),e.qZA()()(),e.TgZ(25,"div",56)(26,"div",67)(27,"div",58)(28,"label",70),e._uU(29,"Paciente"),e.qZA(),e.TgZ(30,"span",60),e._uU(31," *"),e.qZA(),e._UZ(32,"ng-select",71),e.YNc(33,Ue,2,1,"div",62),e.qZA()(),e.TgZ(34,"div",67)(35,"div",58),e.YNc(36,Ie,8,1,"ng-container",81),e.qZA()()()(),e.TgZ(37,"div",72)(38,"div",56)(39,"div",73)(40,"div",7)(41,"h3",74),e._uU(42,"Familia"),e.qZA(),e.TgZ(43,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.agregarFamilia())}),e._UZ(44,"i",76),e.qZA()()()(),e.YNc(45,Ve,22,22,"div",35),e.qZA()()(),e.TgZ(46,"div",77)(47,"button",78),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(48,"Cerrar"),e.qZA(),e.TgZ(49,"button",79),e._uU(50,"Guardar"),e.qZA()()()}if(2&n){const t=e.oxw();let i,o,l,a,p;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(11),e.Q6J("dropSpecialCharacters",!1)("ngClass",e.WLB(10,_,t.seGuardo&&(null==(i=t.form.get("expediente.numeroExpediente"))?null:i.errors),t.seGuardo&&(null==(i=t.form.get("numeroExpediente"))?null:i.valid))),e.xp6(1),e.Q6J("ngIf",null==(o=t.form.get("expediente.numeroExpediente"))?null:o.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(13,_,t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.errors),t.seGuardo&&(null==(l=t.form.get("expediente.fecha"))?null:l.valid))),e.xp6(1),e.Q6J("ngIf",null==(a=t.form.get("expediente.fecha"))?null:a.errors),e.xp6(8),e.Q6J("items",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(p=t.form.get("expediente.idPaciente"))?null:p.errors),e.xp6(3),e.Q6J("ngIf",!t.mostrarEstado&&t.isAdmin),e.xp6(9),e.Q6J("ngForOf",t.familia.controls)}}function je(n,r){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.Oqu(t.familia.nombre),e.xp6(2),e.Oqu(t.familia.apellido),e.xp6(2),e.Oqu(t.familia.parentesco),e.xp6(2),e.Oqu(t.telefono?t.telefono:"No se proporciono")}}function Re(n,r){if(1&n&&(e.ynx(0),e.YNc(1,je,9,4,"tr",35),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.expediente.expedienteFamilias)}}function Xe(n,r){1&n&&(e.TgZ(0,"tr")(1,"td",105),e._uU(2,"No existen registros disponibles"),e.qZA()())}function et(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"h4",51),e._uU(2,"Ver detalles del antiguo ingreso"),e.qZA(),e.TgZ(3,"button",52),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"div",54)(5,"div",0)(6,"div",56)(7,"div",98)(8,"h5",99),e._uU(9,"Detalle expediente"),e.qZA()()(),e.TgZ(10,"div",56)(11,"div",67)(12,"div",58)(13,"label",100),e._uU(14,"N\xfamero de expediente"),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA()()(),e.TgZ(17,"div",67)(18,"div",58)(19,"label",100),e._uU(20,"Fecha de creaci\xf3n"),e.qZA(),e.TgZ(21,"p"),e._uU(22),e.qZA()()()(),e.TgZ(23,"div",56)(24,"div",67)(25,"div",58)(26,"label",100),e._uU(27,"Paciente"),e.qZA(),e.TgZ(28,"p",101),e._uU(29),e.qZA()()(),e.TgZ(30,"div",67)(31,"div",58)(32,"label",100),e._uU(33,"Estado"),e.qZA(),e.TgZ(34,"p"),e._uU(35),e.qZA()()()(),e.TgZ(36,"div",56)(37,"div",102)(38,"h5",103),e._uU(39,"Detalle familia"),e.qZA()()(),e.TgZ(40,"div",56)(41,"div",18)(42,"table",19)(43,"thead")(44,"tr",20)(45,"th",24),e._uU(46,"Nombre"),e.qZA(),e.TgZ(47,"th",24),e._uU(48,"Apellido"),e.qZA(),e.TgZ(49,"th",24),e._uU(50,"Parentesco"),e.qZA(),e.TgZ(51,"th",24),e._uU(52,"Tel\xe9fono"),e.qZA()()(),e.TgZ(53,"tbody"),e.YNc(54,Re,2,1,"ng-container",25),e.YNc(55,Xe,3,0,"ng-template",null,104,e.W1O),e.qZA()()()()()(),e.TgZ(57,"div",77)(58,"button",78),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.KtG(l.close("Close click"))}),e._uU(59,"Cerrar"),e.qZA()()}if(2&n){const t=e.MAs(56),i=e.oxw();e.xp6(16),e.Oqu(i.expediente.numeroExpediente),e.xp6(6),e.Oqu(i.formatDate(i.expediente.fecha).format("LL")),e.xp6(7),e.hij(" ",i.expediente.paciente.nombre+" "+i.expediente.paciente.apellido," "),e.xp6(6),e.Oqu(i.expediente.estado?"Activo":"Inactivo"),e.xp6(19),e.Q6J("ngIf",i.expediente.expedienteFamilias.length>0)("ngIfElse",t)}}const f=function(n){return{"d-none":n}},it=[{path:"",component:(()=>{class n{constructor(t,i,o,l,a){this.service=t,this.modalService=i,this.fb=o,this.config=l,this.tokenService=a,this.pageList=b.Hj,this.maxSize=b.$,this.page=b.Md,this.size=b.dp,this.seGuardo=!1,this.cambioOrden=!0,this.mostrarEstado=!1,this.estadoActual="Activo",this.sort="numeroExpediente,asc",this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.permiso="ANTIGUO_INGRESO_",this.config.notFoundText="No se encontraron resultados",this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({expediente:this.fb.group({manual:["",[]],numeroExpediente:["",[d.kI.required,d.kI.minLength(7),d.kI.maxLength(10),d.kI.pattern(u.DF)]],fecha:["",[d.kI.required]],idPaciente:["",[d.kI.required]],estado:["",[]]}),familia:this.fb.array([])})}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isCrear=this.tokenService.isPermisos(this.permiso,"CREAR"),this.isEditar=this.tokenService.isPermisos(this.permiso,"EDITAR"),this.isEliminar=this.tokenService.isPermisos(this.permiso,"ELIMINAR"),this.buscar.get("filter")?.valueChanges.pipe((0,I.b)(500),(0,J.x)()).subscribe(t=>{this.page=0,this.service.listarParametros(this.size,this.page,this.sort,t)}),this.service.listarPaciente(),this.service.numeroExpedienteSincrono()}get listar(){return this.service.expedienteList?this.service.expedienteList.content:[]}get listarPaciente(){return this.service.pacienteList?this.service.pacienteList:[]}get listarTotal(){return this.service.expedienteList?this.service.expedienteList.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get familia(){return this.form.get("familia")}get formatDate(){return q.Z}nuevaFamilia(){return this.fb.group({nombre:["",[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],apellido:["",[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],parentesco:["",[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],telfono:["",[d.kI.minLength(9),d.kI.maxLength(15),d.kI.pattern(u.Rb)]]})}cambiarEstado(){this.estadoActual=this.form.get("expediente.estado")?.value?"Activo":"Inactivo"}agregarFamilia(){this.familia.push(this.nuevaFamilia())}quitarFamilia(t){c().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.familia.removeAt(t),c().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}refresh(){this.service.listarParametros(this.size,this.page-1,this.sort,this.filter)}refreshSize(){this.page=0,this.service.listarParametros(this.size,this.page,this.sort,this.filter)}ordenar(t){this.cambioOrden=!this.sort.includes(t)||!this.cambioOrden,this.page=0,this.sort=this.cambioOrden?t+",asc":t+",desc",this.service.listarParametros(this.size,this.page,this.sort,this.filter)}cambiarManual(){this.form.get("expediente.manual")?.value?this.form.get("expediente.numeroExpediente")?.enable():this.form.get("expediente.numeroExpediente")?.disable()}obtenerFechaFormateada(){return this.formatDate().format("YYYY-MM-DD")}capturarFecha(){const t=this.formatDate(this.form.get("expediente.fecha")?.value);!t.isValid()||(this.service.numeroExpedienteSincrono(t.format("YYYY")),this.service.getFechaObservable().subscribe(i=>{this.form.get("expediente")?.patchValue({numeroExpediente:i.numeroExpediente})}))}openLg(t){this.seGuardo=!1,this.reiniciarFormulario(),this.cambiarManual(),this.modalService.open(t,{size:"xl"})}openLgEditar(t,i){this.seGuardo=!1,this.expediente=i,this.service.listarPacienteEditar(this.expediente.paciente.id),this.familia.clear(),this.mostrarEstado=this.expediente.estado,this.form.get("expediente")?.patchValue({numeroExpediente:this.expediente.numeroExpediente,fecha:this.expediente.fecha,idPaciente:this.expediente.paciente.id,estado:this.expediente.estado}),this.expediente.expedienteFamilias.map(o=>{this.familia.push(this.fb.group({nombre:[o.familia.nombre,[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],apellido:[o.familia.apellido,[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],parentesco:[o.familia.parentesco,[d.kI.required,d.kI.minLength(2),d.kI.maxLength(50),d.kI.pattern(u.Am)]],telfono:[o.telefono,[d.kI.minLength(9),d.kI.maxLength(15),d.kI.pattern(u.Rb)]]}))}),this.form.get("expediente.numeroExpediente")?.disable(),this.cambiarEstado(),this.modalService.open(t,{size:"xl"})}openLgView(t,i){this.expediente=i,this.modalService.open(t,{size:"lg"})}reiniciarFormulario(){this.service.listarPaciente(),this.service.numeroExpedienteSincrono(),this.service.getFechaObservable().subscribe(t=>{this.form.get("expediente")?.patchValue({numeroExpediente:t.numeroExpediente})}),this.form.get("expediente")?.patchValue({manual:!1,fecha:this.obtenerFechaFormateada(),idPaciente:null,estado:!1}),this.familia.clear()}guardar(){this.seGuardo=!0,this.form.valid?(this.form.get("expediente.numeroExpediente")?.enable(),this.service.agregar(this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.service.listarParametros(this.size,this.page-1,this.sort,this.filter),this.reiniciarFormulario(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}})):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}editar(){this.seGuardo=!0,this.form.valid?(this.form.get("expediente.numeroExpediente")?.enable(),this.service.editar(this.expediente.id,this.form.value).subscribe({next:()=>{c().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.service.listarParametros(this.size,this.page-1,this.sort,this.filter),this.reiniciarFormulario(),this.seGuardo=!1,this.modalService.dismissAll()},error:i=>{c().fire({position:"center",title:"Ocurri\xf3 un error",text:i.error.mensaje,icon:"error"})}})):c().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}eliminar(t){c().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(i=>{i.isConfirmed&&(this.service.eliminar(t).subscribe({next:o=>{o&&this.service.listarParametros(this.size,this.page-1,this.sort,this.filter)}}),c().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Y),e.Y36(E.FF),e.Y36(d.qu),e.Y36(C.$q),e.Y36(G.B))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-expediente"]],decls:64,vars:38,consts:[[1,"container-fluid"],[1,"header__page","d-flex","justify-content-end","mb-3"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink",""],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between","mb-3"],[1,"fs-3"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between","mb-3"],[1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","bindLabel","label","bindValue","value",3,"items","ngModel","clearable","ngModelChange"],["for","pageSize",1,"col-form-label","ms-2"],[3,"formGroup"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mb-3"],[1,"table","align-middle"],[1,"border-dark"],["scope","col",3,"click"],[1,"bi","bi-caret-up-fill",3,"ngClass"],[1,"bi","bi-caret-down-fill",3,"ngClass"],["scope","col"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","flex-column","gap-2","flex-lg-row","justify-content-between"],[1,"text-black"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],["contentView",""],["type","button",1,"btn","btn-primary",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"d-flex","flex-row"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"bi","bi-eye"],["type","button","class","btn btn-outline-success me-2",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"badge","bg-success"],[1,"badge","bg-danger"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-x-lg"],["colspan","5",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],["formGroupName","expediente"],[1,"row"],[1,"col-10","col-lg-5"],[1,"mb-3"],["for","numeroExpediente",1,"form-label"],[1,"text-danger"],["type","text","formControlName","numeroExpediente","id","numeroExpediente","placeholder","Ingrese el n\xfamero de expediente","mask","0000000",1,"form-control",3,"dropSpecialCharacters","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-2","col-lg-1"],["for","manual",1,"form-label"],[1,"form-check","form-switch"],["type","checkbox","id","manual","formControlName","manual",1,"form-check-input",3,"change"],[1,"col-12","col-lg-6"],["for","fecha",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass","change"],["for","idPaciente",1,"form-label"],["formControlName","idPaciente","id","idPaciente","placeholder","Seleccione al paciente","bindLabel","labelPaciente","bindValue","id",3,"items"],["formArrayName","familia"],[1,"col-12"],[1,"fs-4"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-lg"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row",3,"formGroupName"],[1,"col-6","col-lg-3"],["type","text","formControlName","nombre","id","nombre","placeholder","Nombre *",1,"form-control",3,"ngClass"],["type","text","formControlName","apellido","id","apellido","placeholder","Apellido *",1,"form-control",3,"ngClass"],["type","text","formControlName","parentesco","id","parentesco","placeholder","Parentesco *",1,"form-control",3,"ngClass"],[1,"col-6","col-lg-2"],["type","text","formControlName","telfono","id","telfono","mask","0000-0000","placeholder","Tel\xe9fono",1,"form-control",3,"dropSpecialCharacters","ngClass"],[1,"col-6","col-lg-1"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass"],["for","estado",1,"form-label"],["type","checkbox","id","estado","formControlName","estado",1,"form-check-input",3,"change"],["for","estado",1,"form-check-label"],["type","text","formControlName","nombre","id","nombre","placeholder","Ingrese el nombre",1,"form-control",3,"ngClass"],["type","text","formControlName","apellido","id","apellido","placeholder","Ingrese el apellido",1,"form-control",3,"ngClass"],["type","text","formControlName","parentesco","id","parentesco","placeholder","Ingrese el parentesco",1,"form-control",3,"ngClass"],["type","text","formControlName","telfono","id","telfono","mask","0000-0000","placeholder","Ingresa el tel\xe9fono",1,"form-control",3,"dropSpecialCharacters","ngClass"],[1,"d-flex","justify-content-center","mb-3"],[1,"fs-5","fw-bold"],[1,"form-label","fw-bold"],[1,""],[1,"mb-3","mt-3"],[1,"d-flex","justify-content-center","fs-5","fw-bold"],["noRecordsFamilia",""],["colspan","4",1,"text-center"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"nav",2)(3,"ol",3)(4,"li",4)(5,"a",5),e._uU(6,"Inicio"),e.qZA()(),e.TgZ(7,"li",6),e._uU(8,"Antiguo ingreso"),e.qZA()()()(),e.TgZ(9,"div",7)(10,"div")(11,"h1",8),e._uU(12,"Antiguo ingreso"),e.qZA()(),e.TgZ(13,"div"),e.YNc(14,y,2,0,"button",9),e.qZA()(),e.TgZ(15,"div",10)(16,"div",11)(17,"label",12),e._uU(18,"Mostrar:"),e.qZA(),e.TgZ(19,"ng-select",13),e.NdJ("ngModelChange",function(l){return i.size=l})("ngModelChange",function(){return i.refreshSize()}),e.qZA(),e.TgZ(20,"label",14),e._uU(21,"registros"),e.qZA()(),e.TgZ(22,"form",15)(23,"div",11)(24,"label",16),e._uU(25,"Buscar:"),e.qZA(),e._UZ(26,"input",17),e.qZA()()(),e.TgZ(27,"div",18)(28,"table",19)(29,"thead")(30,"tr",20)(31,"th",21),e.NdJ("click",function(){return i.ordenar("numeroExpediente")}),e._uU(32," # Expediente"),e._UZ(33,"i",22)(34,"i",23),e.qZA(),e.TgZ(35,"th",21),e.NdJ("click",function(){return i.ordenar("fecha")}),e._uU(36," Fecha de Creaci\xf3n"),e._UZ(37,"i",22)(38,"i",23),e.qZA(),e.TgZ(39,"th",21),e.NdJ("click",function(){return i.ordenar("paciente.nombre")}),e._uU(40," Paciente"),e._UZ(41,"i",22)(42,"i",23),e.qZA(),e.TgZ(43,"th",21),e.NdJ("click",function(){return i.ordenar("estado")}),e._uU(44," Estado"),e._UZ(45,"i",22)(46,"i",23),e.qZA(),e.TgZ(47,"th",24),e._uU(48,"Acciones"),e.qZA()()(),e.TgZ(49,"tbody"),e.YNc(50,P,2,1,"ng-container",25),e.YNc(51,$,3,0,"ng-template",null,26,e.W1O),e.qZA()()(),e.TgZ(53,"div",27)(54,"div")(55,"p",28),e._uU(56),e.qZA()(),e.TgZ(57,"ngb-pagination",29),e.NdJ("pageChange",function(l){return i.page=l})("pageChange",function(){return i.refresh()}),e.qZA()()(),e.YNc(58,he,57,15,"ng-template",null,30,e.W1O),e.YNc(60,We,51,16,"ng-template",null,31,e.W1O),e.YNc(62,et,60,6,"ng-template",null,32,e.W1O)),2&t){const o=e.MAs(52);e.xp6(14),e.Q6J("ngIf",i.isCrear||i.isAdmin),e.xp6(5),e.Q6J("items",i.pageList)("ngModel",i.size)("clearable",!1),e.xp6(3),e.Q6J("formGroup",i.buscar),e.xp6(11),e.Q6J("ngClass",e.VKq(22,f,"numeroExpediente,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(24,f,"numeroExpediente,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(26,f,"fecha,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(28,f,"fecha,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(30,f,"paciente.nombre,asc"!==i.sort||!i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(32,f,"paciente.nombre,desc"!==i.sort||i.cambioOrden)),e.xp6(3),e.Q6J("ngClass",e.VKq(34,f,"estado,desc"!==i.sort||i.cambioOrden)),e.xp6(1),e.Q6J("ngClass",e.VKq(36,f,"estado,asc"!==i.sort||!i.cambioOrden)),e.xp6(4),e.Q6J("ngIf",i.listar.length>0)("ngIfElse",o),e.xp6(6),e.hij("Total de resgistros: ",i.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",i.listarTotal)("page",i.page)("pageSize",i.size)("maxSize",i.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[Z.mk,Z.sg,Z.O5,T.yS,d._Y,d.Fj,d.Wl,d.JJ,d.JL,d.On,d.sg,d.u,d.x0,d.CE,E.N9,C.w9,U.hx]}),n})(),canActivate:[s(2466).i],data:{expectedAuthorities:["ANTIGUO_INGRESO"]}}];let ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[T.Bz.forChild(it),T.Bz]}),n})();const lt=null;let rt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Z.ez,ot,d.u5,d.UX,E.jF,E.ZS,C.A0,U.yI.forRoot()]}),n})()}}]);