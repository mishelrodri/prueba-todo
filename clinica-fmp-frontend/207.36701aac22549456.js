"use strict";(self.webpackChunkclinica_fmp_frontend=self.webpackChunkclinica_fmp_frontend||[]).push([[207],{7926:(E,C,c)=>{c.d(C,{$:()=>f,Hj:()=>p,Md:()=>v,dp:()=>l});const p=[{value:2,label:2},{value:4,label:4},{value:6,label:6},{value:8,label:8},{value:10,label:10}],f=3,l=2,v=0},2466:(E,C,c)=>{c.d(C,{i:()=>q});var p=c(5861),f=c(1571),l=c(3599),v=c(1622);let q=(()=>{class g{constructor(){this.tokenService=(0,f.f3M)(v.B),this.router=(0,f.f3M)(l.F0)}canActivate(Z){var s=this;return(0,p.Z)(function*(){if(""===s.tokenService.getToken())return s.tokenService.logOut(),!1;try{if(yield s.tokenService.validarToken().toPromise()){const m=Z.data.expectedAuthorities,U=s.tokenService.getAuthorities();return"ADMINISTRADOR"===s.tokenService.getRoles()[0]||m&&!!m.some(y=>U.includes(y))||(s.router.navigate(["/inicio"]),!1)}return!1}catch{return!1}})()}}return g.\u0275fac=function(Z){return new(Z||g)},g.\u0275prov=f.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},4207:(E,C,c)=>{c.r(C),c.d(C,{ActividadesModule:()=>ot});var p=c(6895),f=c(3599),l=c(433),v=c(7926),q=c(9861),g=c(8372),A=c(1884),Z=c(5226),s=c.n(Z),e=c(1571),m=c(2340),U=c(529);let k=(()=>{class i{constructor(t){this.http=t,this.apiCuraciones=`${m.N.api}/curaciones`,this.apiPaciente=`${m.N.api}/paciente`,this.apiMedico=`${m.N.api}/personal-salud`}listarParametros(t=2,n=0,r="id,asc",a=""){this.http.get(`${this.apiCuraciones}`,{params:{page:n,size:t,sort:r,filtro:a}}).subscribe({next:u=>{this.curaciones=u}})}agregar(t){return this.http.post(`${this.apiCuraciones}`,t)}eliminar(t){return this.http.delete(`${this.apiCuraciones}/${t}`)}editar(t,n){return this.http.put(`${this.apiCuraciones}/${t}`,n)}listarPaciente(){this.http.get(`${this.apiPaciente}/pacienteTrue`).subscribe({next:t=>{this.pacienteList=t}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(U.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var T=c(9061),y=c(1622),I=c(723);function O(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",31)(1,"div")(2,"button",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=e.MAs(58);return e.KtG(r.openLg(a))}),e._UZ(3,"i",33),e.qZA()()()}}function M(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2),u=e.MAs(60);return e.KtG(a.openLgEditar(u,r))}),e._UZ(1,"i",40),e.qZA()}}function Q(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.eliminar(r.id))}),e._UZ(1,"i",42),e.qZA()}}function G(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",35),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",36),e.YNc(12,M,2,0,"button",37),e.YNc(13,Q,2,0,"button",38),e.qZA()()),2&i){const t=o.$implicit,n=o.index,r=e.oxw(2);e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.pacienteDTO.nombre+" "+t.pacienteDTO.apellido),e.xp6(2),e.Oqu(r.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.curacionRealizada),e.xp6(2),e.Oqu(t.personalSaludDTO.nombre+" "+t.personalSaludDTO.apellido),e.xp6(2),e.Q6J("ngIf",r.isEditar||r.isAdmin),e.xp6(1),e.Q6J("ngIf",r.isEliminar||r.isAdmin)}}function z(i,o){if(1&i&&(e.ynx(0),e.YNc(1,G,14,7,"tr",34),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarCuraciones)}}function L(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",43),e._uU(2,"No existen registros disponibles"),e.qZA()())}function F(i,o){if(1&i&&(e.TgZ(0,"ng-option",68),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido)}}function Y(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function w(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,Y,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPaciente"))||null==n.errors?null:n.errors.required)}}function $(i,o){if(1&i&&(e.TgZ(0,"ng-option",68),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function D(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function R(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,D,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}function B(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," La curacion realizada es requerido "),e.qZA())}function j(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function V(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,B,2,0,"div",70),e.YNc(2,j,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("curacionRealizada"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("curacionRealizada"))||null==r.errors?null:r.errors.minlength)}}const S=function(i,o){return{"is-invalid":i,"is-valid":o}};function W(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"h4",45),e._uU(2,"Agregar Curacion"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",47),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.guardar())}),e.TgZ(5,"div",48)(6,"div",49)(7,"div",50)(8,"div",51)(9,"div",52)(10,"label",53),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",54),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",55),e.YNc(15,F,2,2,"ng-option",56),e.qZA(),e.YNc(16,w,2,1,"div",57),e.qZA()(),e.TgZ(17,"div",58)(18,"div",52)(19,"label",59),e._uU(20,"Personal de Salud"),e.qZA(),e.TgZ(21,"span",54),e._uU(22," *"),e.qZA(),e.TgZ(23,"ng-select",60),e.YNc(24,$,2,3,"ng-option",56),e.qZA(),e.YNc(25,R,2,1,"div",57),e.qZA()()(),e.TgZ(26,"div",50)(27,"div",51)(28,"div",52)(29,"label",61),e._uU(30,"Curacion"),e.qZA(),e.TgZ(31,"span",54),e._uU(32," *"),e.qZA(),e._UZ(33,"input",62),e.YNc(34,V,3,2,"div",57),e.qZA()(),e.TgZ(35,"div",51)(36,"div",52)(37,"label",63),e._uU(38,"Fecha"),e.qZA(),e.TgZ(39,"span",54),e._uU(40," *"),e.qZA(),e._UZ(41,"input",64),e.qZA()()()()(),e.TgZ(42,"div",65)(43,"button",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(44,"Cerrar"),e.qZA(),e.TgZ(45,"button",67),e._uU(46,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a,u,d,h,_;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(10,S,t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPaciente"))?null:r.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(13,S,t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(u=t.form.get("idPersonalSalud"))?null:u.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(16,S,t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.form.get("curacionRealizada"))?null:h.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(19,S,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid)))}}function K(i,o){if(1&i&&(e.TgZ(0,"ng-option",68),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido)}}function H(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function X(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,H,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPaciente"))||null==n.errors?null:n.errors.required)}}function ee(i,o){if(1&i&&(e.TgZ(0,"ng-option",68),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function te(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function ie(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,te,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}function ne(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," La curacion realizada es requerido "),e.qZA())}function re(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," El apellido no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function oe(i,o){if(1&i&&(e.TgZ(0,"div",69),e.YNc(1,ne,2,0,"div",70),e.YNc(2,re,2,0,"div",70),e.qZA()),2&i){const t=e.oxw(2);let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("curacionRealizada"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("curacionRealizada"))||null==r.errors?null:r.errors.minlength)}}function ae(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"h4",45),e._uU(2,"Agregar Curacion"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",47),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editar())}),e.TgZ(5,"div",48)(6,"div",49)(7,"div",50)(8,"div",51)(9,"div",52)(10,"label",53),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",54),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",55),e.YNc(15,K,2,2,"ng-option",56),e.qZA(),e.YNc(16,X,2,1,"div",57),e.qZA()(),e.TgZ(17,"div",58)(18,"div",52)(19,"label",59),e._uU(20,"Personal de Salud"),e.qZA(),e.TgZ(21,"span",54),e._uU(22," *"),e.qZA(),e.TgZ(23,"ng-select",60),e.YNc(24,ee,2,3,"ng-option",56),e.qZA(),e.YNc(25,ie,2,1,"div",57),e.qZA()()(),e.TgZ(26,"div",50)(27,"div",51)(28,"div",52)(29,"label",61),e._uU(30,"Curacion"),e.qZA(),e.TgZ(31,"span",54),e._uU(32," *"),e.qZA(),e._UZ(33,"input",62),e.YNc(34,oe,3,2,"div",57),e.qZA()(),e.TgZ(35,"div",51)(36,"div",52)(37,"label",63),e._uU(38,"Fecha"),e.qZA(),e.TgZ(39,"span",54),e._uU(40," *"),e.qZA(),e._UZ(41,"input",64),e.qZA()()()()(),e.TgZ(42,"div",65)(43,"button",66),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(44,"Cerrar"),e.qZA(),e.TgZ(45,"button",67),e._uU(46,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a,u,d,h,_;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(10,S,t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPaciente"))?null:r.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(13,S,t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(u=t.form.get("idPersonalSalud"))?null:u.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(16,S,t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("curacionRealizada"))?null:d.valid))),e.xp6(1),e.Q6J("ngIf",null==(h=t.form.get("curacionRealizada"))?null:h.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(19,S,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid)))}}let le=(()=>{class i{constructor(t,n,r,a){this.curacionesService=t,this.modalService=n,this.fb=r,this.tokenService=a,this.seGuardo=!1,this.page=0,this.size=2,this.sort="id,asc",this.maxSize=v.$,this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1,this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({fecha:["",[l.kI.required]],curacionRealizada:["",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(100)]],idPaciente:["",[l.kI.required]],idPersonalSalud:["",[l.kI.required]]})}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("CURACIONES_","VER"),this.isCrear=this.tokenService.isPermisos("CURACIONES_","CREAR"),this.isEditar=this.tokenService.isPermisos("CURACIONES_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("CURACIONES_","ELIMINAR"),this.buscar.get("filter")?.valueChanges.pipe((0,g.b)(100),(0,A.x)()).subscribe(t=>{this.page=0,this.curacionesService.listarParametros(this.size,this.page,this.sort,t)}),this.curacionesService.listarPaciente(),this.curacionesService.listarMedico()}get listarCuraciones(){return this.curacionesService.curaciones?this.curacionesService.curaciones.content:[]}get listarTotal(){return this.curacionesService.curaciones?this.curacionesService.curaciones.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get listarPaciente(){return this.curacionesService.pacienteList?this.curacionesService.pacienteList.content:[]}get listarMedico(){return this.curacionesService.medicoList?this.curacionesService.medicoList:[]}eliminar(t){s().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&(this.curacionesService.eliminar(t).subscribe({next:r=>{r&&this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter)},error:r=>{s().fire({position:"center",title:"Error",text:r.error.mensaje,icon:"error"})}}),s().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}openLgEditar(t,n){this.curaciones=n,this.form.patchValue({curacionRealizada:this.curaciones.curacionRealizada,fecha:this.curaciones.fecha,idPaciente:this.curaciones.pacienteDTO.id,idPersonalSalud:this.curaciones.personalSaludDTO.id}),this.modalService.open(t,{size:"lg"})}editar(){this.seGuardo=!0,this.form.valid?this.curacionesService.editar(this.curaciones.id,this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:n=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:n.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}refreshSize(){this.page=0,this.curacionesService.listarParametros(this.size,this.page,this.sort,this.filter)}refresh(){this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter)}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.curacionesService.agregar(this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.curacionesService.listarParametros(this.size,this.page-1,this.sort,this.filter),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}getFormattedDate(t){return t.toISOString().split("T")[0]}get formatDate(){return q.Z}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(k),e.Y36(T.FF),e.Y36(l.qu),e.Y36(y.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-curaciones"]],decls:61,vars:17,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"fs-2","text-center","m-1","m-lg-0"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"mb-2","d-flex","align-items-center"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","aria-label","pageSize",1,"form-select",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],[3,"formGroup"],[1,"d-flex","align-items-center","mb-3"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col",2,"width","40px"],["scope","col"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","justify-content-between"],[1,"text-black"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","gap-1"],["type","button","class","btn btn-outline-success me-2",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"mb-3"],["for","idPaciente",1,"form-label"],[1,"text-danger"],["formControlName","idPaciente","placeholder","Seleccione","id","idPaciente",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-6"],["for","idPersonalSalud",1,"form-label"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],["for","curacionRealizada",1,"form-label"],["type","text","autocomplete","off","formControlName","curacionRealizada","id","curacionRealizada","placeholder","Ingrese la curacion realizada",1,"form-control",3,"ngClass"],["for","fecha ",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Curaciones"),e.qZA(),e.TgZ(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e._uU(8,"Inicio"),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"Curaciones"),e.qZA()()()(),e.YNc(11,O,4,0,"div",8),e.TgZ(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15,"Mostrar:"),e.qZA(),e.TgZ(16,"select",12),e.NdJ("ngModelChange",function(a){return n.size=a})("ngModelChange",function(){return n.refreshSize()}),e.TgZ(17,"option",13),e._uU(18,"2"),e.qZA(),e.TgZ(19,"option",14),e._uU(20,"4"),e.qZA(),e.TgZ(21,"option",14),e._uU(22,"6"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"8"),e.qZA(),e.TgZ(25,"option",14),e._uU(26,"10"),e.qZA()()(),e.TgZ(27,"form",15)(28,"div",16)(29,"label",17),e._uU(30,"Buscar:"),e.qZA(),e._UZ(31,"input",18),e.qZA()()(),e.TgZ(32,"div",19)(33,"table",20)(34,"thead")(35,"tr",21)(36,"th",22),e._uU(37,"#"),e.qZA(),e.TgZ(38,"th",23),e._uU(39,"Nombre Paciente"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Fecha"),e.qZA(),e.TgZ(42,"th",23),e._uU(43,"Curaci\xf3n"),e.qZA(),e.TgZ(44,"th",23),e._uU(45,"Personal Medico"),e.qZA(),e.TgZ(46,"th",23),e._uU(47,"Acciones"),e.qZA()()(),e.TgZ(48,"tbody"),e.YNc(49,z,2,1,"ng-container",24),e.YNc(50,L,3,0,"ng-template",null,25,e.W1O),e.qZA()(),e.TgZ(52,"div",26)(53,"div")(54,"p",27),e._uU(55),e.qZA()(),e.TgZ(56,"ngb-pagination",28),e.NdJ("pageChange",function(a){return n.page=a})("pageChange",function(){return n.refresh()}),e.qZA()()()(),e.YNc(57,W,47,22,"ng-template",null,29,e.W1O),e.YNc(59,ae,47,22,"ng-template",null,30,e.W1O)),2&t){const r=e.MAs(51);e.xp6(11),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(5),e.Q6J("ngModel",n.size),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",8),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("formGroup",n.buscar),e.xp6(22),e.Q6J("ngIf",n.listarCuraciones.length>0)("ngIfElse",r),e.xp6(6),e.hij("Total de registros: ",n.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",n.listarTotal)("page",n.page)("pageSize",n.size)("maxSize",n.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[p.mk,p.sg,p.O5,f.yS,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,T.N9,I.w9,I.jq]}),i})(),se=(()=>{class i{constructor(t){this.http=t,this.apiInyectable=`${m.N.api}/inyectable`,this.apiPaciente=`${m.N.api}/paciente`,this.apiMedico=`${m.N.api}/personal-salud`}listar(){this.http.get(`${this.apiInyectable}`).subscribe({next:t=>{this.inyectableList=t}})}agregar(t){return this.http.post(`${this.apiInyectable}`,t)}eliminar(t){return this.http.delete(`${this.apiInyectable}/${t}`)}listarPaciente(){this.http.get(`${this.apiPaciente}/pacienteTrue`).subscribe({next:t=>{this.pacienteList=t}})}listarParametros(t=2,n=0,r="id,asc",a=""){this.http.get(`${this.apiInyectable}`,{params:{page:n,size:t,sort:r,filtro:a}}).subscribe({next:u=>{this.inyectableList=u}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}editar(t,n){return this.http.put(`${this.apiInyectable}/${t}`,n)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(U.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ce(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",31)(1,"div")(2,"button",32),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=e.MAs(60);return e.KtG(r.openLg(a))}),e._UZ(3,"i",33),e.qZA()()()}}function ue(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2),u=e.MAs(62);return e.KtG(a.openLgEditar(u,r))}),e._UZ(1,"i",40),e.qZA()}}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",41),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.eliminar(r.id))}),e._UZ(1,"i",42),e.qZA()}}function _e(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",35),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td",36),e.YNc(14,ue,2,0,"button",37),e.YNc(15,de,2,0,"button",38),e.qZA()()),2&i){const t=o.$implicit,n=o.index,r=e.oxw(2);e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.pacienteDTO.nombre+" "+t.pacienteDTO.apellido),e.xp6(2),e.Oqu(r.formatDate(t.fecha).format("LL")),e.xp6(2),e.Oqu(t.medicamento),e.xp6(2),e.Oqu(t.jeringa),e.xp6(2),e.Oqu(t.personalSaludDTO.nombre+" "+t.personalSaludDTO.apellido),e.xp6(2),e.Q6J("ngIf",r.isEditar||r.isAdmin),e.xp6(1),e.Q6J("ngIf",r.isEliminar||r.isAdmin)}}function me(i,o){if(1&i&&(e.ynx(0),e.YNc(1,_e,16,8,"tr",34),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarInyectable)}}function pe(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",43),e._uU(2,"No existen registros disponibles"),e.qZA()())}function ge(i,o){if(1&i&&(e.TgZ(0,"ng-option",75),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido)}}function fe(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function ve(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,fe,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPaciente"))||null==n.errors?null:n.errors.required)}}function he(i,o){if(1&i&&(e.TgZ(0,"ng-option",75),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function Ze(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function be(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ze,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}function Ae(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Tipo de jeringa es requerida"),e.qZA())}function Te(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ae,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("jeringa"))||null==n.errors?null:n.errors.required)}}function xe(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medicamento es requerido"),e.qZA())}function Ce(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," El medicamento no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function qe(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,xe,2,0,"div",77),e.YNc(2,Ce,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("medicamento"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("medicamento"))||null==r.errors?null:r.errors.minlength)}}const b=function(i,o){return{"is-invalid":i,"is-valid":o}};function Se(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"h4",45),e._uU(2,"Agregar Inyectable"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",47),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.guardar())}),e.TgZ(5,"div",48)(6,"div",49)(7,"div",50)(8,"div",51)(9,"div",52)(10,"label",53),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",54),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",55),e.YNc(15,ge,2,2,"ng-option",56),e.qZA(),e.YNc(16,ve,2,1,"div",57),e.qZA()(),e.TgZ(17,"div",58)(18,"div",52)(19,"label",59),e._uU(20,"Personal de Salud"),e.qZA(),e.TgZ(21,"span",54),e._uU(22," *"),e.qZA(),e.TgZ(23,"ng-select",60),e.YNc(24,he,2,3,"ng-option",56),e.qZA(),e.YNc(25,be,2,1,"div",57),e.qZA()()(),e.TgZ(26,"div",50)(27,"div",51)(28,"div",52)(29,"label",61),e._uU(30,"Jeringa"),e.qZA(),e.TgZ(31,"span",54),e._uU(32," *"),e.qZA(),e.TgZ(33,"ng-select",62)(34,"ng-option",63),e._uU(35,"1 ml"),e.qZA(),e.TgZ(36,"ng-option",64),e._uU(37,"3 ml"),e.qZA(),e.TgZ(38,"ng-option",65),e._uU(39,"5 ml"),e.qZA(),e.TgZ(40,"ng-option",66),e._uU(41,"10 ml"),e.qZA(),e.TgZ(42,"ng-option",67),e._uU(43,"20 ml"),e.qZA()(),e.YNc(44,Te,2,1,"div",57),e.qZA()(),e.TgZ(45,"div",51)(46,"div",52)(47,"label",68),e._uU(48,"Fecha"),e.qZA(),e.TgZ(49,"span",54),e._uU(50," *"),e.qZA(),e._UZ(51,"input",69),e.qZA()()(),e.TgZ(52,"div",50)(53,"div",51)(54,"div",52)(55,"label",70),e._uU(56,"Medicamento"),e.qZA(),e.TgZ(57,"span",54),e._uU(58," *"),e.qZA(),e._UZ(59,"input",71),e.YNc(60,qe,3,2,"div",57),e.qZA()()()()(),e.TgZ(61,"div",72)(62,"button",73),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(63,"Cerrar"),e.qZA(),e.TgZ(64,"button",74),e._uU(65,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a,u,d,h,_,x,J;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(12,b,t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPaciente"))?null:r.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(15,b,t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(u=t.form.get("idPersonalSalud"))?null:u.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(18,b,t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.valid))),e.xp6(11),e.Q6J("ngIf",null==(h=t.form.get("jeringa"))?null:h.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(21,b,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid))),e.xp6(8),e.Q6J("ngClass",e.WLB(24,b,t.seGuardo&&(null==(x=t.form.get("medicamento"))?null:x.errors),t.seGuardo&&(null==(x=t.form.get("medicamento"))?null:x.valid))),e.xp6(1),e.Q6J("ngIf",null==(J=t.form.get("medicamento"))?null:J.errors)}}function Ue(i,o){if(1&i&&(e.TgZ(0,"ng-option",75),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.nombre+" "+t.apellido)}}function Ie(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El paciente es requerido"),e.qZA())}function ye(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ie,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPaciente"))||null==n.errors?null:n.errors.required)}}function Je(i,o){if(1&i&&(e.TgZ(0,"ng-option",75),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function Ne(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function Ee(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Ne,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}function Pe(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"Tipo de jeringa es requerida"),e.qZA())}function ke(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Pe,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("jeringa"))||null==n.errors?null:n.errors.required)}}function Oe(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medicamento es requerido"),e.qZA())}function Me(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1," El medicamento no cumple con el tama\xf1o m\xednimo de 2 caracteres "),e.qZA())}function Qe(i,o){if(1&i&&(e.TgZ(0,"div",76),e.YNc(1,Oe,2,0,"div",77),e.YNc(2,Me,2,0,"div",77),e.qZA()),2&i){const t=e.oxw(2);let n,r;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("medicamento"))||null==n.errors?null:n.errors.required),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("medicamento"))||null==r.errors?null:r.errors.minlength)}}function Ge(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"h4",45),e._uU(2,"Agregar Inyectable"),e.qZA(),e.TgZ(3,"button",46),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",47),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editar())}),e.TgZ(5,"div",48)(6,"div",49)(7,"div",50)(8,"div",51)(9,"div",52)(10,"label",53),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"span",54),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",55),e.YNc(15,Ue,2,2,"ng-option",56),e.qZA(),e.YNc(16,ye,2,1,"div",57),e.qZA()(),e.TgZ(17,"div",58)(18,"div",52)(19,"label",59),e._uU(20,"Personal de Salud"),e.qZA(),e.TgZ(21,"span",54),e._uU(22," *"),e.qZA(),e.TgZ(23,"ng-select",60),e.YNc(24,Je,2,3,"ng-option",56),e.qZA(),e.YNc(25,Ee,2,1,"div",57),e.qZA()()(),e.TgZ(26,"div",50)(27,"div",51)(28,"div",52)(29,"label",61),e._uU(30,"Jeringa"),e.qZA(),e.TgZ(31,"span",54),e._uU(32," *"),e.qZA(),e.TgZ(33,"ng-select",62)(34,"ng-option",63),e._uU(35,"1 ml"),e.qZA(),e.TgZ(36,"ng-option",64),e._uU(37,"3 ml"),e.qZA(),e.TgZ(38,"ng-option",65),e._uU(39,"5 ml"),e.qZA(),e.TgZ(40,"ng-option",66),e._uU(41,"10 ml"),e.qZA(),e.TgZ(42,"ng-option",67),e._uU(43,"20 ml"),e.qZA()(),e.YNc(44,ke,2,1,"div",57),e.qZA()(),e.TgZ(45,"div",51)(46,"div",52)(47,"label",68),e._uU(48,"Fecha"),e.qZA(),e.TgZ(49,"span",54),e._uU(50," *"),e.qZA(),e._UZ(51,"input",69),e.qZA()()(),e.TgZ(52,"div",50)(53,"div",51)(54,"div",52)(55,"label",70),e._uU(56,"Medicamento"),e.qZA(),e.TgZ(57,"span",54),e._uU(58," *"),e.qZA(),e._UZ(59,"input",71),e.YNc(60,Qe,3,2,"div",57),e.qZA()()()()(),e.TgZ(61,"div",72)(62,"button",73),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(63,"Cerrar"),e.qZA(),e.TgZ(64,"button",74),e._uU(65,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a,u,d,h,_,x,J;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(12,b,t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPaciente"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarPaciente),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPaciente"))?null:r.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(15,b,t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("idPersonalSalud"))?null:a.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(u=t.form.get("idPersonalSalud"))?null:u.errors),e.xp6(8),e.Q6J("ngClass",e.WLB(18,b,t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.errors),t.seGuardo&&(null==(d=t.form.get("jeringa"))?null:d.valid))),e.xp6(11),e.Q6J("ngIf",null==(h=t.form.get("jeringa"))?null:h.errors),e.xp6(7),e.Q6J("ngClass",e.WLB(21,b,t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.errors),t.seGuardo&&(null==(_=t.form.get("fecha"))?null:_.valid))),e.xp6(8),e.Q6J("ngClass",e.WLB(24,b,t.seGuardo&&(null==(x=t.form.get("medicamento"))?null:x.errors),t.seGuardo&&(null==(x=t.form.get("medicamento"))?null:x.valid))),e.xp6(1),e.Q6J("ngIf",null==(J=t.form.get("medicamento"))?null:J.errors)}}let ze=(()=>{class i{constructor(t,n,r,a){this.inyectableService=t,this.modalService=n,this.fb=r,this.tokenService=a,this.seGuardo=!1,this.page=0,this.size=2,this.sort="id,asc",this.maxSize=v.$,this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("INYECCIONES_","VER"),this.isCrear=this.tokenService.isPermisos("INYECCIONES_","CREAR"),this.isEditar=this.tokenService.isPermisos("INYECCIONES_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("INYECCIONES_","ELIMINAR"),this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({fecha:["",[l.kI.required]],medicamento:["",[l.kI.required,l.kI.minLength(2),l.kI.maxLength(100)]],jeringa:["",[l.kI.required]],idPaciente:["",[l.kI.required]],idPersonalSalud:["",[l.kI.required]]}),this.buscar.get("filter")?.valueChanges.pipe((0,g.b)(100),(0,A.x)()).subscribe(t=>{this.page=0,this.inyectableService.listarParametros(this.size,this.page,this.sort,t)}),this.inyectableService.listarPaciente(),this.inyectableService.listarMedico()}get listarCuraciones(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.content:[]}get listarTotal(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.totalElements:0}get filter(){return this.buscar.get("filter")?this.buscar.get("filter")?.value:""}get listarInyectable(){return this.inyectableService.inyectableList?this.inyectableService.inyectableList.content:[]}get listarPaciente(){return this.inyectableService.pacienteList?this.inyectableService.pacienteList.content:[]}get listarMedico(){return this.inyectableService.medicoList?this.inyectableService.medicoList:[]}eliminar(t){s().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&(this.inyectableService.eliminar(t).subscribe({next:r=>{r&&this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter)},error:r=>{s().fire({position:"center",title:"Error",text:r.error.mensaje,icon:"error"})}}),s().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}refreshSize(){this.page=0,this.inyectableService.listarParametros(this.size,this.page,this.sort,this.filter)}refresh(){this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter)}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}openLgEditar(t,n){this.inyectable=n,this.form.patchValue({medicamento:this.inyectable.medicamento,jeringa:this.inyectable.jeringa,fecha:this.inyectable.fecha,idPaciente:this.inyectable.pacienteDTO.id,idPersonalSalud:this.inyectable.personalSaludDTO.id}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.inyectableService.agregar(this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}editar(){this.seGuardo=!0,this.form.valid?this.inyectableService.editar(this.inyectable.id,this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.inyectableService.listarParametros(this.size,this.page-1,this.sort,this.filter),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:n=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:n.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}getFormattedDate(t){return t.toISOString().split("T")[0]}get formatDate(){return q.Z}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(se),e.Y36(T.FF),e.Y36(l.qu),e.Y36(y.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-inyectable"]],decls:63,vars:17,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"fs-2","text-center","m-1","m-lg-0"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"mb-2","d-flex","align-items-center"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","aria-label","pageSize",1,"form-select",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],[3,"formGroup"],[1,"d-flex","align-items-center","mb-3"],["for","filter",1,"col-form-label","me-2"],["id","filter","type","text","formControlName","filter",1,"form-control"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col",2,"width","40px"],["scope","col"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"d-flex","justify-content-between"],[1,"text-black"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],["scope","row"],[1,"d-flex","gap-1"],["type","button","class","btn btn-outline-success me-2",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-6"],[1,"mb-3"],["for","idPaciente",1,"form-label"],[1,"text-danger"],["formControlName","idPaciente","placeholder","Seleccione","id","idPaciente",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-lg-6"],["for","idPersonalSalud",1,"form-label"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],["for","jeringa",1,"form-label"],["formControlName","jeringa","id","jeringa","placeholder","Seleccione una opci\xf3n",3,"ngClass"],["value","1 ml"],["value","3 ml"],["value","5 ml"],["value","10 ml"],["value","20 ml"],["for","fecha ",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"ngClass"],["for","medicamento",1,"form-label"],["type","text","autocomplete","off","formControlName","medicamento","id","medicamento","placeholder","Ingrese la medicamento",1,"form-control",3,"ngClass"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Inyectable"),e.qZA(),e.TgZ(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e._uU(8,"Inicio"),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"Inyectable"),e.qZA()()()(),e.YNc(11,ce,4,0,"div",8),e.TgZ(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15,"Mostrar:"),e.qZA(),e.TgZ(16,"select",12),e.NdJ("ngModelChange",function(a){return n.size=a})("ngModelChange",function(){return n.refreshSize()}),e.TgZ(17,"option",13),e._uU(18,"2"),e.qZA(),e.TgZ(19,"option",14),e._uU(20,"4"),e.qZA(),e.TgZ(21,"option",14),e._uU(22,"6"),e.qZA(),e.TgZ(23,"option",14),e._uU(24,"8"),e.qZA(),e.TgZ(25,"option",14),e._uU(26,"10"),e.qZA()()(),e.TgZ(27,"form",15)(28,"div",16)(29,"label",17),e._uU(30,"Buscar:"),e.qZA(),e._UZ(31,"input",18),e.qZA()()(),e.TgZ(32,"div",19)(33,"table",20)(34,"thead")(35,"tr",21)(36,"th",22),e._uU(37,"#"),e.qZA(),e.TgZ(38,"th",23),e._uU(39,"Nombre Paciente"),e.qZA(),e.TgZ(40,"th",23),e._uU(41,"Fecha"),e.qZA(),e.TgZ(42,"th",23),e._uU(43,"Medicamento"),e.qZA(),e.TgZ(44,"th",23),e._uU(45,"Jeringa"),e.qZA(),e.TgZ(46,"th",23),e._uU(47,"Personal M\xe9dico"),e.qZA(),e.TgZ(48,"th",23),e._uU(49,"Acciones"),e.qZA()()(),e.TgZ(50,"tbody"),e.YNc(51,me,2,1,"ng-container",24),e.YNc(52,pe,3,0,"ng-template",null,25,e.W1O),e.qZA()(),e.TgZ(54,"div",26)(55,"div")(56,"p",27),e._uU(57),e.qZA()(),e.TgZ(58,"ngb-pagination",28),e.NdJ("pageChange",function(a){return n.page=a})("pageChange",function(){return n.refresh()}),e.qZA()()()(),e.YNc(59,Se,66,27,"ng-template",null,29,e.W1O),e.YNc(61,Ge,66,27,"ng-template",null,30,e.W1O)),2&t){const r=e.MAs(53);e.xp6(11),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(5),e.Q6J("ngModel",n.size),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",8),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("formGroup",n.buscar),e.xp6(24),e.Q6J("ngIf",n.listarInyectable.length>0)("ngIfElse",r),e.xp6(6),e.hij("Total de registros: ",n.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",n.listarTotal)("page",n.page)("pageSize",n.size)("maxSize",n.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[p.mk,p.sg,p.O5,f.yS,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,T.N9,I.w9,I.jq]}),i})(),Le=(()=>{class i{constructor(t){this.http=t,this.apiActividades=`${m.N.api}/actividades`,this.apiMedico=`${m.N.api}/personal-salud`}agregar(t){return this.http.post(`${this.apiActividades}`,t)}eliminar(t){return this.http.delete(`${this.apiActividades}/${t}`)}editar(t,n){return this.http.put(`${this.apiActividades}/${t}`,n)}listarParametros(t=2,n=0,r="id,asc",a=""){this.http.get(`${this.apiActividades}`,{params:{page:n,size:t,sort:r,filtro:a}}).subscribe({next:u=>{this.actividadesList=u}})}listarMedico(){this.http.get(`${this.apiMedico}/getAll-personaltrue`).subscribe({next:t=>{this.medicoList=t}})}listarActividadesFecha(t){this.http.get(`${this.apiActividades}/leer2?fecha=${t}`).subscribe({next:n=>{this.actividadesListTable=n}})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(U.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Fe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",44)(1,"div")(2,"button",45),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(),a=e.MAs(87);return e.KtG(r.openLg(a))}),e._UZ(3,"i",46),e.qZA()()()}}function Ye(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2),u=e.MAs(89);return e.KtG(a.openLgEditar(u,r))}),e._UZ(1,"i",54),e.qZA()}}function we(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.eliminar(r.id))}),e._UZ(1,"i",56),e.qZA()}}function $e(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"th",48),e._uU(2),e.qZA(),e.TgZ(3,"td",49),e._uU(4),e.qZA(),e.TgZ(5,"td",49),e._uU(6),e.qZA(),e.TgZ(7,"td",49),e._uU(8),e.qZA(),e.TgZ(9,"td",49),e._uU(10),e.qZA(),e.TgZ(11,"td",49),e._uU(12),e.qZA(),e.TgZ(13,"td",49),e._uU(14),e.qZA(),e.TgZ(15,"td",50),e.YNc(16,Ye,2,0,"button",51),e.YNc(17,we,2,0,"button",52),e.qZA()()),2&i){const t=o.$implicit,n=o.index,r=e.oxw(2);e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(t.peso),e.xp6(2),e.Oqu(t.masaCorporal),e.xp6(2),e.Oqu(t.talla),e.xp6(2),e.Oqu(t.tensionArterial),e.xp6(2),e.Oqu(t.temperatura),e.xp6(2),e.Q6J("ngIf",r.isEditar||r.isAdmin),e.xp6(1),e.Q6J("ngIf",r.isEliminar||r.isAdmin)}}function De(i,o){if(1&i&&(e.ynx(0),e.YNc(1,$e,18,9,"tr",47),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.listarActividades)}}function Re(i,o){1&i&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2,"No existen registros disponibles"),e.qZA()())}function Be(i,o){if(1&i&&(e.TgZ(0,"ng-option",90),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function je(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function Ve(i,o){if(1&i&&(e.TgZ(0,"div",91),e.YNc(1,je,2,0,"div",92),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}const N=function(i,o){return{"is-invalid":i,"is-valid":o}};function We(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"h4",59),e._uU(2,"Agregar Actividades de Enfermeria"),e.qZA(),e.TgZ(3,"button",60),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",61),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.guardar())}),e.TgZ(5,"div",62)(6,"div",63)(7,"div",64)(8,"div",65)(9,"div",66)(10,"label",67),e._uU(11,"Personal de Salud"),e.qZA(),e.TgZ(12,"span",68),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",69),e.YNc(15,Be,2,3,"ng-option",70),e.qZA(),e.YNc(16,Ve,2,1,"div",71),e.qZA()(),e.TgZ(17,"div",72)(18,"div",66)(19,"label",73),e._uU(20,"Fecha"),e.qZA(),e.TgZ(21,"span",68),e._uU(22," *"),e.qZA(),e._UZ(23,"input",74),e.qZA()()(),e.TgZ(24,"div",64)(25,"div",75)(26,"div",66)(27,"div")(28,"label",76),e._uU(29,"Masa Corporal"),e.qZA()(),e.TgZ(30,"div"),e._UZ(31,"input",77),e.qZA()()(),e.TgZ(32,"div",75)(33,"div",66)(34,"div")(35,"label",78),e._uU(36,"Peso"),e.qZA()(),e.TgZ(37,"div"),e._UZ(38,"input",79),e.qZA()()(),e.TgZ(39,"div",75)(40,"div",66)(41,"div")(42,"label",80),e._uU(43,"Talla"),e.qZA()(),e.TgZ(44,"div"),e._UZ(45,"input",81),e.qZA()()(),e.TgZ(46,"div",75)(47,"div",66)(48,"div")(49,"label",82),e._uU(50,"Temperatura"),e.qZA()(),e.TgZ(51,"div"),e._UZ(52,"input",83),e.qZA()()(),e.TgZ(53,"div",9)(54,"div")(55,"div")(56,"label",84),e._uU(57,"Tensi\xf3n Arterial"),e.qZA()(),e.TgZ(58,"div",85),e._UZ(59,"input",86),e.qZA()()()()()(),e.TgZ(60,"div",87)(61,"button",88),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(62,"Cerrar"),e.qZA(),e.TgZ(63,"button",89),e._uU(64,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(6,N,t.seGuardo&&(null==(n=t.form.get("idPersonalSalud"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPersonalSalud"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPersonalSalud"))?null:r.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(9,N,t.seGuardo&&(null==(a=t.form.get("fecha"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("fecha"))?null:a.valid)))}}function Ke(i,o){if(1&i&&(e.TgZ(0,"ng-option",90),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.AsE("",t.nombre," ",t.apellido,"")}}function He(i,o){1&i&&(e.TgZ(0,"div"),e._uU(1,"El medico es requerido"),e.qZA())}function Xe(i,o){if(1&i&&(e.TgZ(0,"div",91),e.YNc(1,He,2,0,"div",92),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(1),e.Q6J("ngIf",null==(n=t.form.get("idPersonalSalud"))||null==n.errors?null:n.errors.required)}}function et(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",58)(1,"h4",59),e._uU(2,"Modificar Actividades"),e.qZA(),e.TgZ(3,"button",60),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.dismiss("Cross click"))}),e.qZA()(),e.TgZ(4,"form",61),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.editar())}),e.TgZ(5,"div",62)(6,"div",63)(7,"div",64)(8,"div",65)(9,"div",66)(10,"label",67),e._uU(11,"Personal de Salud"),e.qZA(),e.TgZ(12,"span",68),e._uU(13," *"),e.qZA(),e.TgZ(14,"ng-select",69),e.YNc(15,Ke,2,3,"ng-option",70),e.qZA(),e.YNc(16,Xe,2,1,"div",71),e.qZA()(),e.TgZ(17,"div",72)(18,"div",66)(19,"label",73),e._uU(20,"Fecha"),e.qZA(),e.TgZ(21,"span",68),e._uU(22," *"),e.qZA(),e._UZ(23,"input",74),e.qZA()()(),e.TgZ(24,"div",64)(25,"div",75)(26,"div",66)(27,"div")(28,"label",76),e._uU(29,"Masa Corporal"),e.qZA()(),e.TgZ(30,"div"),e._UZ(31,"input",77),e.qZA()()(),e.TgZ(32,"div",75)(33,"div",66)(34,"div")(35,"label",78),e._uU(36,"Peso"),e.qZA()(),e.TgZ(37,"div"),e._UZ(38,"input",79),e.qZA()()(),e.TgZ(39,"div",75)(40,"div",66)(41,"div")(42,"label",80),e._uU(43,"Talla"),e.qZA()(),e.TgZ(44,"div"),e._UZ(45,"input",81),e.qZA()()(),e.TgZ(46,"div",75)(47,"div",66)(48,"div")(49,"label",82),e._uU(50,"Temperatura"),e.qZA()(),e.TgZ(51,"div"),e._UZ(52,"input",83),e.qZA()()(),e.TgZ(53,"div",9)(54,"div")(55,"div")(56,"label",84),e._uU(57,"Tensi\xf3n Arterial"),e.qZA()(),e.TgZ(58,"div",85),e._UZ(59,"input",86),e.qZA()()()()()(),e.TgZ(60,"div",87)(61,"button",88),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.KtG(a.close("Close click"))}),e._uU(62,"Cerrar"),e.qZA(),e.TgZ(63,"button",89),e._uU(64,"Guardar"),e.qZA()()()}if(2&i){const t=e.oxw();let n,r,a;e.xp6(4),e.Q6J("formGroup",t.form),e.xp6(10),e.Q6J("ngClass",e.WLB(6,N,t.seGuardo&&(null==(n=t.form.get("idPersonalSalud"))?null:n.errors),t.seGuardo&&(null==(n=t.form.get("idPersonalSalud"))?null:n.valid))),e.xp6(1),e.Q6J("ngForOf",t.listarMedico),e.xp6(1),e.Q6J("ngIf",null==(r=t.form.get("idPersonalSalud"))?null:r.errors),e.xp6(7),e.Q6J("max",t.val())("ngClass",e.WLB(9,N,t.seGuardo&&(null==(a=t.form.get("fecha"))?null:a.errors),t.seGuardo&&(null==(a=t.form.get("fecha"))?null:a.valid)))}}const tt=(new Date).getMonth()+1;let it=(()=>{class i{constructor(t,n,r,a){this.actividadesService=t,this.modalService=n,this.fb=r,this.tokenService=a,this.mesSeleccionado=tt.toString(),this.seGuardo=!1,this.page=0,this.size=2,this.sort="fecha,asc",this.maxSize=v.$,this.isVer=!1,this.isCrear=!1,this.isEditar=!1,this.isEliminar=!1,this.isAdmin=!1}ngOnInit(){this.isAdmin=this.tokenService.isSuperAdmin(),this.isVer=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","VER"),this.isCrear=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","CREAR"),this.isEditar=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","EDITAR"),this.isEliminar=this.tokenService.isPermisos("ACTIVIDADES_ENFERMERIA_","ELIMINAR"),this.buscar=this.fb.group({filter:["",[]]}),this.form=this.fb.group({masaCorporal:[""],peso:[""],talla:[""],tensionArterial:[""],temperatura:[""],idPersonalSalud:["",[l.kI.required]],fecha:[this.getFormattedDate(new Date),[l.kI.required]]}),this.actividadesService.listarParametros(this.size,this.page,this.sort,this.mesSeleccionado),this.actividadesService.listarMedico()}get listarMedico(){return this.actividadesService.medicoList?this.actividadesService.medicoList:[]}get listarActividades(){return this.actividadesService.actividadesList?this.actividadesService.actividadesList.content:[]}get listarActividadesFecha(){return this.actividadesService.actividadesListTable?this.actividadesService.actividadesListTable.content:[]}get listarTotal(){return this.actividadesService.actividadesList?this.actividadesService.actividadesList.totalElements:0}openLg(t){this.seGuardo=!1,this.form.reset(),this.form.patchValue({fecha:this.getFormattedDate(new Date)}),this.modalService.open(t,{size:"lg"})}openLgEditar(t,n){this.actividades=n,this.form.patchValue({masaCorporal:this.actividades.masaCorporal,peso:this.actividades.peso,talla:this.actividades.talla,tensionArterial:this.actividades.tensionArterial,temperatura:this.actividades.temperatura,idPersonalSalud:this.actividades.idPersonalSalud,fecha:this.actividades.fecha}),this.modalService.open(t,{size:"lg"})}guardar(){this.seGuardo=!0,this.form.valid?this.actividadesService.agregar(this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.mesSeleccionado),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:t=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:t.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}eliminar(t){s().fire({title:"\xbfConfirmar eliminaci\xf3n?",text:"Esta acci\xf3n no se puede deshacer.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, eliminar",cancelButtonText:"Cancelar"}).then(n=>{n.isConfirmed&&(this.actividadesService.eliminar(t).subscribe({next:r=>{r&&this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.mesSeleccionado)},error:r=>{s().fire({position:"center",title:"Error",text:r.error.mensaje,icon:"error"})}}),s().fire("Eliminado","El registro ha sido eliminado exitosamente.","success"))})}editar(){this.seGuardo=!0,this.form.valid?this.actividadesService.editar(this.actividades.id,this.form.value).subscribe({next:()=>{s().fire({position:"center",title:"\xa1\xc9xito!",text:"Los datos se han guardado correctamente.",icon:"success"}),this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.mesSeleccionado),this.form.reset(),this.seGuardo=!1,this.modalService.dismissAll()},error:n=>{s().fire({position:"center",title:"Ocurri\xf3 un error",text:n.error.mensaje,icon:"error"})}}):s().fire({position:"center",title:"Datos incompletos",text:"Por favor, revisa los campos marcados.",icon:"warning"})}refreshSize(){this.page=0,this.actividadesService.listarParametros(this.size,this.page,this.sort,this.mesSeleccionado)}refresh(){this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.mesSeleccionado)}openLgVer(t,n){this.actividades=n,this.actividadesService.listarActividadesFecha(this.actividades.fecha),this.modalService.open(t,{size:"lg"})}onActividadesChange(){this.actividadesService.listarParametros(this.size,this.page-1,this.sort,this.mesSeleccionado)}getFormattedDate(t){return t.toISOString().split("T")[0]}val(){return this.getFormattedDate(new Date)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Le),e.Y36(T.FF),e.Y36(l.qu),e.Y36(y.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-otras-actividades"]],decls:90,vars:17,consts:[[1,"container-full"],[1,"header__page","d-flex","flex-column","flex-md-row"],[1,"fs-2","text-center","m-1","m-lg-0"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["aria-current","page",1,"breadcrumb-item","active"],[1,"d-flex","justify-content-between"],[1,"col-3"],[1,"mb-12"],["for","mes",1,"form-label"],["name","mes","id","mes","placeholder","Seleccione una opci\xf3n",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],["value","9"],["value","10"],["value","11"],["value","12"],[1,"d-flex","justify-content-between","mb-3"],[1,"d-flex","align-items-center","mb-3"],["for","pageSize",1,"col-form-label","me-2"],["id","pageSize","aria-label","pageSize",1,"form-select",3,"ngModel","ngModelChange"],["selected","",3,"ngValue"],[3,"ngValue"],["class","d-flex justify-content-end align-items-center",4,"ngIf"],[1,"table-responsive","mt-5"],[1,"table"],[1,"border-dark"],["scope","col",2,"width","40px"],["scope","col",2,"text-align","center"],["scope","col"],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"text-black"],[3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["content",""],["contentEdit",""],[1,"d-flex","justify-content-end","align-items-center"],["type","button",1,"btn","btn-primary","me-4",3,"click"],[1,"bi","bi-plus-square"],[4,"ngFor","ngForOf"],["scope","row"],[2,"text-align","center"],[1,"d-flex","gap-1"],["type","button","class","btn btn-outline-success me-2",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-danger",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-success","me-2",3,"click"],[1,"bi","bi-pencil"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-x-lg"],["colspan","7",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[3,"formGroup","ngSubmit"],[1,"modal-body"],[1,"container-fluid"],[1,"row"],[1,"col-lg-6"],[1,"mb-3"],["for","idPersonalSalud",1,"form-label"],[1,"text-danger"],["formControlName","idPersonalSalud","id","idPersonalSalud","placeholder","Seleccione","bindLabel","nombre","bindValue","id",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],[1,"col-6"],["for","fecha ",1,"form-label"],["type","date","formControlName","fecha","id","fecha",1,"form-control",3,"max","ngClass"],[1,"col-2"],["for","masaCorporal",1,"form-label"],["type","number","id","masaCorporal","formControlName","masaCorporal",1,"form-control"],["for","peso",1,"form-label"],["type","number","id","peso","formControlName","peso",1,"form-control"],["for","talla",1,"form-label"],["type","number","id","talla","formControlName","talla",1,"form-control"],["for","temperatura",1,"form-label"],["type","number","id","temperatura","formControlName","temperatura",1,"form-control"],["for","tensionArterial",1,"form-label"],[1,"col-7"],["type","number","id","tensionArterial","formControlName","tensionArterial",1,"form-control"],[1,"modal-footer"],["type","button",1,"btn","btn-light",3,"click"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Otras Actividades de Enfermeria"),e.qZA(),e.TgZ(4,"nav",3)(5,"ol",4)(6,"li",5)(7,"a",6),e._uU(8,"Inicio"),e.qZA()(),e.TgZ(9,"li",7),e._uU(10,"Otras Actividades"),e.qZA()()()(),e.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"label",11),e._uU(15,"Mes"),e.qZA(),e.TgZ(16,"ng-select",12),e.NdJ("ngModelChange",function(a){return n.mesSeleccionado=a})("ngModelChange",function(){return n.onActividadesChange()}),e.TgZ(17,"ng-option",13),e._uU(18,"Enero"),e.qZA(),e.TgZ(19,"ng-option",14),e._uU(20,"Febrero"),e.qZA(),e.TgZ(21,"ng-option",15),e._uU(22,"Marzo"),e.qZA(),e.TgZ(23,"ng-option",16),e._uU(24,"Abril"),e.qZA(),e.TgZ(25,"ng-option",17),e._uU(26,"Mayo"),e.qZA(),e.TgZ(27,"ng-option",18),e._uU(28,"Junio"),e.qZA(),e.TgZ(29,"ng-option",19),e._uU(30,"Julio"),e.qZA(),e.TgZ(31,"ng-option",20),e._uU(32,"Agosto"),e.qZA(),e.TgZ(33,"ng-option",21),e._uU(34,"Septiembre"),e.qZA(),e.TgZ(35,"ng-option",22),e._uU(36,"Octubre"),e.qZA(),e.TgZ(37,"ng-option",23),e._uU(38,"Noviembre"),e.qZA(),e.TgZ(39,"ng-option",24),e._uU(40,"Diciembre"),e.qZA()()()()(),e.TgZ(41,"div",25)(42,"div",26)(43,"label",27),e._uU(44,"Mostrar :"),e.qZA(),e.TgZ(45,"select",28),e.NdJ("ngModelChange",function(a){return n.size=a})("ngModelChange",function(){return n.refreshSize()}),e.TgZ(46,"option",29),e._uU(47,"2"),e.qZA(),e.TgZ(48,"option",30),e._uU(49,"4"),e.qZA(),e.TgZ(50,"option",30),e._uU(51,"6"),e.qZA(),e.TgZ(52,"option",30),e._uU(53,"8"),e.qZA(),e.TgZ(54,"option",30),e._uU(55,"10"),e.qZA()()(),e.YNc(56,Fe,4,0,"div",31),e.qZA(),e.TgZ(57,"div",32)(58,"table",33)(59,"thead")(60,"tr",34)(61,"th",35),e._uU(62,"#"),e.qZA(),e.TgZ(63,"th",36),e._uU(64,"Fecha"),e.qZA(),e.TgZ(65,"th",36),e._uU(66,"Peso"),e.qZA(),e.TgZ(67,"th",36),e._uU(68,"Masa Corporal"),e.qZA(),e.TgZ(69,"th",36),e._uU(70,"Talla"),e.qZA(),e.TgZ(71,"th",36),e._uU(72,"Tension Arterial"),e.qZA(),e.TgZ(73,"th",36),e._uU(74,"Temperatura"),e.qZA(),e.TgZ(75,"th",37),e._uU(76,"Acciones"),e.qZA()()(),e.TgZ(77,"tbody"),e.YNc(78,De,2,1,"ng-container",38),e.YNc(79,Re,3,0,"ng-template",null,39,e.W1O),e.qZA()(),e.TgZ(81,"div",8)(82,"div")(83,"p",40),e._uU(84),e.qZA()(),e.TgZ(85,"ngb-pagination",41),e.NdJ("pageChange",function(a){return n.page=a})("pageChange",function(){return n.refresh()}),e.qZA()()()(),e.YNc(86,We,65,12,"ng-template",null,42,e.W1O),e.YNc(88,et,65,12,"ng-template",null,43,e.W1O)),2&t){const r=e.MAs(80);e.xp6(16),e.Q6J("ngModel",n.mesSeleccionado),e.xp6(29),e.Q6J("ngModel",n.size),e.xp6(1),e.Q6J("ngValue",2),e.xp6(2),e.Q6J("ngValue",4),e.xp6(2),e.Q6J("ngValue",6),e.xp6(2),e.Q6J("ngValue",8),e.xp6(2),e.Q6J("ngValue",10),e.xp6(2),e.Q6J("ngIf",n.isCrear||n.isAdmin),e.xp6(22),e.Q6J("ngIf",n.listarActividades.length>0)("ngIfElse",r),e.xp6(6),e.hij("Total de registros: ",n.listarTotal,""),e.xp6(1),e.Q6J("collectionSize",n.listarTotal)("page",n.page)("pageSize",n.size)("maxSize",n.maxSize)("rotate",!0)("boundaryLinks",!0)}},dependencies:[p.mk,p.sg,p.O5,f.yS,l._Y,l.YN,l.Kr,l.Fj,l.wV,l.EJ,l.JJ,l.JL,l.On,l.sg,l.u,T.N9,I.w9,I.jq]}),i})();var P=c(2466);const nt=[{path:"curaciones",component:le,canActivate:[P.i],data:{expectedAuthorities:["CURACIONES"]}},{path:"inyectable",component:ze,canActivate:[P.i],data:{expectedAuthorities:["INYECCIONES"]}},{path:"otrasActividades",component:it,canActivate:[P.i],data:{expectedAuthorities:["ACTIVIDADES_ENFERMERIA"]}}];let rt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[f.Bz.forChild(nt),f.Bz]}),i})(),ot=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[p.ez,rt,l.u5,l.UX,T.jF,T.ZS,I.A0]}),i})()},5861:(E,C,c)=>{function p(l,v,q,g,A,Z,s){try{var e=l[Z](s),m=e.value}catch(U){return void q(U)}e.done?v(m):Promise.resolve(m).then(g,A)}function f(l){return function(){var v=this,q=arguments;return new Promise(function(g,A){var Z=l.apply(v,q);function s(m){p(Z,g,A,s,e,"next",m)}function e(m){p(Z,g,A,s,e,"throw",m)}s(void 0)})}}c.d(C,{Z:()=>f})}}]);